"use strict";var xt=Object.defineProperty;var Mt=(n,e,t)=>e in n?xt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Q=(n,e,t)=>(Mt(n,typeof e!="symbol"?e+"":e,t),t);const y=require("obsidian");function $e(n){return n.length>0?n.replace(/^(.{3})(.*)(.{4})$/,"$1****$3"):""}const ae="cloudflare-ai",it="Cloudflare AI";var rt=(n=>(n.LLAMA_70B_FAST="@cf/meta/llama-3.3-70b-instruct-fp8-fast",n.LLAMA_1B="@cf/meta/llama-3.2-1b-instruct",n.LLAMA_3B="@cf/meta/llama-3.2-3b-instruct",n.LLAMA_8B="@cf/meta/llama-3.1-8b-instruct",n.LLAMA_8B_FP8="@cf/meta/llama-3.1-8b-instruct-fp8",n.LLAMA_8B_FAST="@cf/meta/llama-3.1-8b-instruct-fast",n.LLAMA_8B_AWQ="@cf/meta/llama-3.1-8b-instruct-awq",n.LLAMA_70B="@cf/meta/llama-3.1-70b-instruct",n))(rt||{});const Tt="@cf/meta/llama-3.1-8b-instruct-fast";var at=(n=>(n.BGE_SMALL="@cf/baai/bge-small-en-v1.5",n.BGE_BASE="@cf/baai/bge-base-en-v1.5",n.BGE_LARGE="@cf/baai/bge-large-en-v1.5",n))(at||{});const It="@cf/baai/bge-base-en-v1.5",Nt={cloudflareAccountId:"",cloudflareAiGatewayId:"",cloudflareAiApiKey:"",cloudflareVectorizeApiKey:"",modelId:Tt,maxTokens:256,temperature:.6,textEmbeddingsModelId:It,vectorizeIndexName:"obsidian-notes",topK:3,minSimilarityScore:.7,ignoredFolders:[],syncEnabled:!1,autoSyncInterval:30,cloudflareAiApiKeySaved:!1,cloudflareVectorizeApiKeySaved:!1,customTemplatesFolder:"ai/templates",logLevel:"error"},Rt={continue:{name:"continue",description:"Continue writing from the current text",prompt:`Continue this text naturally, maintaining the same style and tone. Only return the continuation, no explanations or other text:

{{text}}`},summarise:{name:"summarise",description:"Summarise the selected text",prompt:`Provide a concise summary of this text. Return only the summary, no explanations or other text:

{{text}}`},expand:{name:"expand",description:"Expand on the selected text",prompt:`Expand this text with more details and examples. Return only the expanded text, no explanations or other text:

{{text}}`},rewrite:{name:"rewrite",description:"Rewrite the selected text",prompt:`Rewrite this text to improve clarity and flow. Return only the rewritten text, no explanations or other text:

{{text}}`},simplify:{name:"simplify",description:"Simplify the selected text",prompt:`Simplify this text to make it easier to understand. Return only the simplified text, no explanations or other text:

{{text}}`},"suggest-tags":{name:"suggest-tags",description:"Suggest tags for the selected text",prompt:`Suggest tags for this text. Return only the tags, no explanations or other text:

{{text}}`},"generate-title":{name:"generate-title",description:"Generate a title from the content",prompt:`Generate a clear, concise title for this text. Return only the title, no quotes or extra text. (do not use * " \\ / < > : | ? .):

{{text}}`},"generate-text":{name:"Generate text",description:"Generate text with custom variables",prompt:`Write a {{style}} passage about {{topic}} that is {{length}} long.

Use this context:
{{text}}`,variables:["style","topic","length"]},brainstorm:{name:"brainstorm",description:"Brainstorm ideas for the selected text",prompt:`Brainstorm ideas for this text. Return only the ideas, no explanations or other text:

{{text}}`}};var st,nt;const le=((nt=(st=window.electron)==null?void 0:st.remote)==null?void 0:nt.safeStorage)??{isEncryptionAvailable:()=>!1,encryptString:n=>Buffer.from(n),decryptString:n=>n.toString()},Lt={level:"error",useTimestamp:!0,output:console,serviceName:it};class Pt{constructor(){this.config={...Lt},this.listeners=new Set}setConfig(e){this.config={...this.config,...e},this.notifyListeners()}getConfig(){return this.config}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e(this.config))}}const ve=new Pt,ot=n=>{ve.setConfig(n)},Ft=()=>ve.getConfig();class $t extends y.PluginSettingTab{constructor(e,t){super(e,t),this.temporaryAiApiKey="",this.temporaryVectorizeApiKey="",this.plugin=t,this.settings=t.settings}createAccountSettings(e){new y.Setting(e).setName("Cloudflare account ID").setDesc("The ID of your Cloudflare account").addText(t=>t.setPlaceholder("Enter your Cloudflare Account ID").setValue(this.settings.cloudflareAccountId).onChange(async s=>{this.settings.cloudflareAccountId=s,await this.plugin.saveSettings()})),new y.Setting(e).setName("Cloudflare AI Gateway ID").setDesc("The ID of your Cloudflare AI Gateway").addText(t=>t.setPlaceholder("Enter your Cloudflare AI Gateway ID").setValue(this.settings.cloudflareAiGatewayId).onChange(async s=>{this.settings.cloudflareAiGatewayId=s,await this.plugin.saveSettings()}))}createApiKeySettings(e){this.createApiKeySetting(e,"Cloudflare AI API key","The API key for your Cloudflare AI Gateway","cloudflareAiApiKey","cloudflareAiApiKeySaved",this.temporaryAiApiKey,t=>this.temporaryAiApiKey=t),this.createApiKeySetting(e,"Cloudflare Vectorize API key","The API key for your Cloudflare Vectorize API","cloudflareVectorizeApiKey","cloudflareVectorizeApiKeySaved",this.temporaryVectorizeApiKey,t=>this.temporaryVectorizeApiKey=t)}createApiKeySetting(e,t,s,i,r,a,o){this.plugin.settings[r]?new y.Setting(e).setName(t).setDesc(s).addText(u=>{try{let l=this.plugin.settings[i];if(le.isEncryptionAvailable()&&l){const h=le.decryptString(Buffer.from(l,"base64"));u.setPlaceholder($e(h))}else u.setPlaceholder($e(l))}catch{u.setPlaceholder("********")}u.setDisabled(!0)}).addButton(u=>{u.setButtonText("Remove API Key").onClick(async()=>{this.plugin.settings[i]="",this.plugin.settings[r]=!1,await this.plugin.saveSettings(),new y.Notice(`${t} removed`),this.display()})}):new y.Setting(e).setName(t).setDesc(s).addText(u=>u.setPlaceholder(`Enter your ${t}`).onChange(l=>o(l))).addButton(u=>{u.setButtonText("Save API Key").onClick(async()=>{if(a)try{if(le.isEncryptionAvailable()){const l=le.encryptString(a);this.plugin.settings[i]=Buffer.from(l).toString("base64")}else this.plugin.settings[i]=a;this.plugin.settings[r]=!0,o(""),await this.plugin.saveSettings(),new y.Notice(`${t} saved successfully`),this.display()}catch(l){new y.Notice("Failed to save API key"),console.error(l)}else new y.Notice("Please enter an API key")})})}createModelSettings(e){new y.Setting(e).setName("Text model").setHeading(),new y.Setting(e).setName("Model ID").setDesc("The ID of the text model to use").addDropdown(t=>t.addOptions(Object.fromEntries(Object.entries(rt).map(([s,i])=>{var r;return[i,((r=i.split("/").pop())==null?void 0:r.replace(/-/g," ").toUpperCase())??i]}))).setValue(this.settings.modelId).onChange(async s=>{this.settings.modelId=s,await this.plugin.saveSettings()})),this.createNumberSetting(e,"Max tokens","The maximum number of tokens to generate","maxTokens",1,1/0),this.createNumberSetting(e,"Temperature","The temperature of the text model","temperature",0,5,!0)}createVectorizeSettings(e){new y.Setting(e).setName("Cloudflare Vectorize").setHeading(),new y.Setting(e).setName("Vectorize index name").setDesc("The name of the index").addText(t=>t.setPlaceholder("Enter the name of the index to use").setValue(this.settings.vectorizeIndexName).onChange(async s=>{this.settings.vectorizeIndexName=s,await this.plugin.saveSettings()})),new y.Setting(e).setName("Text embeddings model ID").setDesc("The ID of the text embeddings model to use").addDropdown(t=>t.addOptions(Object.fromEntries(Object.entries(at).map(([s,i])=>{var r;return[i,((r=i.split("/").pop())==null?void 0:r.replace(/-/g," ").toUpperCase())??i]}))).setValue(this.settings.textEmbeddingsModelId).onChange(async s=>{this.settings.textEmbeddingsModelId=s,await this.plugin.saveSettings()})),this.createNumberSetting(e,"Top k","The number of results to return","topK",1,1/0),this.createNumberSetting(e,"Min similarity score","The minimum similarity score to return","minSimilarityScore",0,1,!0)}createSyncSettings(e){new y.Setting(e).setName("Sync").setHeading(),new y.Setting(e).setName("Ignored folders").setDesc("Folders to ignore when syncing notes, separated by commas").addText(t=>t.setPlaceholder("Enter the folders to ignore").setValue(this.settings.ignoredFolders.join(",")).onChange(async s=>{this.settings.ignoredFolders=s.split(",").filter(Boolean),await this.plugin.saveSettings()})),new y.Setting(e).setName("Enable auto sync").setDesc("Automatically sync notes at regular intervals").addToggle(t=>t.setValue(this.settings.syncEnabled).onChange(async s=>{this.settings.syncEnabled=s,await this.plugin.saveSettings()})),this.createNumberSetting(e,"Sync interval","How often to sync (in minutes)","autoSyncInterval",1,1/0)}createTextGeneratorSettings(e){new y.Setting(e).setName("Text Generator").setHeading(),new y.Setting(e).setName("Custom templates folder").setDesc("The folder to store custom templates").addText(t=>t.setPlaceholder("Enter the folder to store custom templates").setValue(this.settings.customTemplatesFolder).onChange(async s=>{this.settings.customTemplatesFolder=s,await this.plugin.saveSettings()}))}createLoggerSettings(e){new y.Setting(e).setName("Logging").setHeading(),new y.Setting(e).setName("Log Level").setDesc("Set the logging level for the plugin").addDropdown(t=>t.addOptions({error:"Error",warn:"Warning",info:"Info",debug:"Debug"}).setValue(this.settings.logLevel||"error").onChange(async s=>{this.settings.logLevel=s,ot({level:s}),await this.plugin.saveSettings()}))}createNumberSetting(e,t,s,i,r,a,o=!1){new y.Setting(e).setName(t).setDesc(s).addText(c=>{var u;return c.setPlaceholder(t).setValue(((u=this.plugin.settings[i])==null?void 0:u.toString())??"").onChange(async l=>{const h=o?parseFloat(l):parseInt(l);!isNaN(h)&&h>=r&&h<=a?(this.plugin.settings[i]=h,await this.plugin.saveSettings()):new y.Notice(`Invalid value for ${t}. Must be between ${r} and ${a}`)})})}display(){const{containerEl:e}=this;e.empty(),this.createAccountSettings(e),this.createApiKeySettings(e),this.createModelSettings(e),this.createVectorizeSettings(e),this.createSyncSettings(e),this.createTextGeneratorSettings(e),this.createLoggerSettings(e)}}const Dt={200:"OK",201:"Created",202:"Accepted",204:"No Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",304:"Not Modified",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",408:"Request Timeout",409:"Conflict",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"};async function Gt(n,e){const t=typeof n=="string"?n:n.url,s=typeof n=="object"?{...e,...await Bt(n)}:e||{},i={url:t,method:s.method||"GET",headers:s.headers,body:s.body,throw:!1},r=s.headers,a=r["Content-Type"];a&&(i.contentType=a);const o=r.Accept==="text/event-stream";try{const c=await y.requestUrl(i);return zt(c,t,o,s.throw)}catch(c){throw new Error(`Fetch request failed: ${c instanceof Error?c.message:String(c)}`)}}function zt(n,e,t,s){const i=n.status>=200&&n.status<300;if(!i&&s!==!1)throw new Error(`HTTP error! status: ${n.status}`);const r={ok:i,status:n.status,statusText:Dt[n.status]||"",headers:new Headers(n.headers),url:e,type:"basic",redirected:!1,bodyUsed:!1,arrayBuffer:()=>Promise.resolve(n.arrayBuffer),text:()=>Promise.resolve(n.text),json:()=>Promise.resolve(n.json),blob:()=>Promise.reject(new Error("Blob responses not supported")),formData:()=>Promise.reject(new Error("FormData responses not supported")),clone:()=>{throw new Error("Response cloning not supported")}};if(t){const a=n.text.split(`
`);let o=0;const c=new TextEncoder,u=new ReadableStream({start(l){function h(){if(o<a.length){const g=a[o]+`
`;l.enqueue(c.encode(g)),o++,setTimeout(h,1)}else l.close()}h()}});return{...r,body:u}}return{...r,body:null}}async function Bt(n){var s;const e=(s=n.headers.get("content-type"))==null?void 0:s.toLowerCase(),t=e?await Ot(n,e):void 0;return{url:n.url,method:n.method,headers:Object.fromEntries(n.headers),...t&&{body:t}}}async function Ot(n,e){return e.includes("application/json")?JSON.stringify(await n.json()):e.includes("form")?n.formData():n.text()}class pe extends Error{constructor(e,t,s){super(t),this.status=e,this.response=s,this.name="ApiError"}}class ye extends Error{constructor(e,t,s){super(e),this.cause=t,this.request=s,this.name="ProxyError"}}class Vt{constructor(e,t){this.logger=e,this.config={maxRetries:1,timeout:3e4,retryDelay:1e3,defaultHeaders:{}},t&&(this.config={...this.config,...t})}async fetch(e,t){let s;for(let i=0;i<this.config.maxRetries;i++)try{i>0&&this.logger.info("Retrying proxy request",{attempt:i,url:typeof e=="string"?e:e.url});const r=this.enhanceRequestInit(t),a=new AbortController,o=setTimeout(()=>{a.abort()},this.config.timeout);try{const c=await Gt(e,{...r,signal:a.signal});if(this.shouldRetry(c)&&i<this.config.maxRetries-1){s=new ye(`Received status ${c.status}`,void 0,e),await this.delay(this.getRetryDelay(i));continue}return c}finally{clearTimeout(o)}}catch(r){if(s=this.normalizeError(r,e),r instanceof DOMException&&r.name==="AbortError"||i===this.config.maxRetries-1)throw this.logError(s,i),s;await this.delay(this.getRetryDelay(i))}throw s||new ye("Maximum retries exceeded",void 0,e)}shouldRetry(e){return[429,503,504].includes(e.status)}enhanceRequestInit(e){return{...e,headers:{...this.config.defaultHeaders,...e==null?void 0:e.headers}}}getRetryDelay(e){return Math.min(this.config.retryDelay*Math.pow(2,e),1e4)}normalizeError(e,t){return e instanceof Error?new ye(e.message,e,t):new ye(String(e),void 0,t)}logError(e,t){this.logger.error("Proxy request failed:",{error:e.message,stack:e.stack,attempt:t+1,maxRetries:this.config.maxRetries})}delay(e){return new Promise(t=>setTimeout(t,e))}}class qt{constructor(e){this.logger=e,this.decoder=new TextDecoder,this.proxyService=new Vt(e)}async post(e,t,s,i){try{this.logger.debug("Starting API request",{url:e,body:t});const r=await this.makeRequest(e,t,s);return r.ok||await this.handleErrorResponse(r),i!=null&&i.stream?await this.handleStreamingResponse(r,i):await this.handleRegularResponse(r)}catch(r){throw this.handleError(r),r}}async makeRequest(e,t,s){return this.proxyService.fetch(e,{method:"POST",headers:{Accept:"text/event-stream","Content-Type":"application/json",...s},body:JSON.stringify(t)})}async handleErrorResponse(e){var r;const t=await e.text(),s=this.safeParseJson(t),i=((r=s==null?void 0:s.error)==null?void 0:r.message)||`HTTP ${e.status}: ${e.statusText}`;throw new pe(e.status,i,s)}async handleRegularResponse(e){const t=await e.text(),s=this.safeParseJson(t);if(!s.result)throw new pe(e.status,"Invalid response format: missing 'result' field",s);return s.result}async handleStreamingResponse(e,t){var a;if(!e.body)throw new pe(e.status,"No response body available");const s=e.body.getReader();let i=!0,r="";try{for(;;){const{value:o,done:c}=await s.read();if(c)break;this.logger.debug("Streaming chunk",{chunk:o});const u=this.decoder.decode(o,{stream:!0}),l=this.processStreamingChunk(u);l&&(r+=l,(a=t.onToken)==null||a.call(t,l,i),i=!1)}return r}finally{s.releaseLock()}}processStreamingChunk(e){const t=e.split(`
`);let s="";for(const i of t){const r=this.processStreamingLine(i);r&&(s+=r)}return s}processStreamingLine(e){const t=e.replace(/^data: /,"").trim();if(!t||t==="[DONE]")return"";try{const s=this.safeParseJson(t);return(s==null?void 0:s.response)??""}catch{return""}}safeParseJson(e){try{return JSON.parse(e)}catch{return null}}handleError(e){this.logger.error("API request failed:",{error:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0,type:e instanceof pe?"ApiError":"UnknownError"})}}const jt="https://gateway.ai.cloudflare.com/v1";class Kt{constructor(e,t,s,i,r,a,o){this.logger=e,this.cloudflareAccountId=t,this.cloudflareAiGatewayId=s,this.cloudflareAiApiKey=i,this.modelId=r,this.maxTokens=a,this.temperature=o,this.email="test@test.com",this.apiService=new qt(e)}validateConfig(){if(!this.cloudflareAccountId)throw new Error("Cloudflare Account ID is required");if(!this.cloudflareAiGatewayId)throw new Error("AI Gateway ID is required");if(!this.cloudflareAiApiKey)throw new Error("AI API Key is required");if(!this.modelId)throw new Error("Model ID is required");if(!this.maxTokens||this.maxTokens<1)throw new Error("Invalid max tokens value");if(this.temperature<0||this.temperature>1)throw new Error("Temperature must be between 0 and 1")}getEndpointUrl(e){return`${jt}/${this.cloudflareAccountId}/${this.cloudflareAiGatewayId}/workers-ai/${e}`}buildRequestBody(e){const t={model:e.modelId};if(e.type==="text")e.messages&&(t.messages=e.messages),e.prompt&&(t.prompt=e.prompt),e.shouldStream&&(t.stream=!0),t.max_tokens=this.maxTokens,t.temperature=this.temperature;else if(e.type==="embedding"){if(!e.prompt)throw new Error("Prompt is required for embeddings");t.text=e.prompt}return t}displayError(e){const t=e instanceof Error?e.message:String(e);this.logger.error("AI Gateway error:",{error:t,stack:e instanceof Error?e.stack:void 0}),new y.Notice(`AI Gateway error: ${t}`,5e3)}async makeRequest({modelId:e,messages:t,prompt:s,shouldStream:i=!1,type:r="text",onToken:a}){if(this.validateConfig(),!t&&!s)throw new Error("Either messages or prompt is required");const o=this.buildRequestBody({modelId:e,messages:t,prompt:s,shouldStream:i,type:r});return await this.apiService.post(this.getEndpointUrl(e),o,{Authorization:`Bearer ${this.cloudflareAiApiKey}`,"cf-aig-metadata":JSON.stringify({email:this.email}),"Content-Type":"application/json"},{stream:i,onToken:a})}async generateText(e,t){try{if(this.validateConfig(),!e.length)throw new Error("Messages are required");return await this.makeRequest({modelId:this.modelId,messages:e,shouldStream:!!t,type:"text",onToken:t||void 0})}catch(s){throw s instanceof Error&&this.logger.error(`Text generation failed: ${s.message}`),this.displayError(s),s}}async generateEmbedding(e){try{return this.validateConfig(),(await this.makeRequest({modelId:this.modelId,prompt:e,shouldStream:!1,type:"embedding"})).data}catch(t){throw this.displayError(t),t}}}const Ut="https://api.cloudflare.com/client/v4/accounts/",Ie=class Ee{constructor(e,t,s,i){this.logger=e,this.accountId=t,this.apiKey=s,this.indexName=i}validateConfig(){if(!this.accountId)throw new Error("Account ID is required");if(!this.apiKey)throw new Error("API key is required");if(!this.indexName)throw new Error("Index name is required")}getEndpointUrl(e){return`${Ut}${this.accountId}/vectorize/v2/${e}`}getContentType(e){return e==="json"?"application/json":"application/x-ndjson"}formatRequestBody(e,t){return t==="json"?JSON.stringify(e):e.map(s=>JSON.stringify(s)).join(`
`)}async delay(e){await new Promise(t=>setTimeout(t,e*Ee.RETRY_DELAY_MS))}displayError(e){const t=e instanceof Error?e.message:String(e);this.logger.error("Vectorize API error:",{error:t,stack:e instanceof Error?e.stack:void 0}),new y.Notice(`Vectorize API error: ${t}`,5e3)}async makeRequest(e,t,s,i=3,r){var a,o;for(let c=1;c<=i;c++)try{const u=this.formatRequestBody(s,r),l=this.getContentType(r),h=await y.request({url:this.getEndpointUrl(e),method:t,headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":l},body:u,throw:!1});let g;try{g=JSON.parse(h)}catch{throw new Error("Invalid JSON response from Vectorize API")}if(!g.success){const f=(a=g.errors)==null?void 0:a[0];if((f==null?void 0:f.message)===Ee.UPSTREAM_TIMEOUT_ERROR&&c<i){await this.delay(c);continue}throw new Error(((o=g.errors)==null?void 0:o.map(p=>p.message).join(", "))??"Unknown error")}return g.result??null}catch(u){if(c===i)throw this.displayError(u instanceof Error?u.message:String(u)),u;await this.delay(c)}return null}async upsertVectors(e){try{this.validateConfig();const t=e.map(i=>({...i,values:Array.isArray(i.values[0])?i.values[0]:i.values}));this.logger.debug("Formatted vectors:",t);const s=await this.makeRequest(`indexes/${this.indexName}/upsert`,"POST",t,3,"ndjson");return!!(s!=null&&s.mutationId)}catch(t){return this.displayError(`Failed to upsert vectors: ${t}`),!1}}async queryVectors(e){try{return this.validateConfig(),this.validateFilter(e.filter),await this.makeRequest(`indexes/${this.indexName}/query`,"POST",e,1,"json")}catch(t){return this.displayError(`Failed to query vectors: ${t}`),null}}validateFilter(e){if(!e)return;const t=["type","createdMonth","createdYear","modifiedMonth","modifiedYear","extension"],s=["$eq","$ne","$in","$nin","$lt","$lte","$gt","$gte"];for(const[i,r]of Object.entries(e)){if(!t.includes(i))throw new Error(`Invalid filter field: ${i}`);if(typeof r=="object"&&r!==null){const a=Object.keys(r);for(const c of a)if(!s.includes(c))throw new Error(`Invalid operator: ${c}`);if(a.some(c=>["$lt","$lte","$gt","$gte"].includes(c))&&a.some(u=>["$eq","$ne","$in","$nin"].includes(u)))throw new Error("Range queries cannot be combined with other operators")}}}async deleteVectorsByIds(e){try{this.validateConfig();const t=await this.makeRequest(`indexes/${this.indexName}/delete_by_ids`,"POST",{ids:e},3,"json");return!!(t!=null&&t.mutationId)}catch(t){return this.displayError(`Failed to delete vectors: ${t}`),!1}}};Ie.RETRY_DELAY_MS=1e3;Ie.UPSTREAM_TIMEOUT_ERROR="vectorize.upstream_timeout";let Ht=Ie;var j=(n=>(n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR",n))(j||{});class Wt{constructor(e={}){this.onConfigChange=i=>{this.logLevel=this.parseLogLevel(i.level||"error")};const s={...Ft(),...e};this.logLevel=this.parseLogLevel(s.level||"error"),this.useTimestamp=s.useTimestamp??!0,this.output=s.output||console,this.serviceName=s.serviceName,ve.addListener(i=>{this.logLevel=this.parseLogLevel(i.level||"error")})}parseLogLevel(e){const t=e.toLowerCase(),s={debug:j.DEBUG,info:j.INFO,warn:j.WARN,error:j.ERROR};if(!(t in s))throw new Error(`Invalid log level: ${e}`);return s[t]}formatLogMessage(e,t,s){const r=[this.useTimestamp?new Date().toISOString():"",this.serviceName,e].filter(Boolean).join(" | "),a=s?` ${JSON.stringify(s)}`:"";return`${r}: ${t}${a}`}setLogLevel(e){this.logLevel=this.parseLogLevel(e)}getLogLevel(){return j[this.logLevel].toLowerCase()}isLevelEnabled(e){return this.parseLogLevel(e)>=this.logLevel}debug(e,t){if(this.logLevel<=j.DEBUG){const s=this.formatLogMessage("debug",e,t);this.output.debug(s)}}info(e,t){if(this.logLevel<=j.INFO){const s=this.formatLogMessage("info",e,t);this.output.info(s)}}warn(e,t){if(this.logLevel<=j.WARN){const s=this.formatLogMessage("warn",e,t);this.output.warn(s)}}error(e,t){if(this.logLevel<=j.ERROR){const s=this.formatLogMessage("error",e,t);this.output.error(s)}}destroy(){ve.removeListener(this.onConfigChange)}}class Yt{constructor(e,t,s,i,r,a=[]){this.app=e,this.logger=t,this.vectorize=s,this.gateway=i,this.textEmbeddingsModelId=r,this.ignoredFolders=a,this.batchSize=5}async sync(){const e={successful:0,failed:0,errors:[]};this.validateServices();const s=this.app.vault.getMarkdownFiles().filter(r=>!this.isFileInIgnoredFolder(r)).filter(r=>r.extension==="md"),i=[];for(const r of s){const a=this.createVectorId(r.name),o=await this.getSyncState(a);!o||o.lastModified!==r.stat.mtime?i.push(r):e.successful++}new y.Notice(`Starting sync for ${i.length} files (${s.length-i.length} already up to date)`);for(let r=0;r<i.length;r+=this.batchSize){const a=i.slice(r,r+this.batchSize);await this.processBatch(a,e,r/this.batchSize+1,Math.ceil(i.length/this.batchSize))}return new y.Notice("Sync completed"),e}createVectorId(e){return btoa(e.slice(0,32))}isFileInIgnoredFolder(e){return this.ignoredFolders.some(t=>{const s=t.toLowerCase().replace(/\\/g,"/");return e.path.toLowerCase().replace(/\\/g,"/").startsWith(s+"/")})}validateServices(){if(!this.vectorize)throw new Error("Vectorize service not initialized");if(!this.gateway)throw new Error("AI Gateway service not initialized")}async syncFile(e,t){try{this.logger.debug(`Processing file: ${e.path}`);const s=await this.app.vault.cachedRead(e);if(!s.trim()){this.logger.warn(`Skipping empty file: ${e.path}`);return}const i=this.createVectorId(e.name),r=await this.getSyncState(i);if(r&&r.lastModified===e.stat.mtime){this.logger.debug(`File ${e.path} hasn't changed, skipping`),t.successful++;return}const a=await this.generateEmbeddings(s);if(!a){this.logger.warn(`Skipping file ${e.path} due to no vectors`);return}const o=this.getMetadata(e);await this.upsertVectors(i,a,o),await this.saveSyncState(i,e,a,o),t.successful++,this.logger.debug(`Successfully processed: ${e.path}`)}catch(s){t.failed++,t.errors.push({file:e.path,error:s instanceof Error?s.message:String(s)}),this.logger.error(`Failed to process ${e.path}:`,{error:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:void 0})}}async generateEmbeddings(e){var i,r,a;if(e.length>8192){this.logger.debug(`Content too large (${e.length}), chunking...`);const o=e.match(/[^.!?]+[.!?]+/g)||[e];let c="";const u=[];for(const l of o)if((c+l).length>8192){const h=await this.gateway.makeRequest({modelId:this.textEmbeddingsModelId,prompt:c,shouldStream:!1,type:"embedding"});(i=h==null?void 0:h.data)!=null&&i.length&&u.push(...h.data),c=l}else c+=l;if(c){const l=await this.gateway.makeRequest({modelId:this.textEmbeddingsModelId,prompt:c,shouldStream:!1,type:"embedding"});(r=l==null?void 0:l.data)!=null&&r.length&&u.push(...l.data)}return u}const s=await this.gateway.makeRequest({modelId:this.textEmbeddingsModelId,prompt:e,shouldStream:!1,type:"embedding"});if(!((a=s==null?void 0:s.data)!=null&&a.length))throw new Error("No vectors returned from AI Gateway");return s.data}getMetadata(e){const t={fileName:e.name,extension:e.extension};if(e.stat.ctime){const s=new Date(e.stat.ctime);t.created=e.stat.ctime,t.createdYear=s.getFullYear(),t.createdMonth=s.getMonth()+1}if(e.stat.mtime){const s=new Date(e.stat.mtime);t.modified=e.stat.mtime,t.modifiedYear=s.getFullYear(),t.modifiedMonth=s.getMonth()+1}return t}async upsertVectors(e,t,s){if(!await this.vectorize.upsertVectors([{id:e,values:t,metadata:s,namespace:this.app.vault.getName()}]))throw new Error("Failed to upsert vectors")}async ensureSyncDirectory(){const e=".cloudflare-ai/sync";await this.app.vault.adapter.exists(e)||await this.app.vault.adapter.mkdir(e)}async saveSyncState(e,t,s,i){const r={id:e,path:t.path,lastSync:Date.now(),lastModified:t.stat.mtime,metadata:i,vectors:s},a=`.cloudflare-ai/sync/${e}.json`;await this.app.vault.adapter.write(a,JSON.stringify(r,null,2))}async getSyncState(e){await this.ensureSyncDirectory();const t=`.cloudflare-ai/sync/${e}.json`;try{if(await this.app.vault.adapter.exists(t)){const s=await this.app.vault.adapter.read(t);return JSON.parse(s)}}catch(s){this.logger.warn(`Failed to read sync state for ${e}:`,{error:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:void 0})}return null}async processBatch(e,t,s,i){this.logger.debug(`Processing sync batch ${s}/${i}`),(await Promise.allSettled(e.map(a=>this.syncFile(a,t)))).forEach((a,o)=>{a.status==="rejected"&&this.logger.error(`Failed to sync file ${e[o].path}: ${a.reason}`)})}}class lt{constructor(e,t,s,i,r,a){this.app=e,this.logger=t,this.gateway=s,this.vectorize=i,this.settings=r,this.sync=a,this.messages=[],this.apiMessages=[],this.component=null,this.svelteComponents=[],this.isProcessing=!1,this.DEFAULT_SYSTEM_MESSAGE={role:"system",content:`You are a helpful AI assistant that analyzes notes and provides insights. Consider the context carefully before answering questions. The current date is ${new Date().toISOString().split("T")[0]}.`},this.validateServices(),this.contentEl=document.createElement("div")}validateServices(){var e;if(!this.gateway)throw new Error("Gateway not initialized");if(!this.vectorize)throw new Error("Vectorize not initialized");if(!((e=this.settings)!=null&&e.textEmbeddingsModelId))throw new Error("Text embeddings model ID not set")}async generateEmbedding(e){var t;try{this.logger.debug("Generating embedding",{text:e});const s=await this.gateway.makeRequest({modelId:this.settings.textEmbeddingsModelId,prompt:e,shouldStream:!1,type:"embedding"});return this.logger.debug("Embedding generated",{embedding:s}),((t=s==null?void 0:s.data)==null?void 0:t[0])??null}catch(s){return this.logger.error("Error generating embedding:",{error:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:void 0}),null}}async searchSimilarNotes(e,t){try{if(this.logger.debug("Searching for similar notes",{vector:e,filters:t}),!e)return null;const s=await this.vectorize.queryVectors({vector:e,topK:this.settings.topK,namespace:this.app.vault.getName(),filter:t});return this.logger.debug("Similar notes found",{result:s}),s}catch(s){return this.logger.error("Error searching vectors:",{error:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:void 0}),null}}async enrichMessageWithContext(e,t){var u;if(!((u=t==null?void 0:t.matches)!=null&&u.length))return e;this.logger.debug("Enriching message with context",{message:e,searchResults:t});const s=t.matches.filter(l=>l.score>=this.settings.minSimilarityScore).sort((l,h)=>h.score-l.score);if(!s.length)return this.logger.debug("No relevant matches found",{message:e,minSimilarityScore:this.settings.minSimilarityScore}),e;this.logger.debug("Relevant matches found",{relevantMatches:s});const i=s.map(async l=>{try{const h=await this.sync.getSyncState(l.id);if(!h)return null;const g=this.app.vault.getAbstractFileByPath(h==null?void 0:h.path);return!g||!(g instanceof y.TFile)?null:{content:await this.app.vault.cachedRead(g),score:l.score,path:g.path,link:`[[${g.path}]]`}}catch(h){return this.logger.error(`Error reading note ${l.id}:`,{error:h instanceof Error?h.message:String(h),stack:h instanceof Error?h.stack:void 0}),null}}),r=(await Promise.all(i)).filter(l=>l!==null);if(this.logger.debug("Contexts found",{contexts:r}),!r.length)return e;const a=r.map(l=>`[${Math.round(l.score*100)}% relevant from ${l.link}]:
${l.content}`).join(`

`);this.logger.debug("Formatted context",{formattedContext:a});const o=r.map(l=>l.link).join(", "),c=`Context from my notes:

${a}

Question: ${e}

Instructions: Please reference the source notes using their links (${o}) when they are relevant to your response. Format your response in markdown.`;return this.logger.debug("Prompt generated",{prompt:c}),c}async onSendMessage(e,t){try{if(!e.trim())return;this.isProcessing=!0;let s="";this.component&&this.component.$set({streamingContent:s}),this.updateComponent(),this.logger.debug("Sending message",{message:e,filters:t});const i={role:"user",content:e};this.messages.push(i);const r={role:"assistant",content:""};this.messages.push(r),this.updateComponent(),this.apiMessages.some(l=>l.role==="system")||this.apiMessages.push(this.DEFAULT_SYSTEM_MESSAGE);const a=await this.generateEmbedding(e),o=a?await this.searchSimilarNotes(a,t):null,c=await this.enrichMessageWithContext(e,o);this.apiMessages.push({...i,content:c});const u=await this.gateway.generateText(this.apiMessages,(l,h)=>{s=h?l:s+l,r.content=s,requestAnimationFrame(()=>{this.component&&this.component.$set({messages:[...this.messages],streamingContent:s})})});if(!u)throw new Error("No response from AI Gateway");r.content=u,this.apiMessages.push(r),this.updateComponent()}catch(s){this.logger.error("Error in message processing:",{error:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:void 0}),new y.Notice("Error generating response. Please try again."),this.messages=this.messages.slice(0,-1),this.apiMessages=this.apiMessages.slice(0,-1)}finally{this.isProcessing=!1,this.updateComponent()}}updateComponent(){this.component&&this.component.$set({messages:[...this.messages],isProcessing:this.isProcessing})}async onClearMessages(){this.messages=[],this.apiMessages=[],this.updateComponent()}async onCopyContent(e,t){try{await navigator.clipboard.writeText(e),new y.Notice(`Copied ${t} to clipboard`)}catch(s){this.logger.error("Error copying to clipboard:",{error:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:void 0}),new y.Notice(`Failed to copy ${t}`)}}cleanup(){this.svelteComponents.forEach(e=>{e&&typeof e.$destroy=="function"&&e.$destroy()})}initializeComponent(e,t){const s=new t({target:e,props:{messages:this.messages,isProcessing:this.isProcessing,onSendMessage:(i,r)=>this.onSendMessage(i,r),onClearMessages:()=>this.onClearMessages(),onCopyConversation:()=>this.onCopyContent(this.messages.map(i=>`${i.role}: ${i.content}`).join(`

`),"conversation"),onCopyMessage:i=>this.onCopyContent(i,"message")}});this.component=s,this.svelteComponents.push(s)}}function R(){}const Ne=n=>n;function Jt(n,e){for(const t in e)n[t]=e[t];return n}function ct(n){return n()}function De(){return Object.create(null)}function J(n){n.forEach(ct)}function he(n){return typeof n=="function"}function ee(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Qt(n){return Object.keys(n).length===0}function Xt(n,e,t,s){if(n){const i=ut(n,e,t,s);return n[0](i)}}function ut(n,e,t,s){return n[1]&&s?Jt(t.ctx.slice(),n[1](s(e))):t.ctx}function Zt(n,e,t,s){if(n[2]&&s){const i=n[2](s(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],a=Math.max(e.dirty.length,i.length);for(let o=0;o<a;o+=1)r[o]=e.dirty[o]|i[o];return r}return e.dirty|i}return e.dirty}function es(n,e,t,s,i,r){if(i){const a=ut(e,t,s,r);n.p(a,i)}}function ts(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function Ge(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const ht=typeof window<"u";let gt=ht?()=>window.performance.now():()=>Date.now(),Re=ht?n=>requestAnimationFrame(n):R;const ce=new Set;function dt(n){ce.forEach(e=>{e.c(n)||(ce.delete(e),e.f())}),ce.size!==0&&Re(dt)}function ft(n){let e;return ce.size===0&&Re(dt),{promise:new Promise(t=>{ce.add(e={c:n,f:t})}),abort(){ce.delete(e)}}}function m(n,e){n.appendChild(e)}function mt(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function ss(n){const e=v("style");return e.textContent="/* empty */",ns(mt(n),e),e.sheet}function ns(n,e){return m(n.head||n,e),e.sheet}function M(n,e,t){n.insertBefore(e,t||null)}function x(n){n.parentNode&&n.parentNode.removeChild(n)}function Le(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function v(n){return document.createElement(n)}function G(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ie(n){return document.createTextNode(n)}function N(){return ie(" ")}function Pe(){return ie("")}function K(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function d(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function is(n){return Array.from(n.childNodes)}function pt(n,e){e=""+e,n.data!==e&&(n.data=e)}function U(n,e){n.value=e??""}function rs(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}class as{constructor(e=!1){Q(this,"is_svg",!1);Q(this,"e");Q(this,"n");Q(this,"t");Q(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,s=null){this.e||(this.is_svg?this.e=G(t.nodeName):this.e=v(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(s)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)M(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(x)}}const _e=new Map;let be=0;function os(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ls(n,e){const t={stylesheet:ss(e),rules:{}};return _e.set(n,t),t}function yt(n,e,t,s,i,r,a,o=0){const c=16.666/s;let u=`{
`;for(let C=0;C<=1;C+=c){const b=e+(t-e)*r(C);u+=C*100+`%{${a(b,1-b)}}
`}const l=u+`100% {${a(t,1-t)}}
}`,h=`__svelte_${os(l)}_${o}`,g=mt(n),{stylesheet:f,rules:p}=_e.get(g)||ls(g,n);p[h]||(p[h]=!0,f.insertRule(`@keyframes ${h} ${l}`,f.cssRules.length));const k=n.style.animation||"";return n.style.animation=`${k?`${k}, `:""}${h} ${s}ms linear ${i}ms 1 both`,be+=1,h}function ke(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=t.length-s.length;i&&(n.style.animation=s.join(", "),be-=i,be||cs())}function cs(){Re(()=>{be||(_e.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&x(e)}),_e.clear())})}let fe;function de(n){fe=n}function wt(){if(!fe)throw new Error("Function called outside component initialization");return fe}function us(n){wt().$$.on_mount.push(n)}function hs(n){wt().$$.after_update.push(n)}const oe=[],me=[];let ue=[];const ze=[],gs=Promise.resolve();let Ae=!1;function ds(){Ae||(Ae=!0,gs.then(vt))}function ne(n){ue.push(n)}const Ce=new Set;let re=0;function vt(){if(re!==0)return;const n=fe;do{try{for(;re<oe.length;){const e=oe[re];re++,de(e),fs(e.$$)}}catch(e){throw oe.length=0,re=0,e}for(de(null),oe.length=0,re=0;me.length;)me.pop()();for(let e=0;e<ue.length;e+=1){const t=ue[e];Ce.has(t)||(Ce.add(t),t())}ue.length=0}while(oe.length);for(;ze.length;)ze.pop()();Ae=!1,Ce.clear(),de(n)}function fs(n){if(n.fragment!==null){n.update(),J(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ne)}}function ms(n){const e=[],t=[];ue.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),ue=e}let ge;function _t(){return ge||(ge=Promise.resolve(),ge.then(()=>{ge=null})),ge}function Se(n,e,t){n.dispatchEvent(rs(`${e?"intro":"outro"}${t}`))}const we=new Set;let X;function xe(){X={r:0,c:[],p:X}}function Me(){X.r||J(X.c),X=X.p}function F(n,e){n&&n.i&&(we.delete(n),n.i(e))}function D(n,e,t,s){if(n&&n.o){if(we.has(n))return;we.add(n),X.c.push(()=>{we.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const bt={duration:0};function St(n,e,t){const s={direction:"in"};let i=e(n,t,s),r=!1,a,o,c=0;function u(){a&&ke(n,a)}function l(){const{delay:g=0,duration:f=300,easing:p=Ne,tick:k=R,css:C}=i||bt;C&&(a=yt(n,0,1,f,g,p,C,c++)),k(0,1);const b=gt()+g,L=b+f;o&&o.abort(),r=!0,ne(()=>Se(n,!0,"start")),o=ft($=>{if(r){if($>=L)return k(1,0),Se(n,!0,"end"),u(),r=!1;if($>=b){const z=p(($-b)/f);k(z,1-z)}}return r})}let h=!1;return{start(){h||(h=!0,ke(n),he(i)?(i=i(s),_t().then(l)):l())},invalidate(){h=!1},end(){r&&(u(),r=!1)}}}function Ct(n,e,t){const s={direction:"out"};let i=e(n,t,s),r=!0,a;const o=X;o.r+=1;let c;function u(){const{delay:l=0,duration:h=300,easing:g=Ne,tick:f=R,css:p}=i||bt;p&&(a=yt(n,1,0,h,l,g,p));const k=gt()+l,C=k+h;ne(()=>Se(n,!1,"start")),"inert"in n&&(c=n.inert,n.inert=!0),ft(b=>{if(r){if(b>=C)return f(0,1),Se(n,!1,"end"),--o.r||J(o.c),!1;if(b>=k){const L=g((b-k)/h);f(1-L,L)}}return r})}return he(i)?_t().then(()=>{i=i(s),u()}):u(),{end(l){l&&"inert"in n&&(n.inert=c),l&&i.tick&&i.tick(1,0),r&&(a&&ke(n,a),r=!1)}}}function Z(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ps(n,e){D(n,1,1,()=>{e.delete(n.key)})}function ys(n,e,t,s,i,r,a,o,c,u,l,h){let g=n.length,f=r.length,p=g;const k={};for(;p--;)k[n[p].key]=p;const C=[],b=new Map,L=new Map,$=[];for(p=f;p--;){const _=h(i,r,p),T=t(_);let w=a.get(T);w?s&&$.push(()=>w.p(_,e)):(w=u(T,_),w.c()),b.set(T,C[p]=w),T in k&&L.set(T,Math.abs(p-k[T]))}const z=new Set,B=new Set;function V(_){F(_,1),_.m(o,l),a.set(_.key,_),l=_.first,f--}for(;g&&f;){const _=C[f-1],T=n[g-1],w=_.key,E=T.key;_===T?(l=_.first,g--,f--):b.has(E)?!a.has(w)||z.has(w)?V(_):B.has(E)?g--:L.get(w)>L.get(E)?(B.add(w),V(_)):(z.add(E),g--):(c(T,a),g--)}for(;g--;){const _=n[g];b.has(_.key)||c(_,a)}for(;f;)V(C[f-1]);return J($),C}function Y(n){n&&n.c()}function H(n,e,t){const{fragment:s,after_update:i}=n.$$;s&&s.m(e,t),ne(()=>{const r=n.$$.on_mount.map(ct).filter(he);n.$$.on_destroy?n.$$.on_destroy.push(...r):J(r),n.$$.on_mount=[]}),i.forEach(ne)}function W(n,e){const t=n.$$;t.fragment!==null&&(ms(t.after_update),J(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ws(n,e){n.$$.dirty[0]===-1&&(oe.push(n),ds(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function te(n,e,t,s,i,r,a=null,o=[-1]){const c=fe;de(n);const u=n.$$={fragment:null,ctx:[],props:r,update:R,not_equal:i,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:De(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};a&&a(u.root);let l=!1;if(u.ctx=t?t(n,e.props||{},(h,g,...f)=>{const p=f.length?f[0]:g;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),l&&ws(n,h)),g}):[],u.update(),l=!0,J(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const h=is(e.target);u.fragment&&u.fragment.l(h),h.forEach(x)}else u.fragment&&u.fragment.c();e.intro&&F(n.$$.fragment),H(n,e.target,e.anchor),vt()}de(c)}class se{constructor(){Q(this,"$$");Q(this,"$$set")}$destroy(){W(this,1),this.$destroy=R}$on(e,t){if(!he(t))return R;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Qt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vs);function _s(n){const e=n-1;return e*e*e+1}function Te(n,{delay:e=0,duration:t=400,easing:s=Ne}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*i}`}}function bs(n,{delay:e=0,duration:t=400,easing:s=_s,x:i=0,y:r=0,opacity:a=0}={}){const o=getComputedStyle(n),c=+o.opacity,u=o.transform==="none"?"":o.transform,l=c*(1-a),[h,g]=Ge(i),[f,p]=Ge(r);return{delay:e,duration:t,easing:s,css:(k,C)=>`
			transform: ${u} translate(${(1-k)*h}${g}, ${(1-k)*f}${p});
			opacity: ${c-l*C}`}}function Be(n,e=!1,t={p:"text-base"}){if(!n)return n;const s=c=>c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),i=`underline text-${e?"muted":"primary"}-foreground inline font-bold p-0 transition-colors hover:underline hover:outline-none decoration-1 decoration-skip-ink-none underline-offset-[0.25em] hover:decoration-2`,r=[];n=n.replace(/```([\s\S]*?)```/g,(c,u)=>(r.push(u),`{{CODEBLOCK${r.length-1}}}`));const a=[];n=n.replace(/`([^`]+)`/g,(c,u)=>(a.push(u),`{{INLINECODE${a.length-1}}}`));let o=n.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/<summary>/g,"**Summary:** ").replace(/<\/summary>/g,"").replace(/<questions>/g,"**Questions:** ").replace(/<\/questions>/g,"").replace(/<question>/g,"").replace(/<\/question>/g,"").replace(/<answer>/g,"").replace(/<\/answer>/g,"").replace(/<prompt_analysis>/g,"**Analysis:** ").replace(/<\/prompt_analysis>/g,"").replace(/<analysis>/g,"**Analysis:** ").replace(/<\/analysis>/g,"").replace(/<thought>/g,"**Thought:** ").replace(/<\/thought>/g,"").replace(/<action>/g,"**Action:** ").replace(/<\/action>/g,"").replace(/<unclear_parts>/g,"**Unsure about:** ").replace(/<\/unclear_parts>/g,"").replace(/<key_elements>/g,"**Key Elements:** ").replace(/<\/key_elements>/g,"").replace(/<key_elements_missing>/g,"**Key Elements Missing:** ").replace(/<\/key_elements_missing>/g,"").replace(/<suggestions>/g,"**Suggestions:** ").replace(/<\/suggestions>/g,"").replace(/<suggestion>/g,"").replace(/<\/suggestion>/g,"").replace(/<revised_prompt>/g,"**Revised Prompt:** ").replace(/<\/revised_prompt>/g,"").replace(/<problem_breakdown>/g,"**Problem Breakdown:** ").replace(/<\/problem_breakdown>/g,"");return o=s(o).replace(/^### (.*?)$/gm,`<h3>$1</h3>
`).replace(/^## (.*?)$/gm,`<h2>$1</h2>
`).replace(/^# (.*?)$/gm,`<h1>$1</h1>
`).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/_(.*?)_/g,"<em>$1</em>").replace(/!\[(.*?)\]\((.*?)\)/g,'<img src="$2" alt="$1" class="rounded-lg max-w-full h-auto my-4" loading="lazy" />').replace(/\[([^\]]+)\]\(([^)]+)\)/g,`<a href="$2" target="_blank" rel="noopener noreferrer" class="${i}">$1</a>`).replace(/\[\[(.*?)\]\]/g,`<a href="$1" class="internal-link ${i}">$1</a>`).replace(/^(\s*[-*+]\s+.*(?:\n(?!\s*[-*+]|\s*\d+\.).*)*)+/gm,c=>`<ul class="list-disc">${c.split(`
`).map(l=>{const h=l.replace(/^\s*[-*+]\s+/,"").trim();return h?`<li>${h}</li>`:""}).filter(Boolean).join(`
`)}</ul>`).replace(/^(\s*\d+\.\s+.*(?:\n(?!\s*[-*+]|\s*\d+\.).*)*)+/gm,c=>`<ol class="list-decimal">${c.split(`
`).map(l=>{const h=l.replace(/^\s*\d+\.\s+/,"").trim();return h?`<li>${h}</li>`:""}).filter(Boolean).join(`
`)}</ol>`).replace(/^(>\s+.*(?:\n(?!>).*)*)+/gm,c=>`<blockquote>${c.replace(/^>\s+/gm,"")}</blockquote>`).replace(/^(?:---|\*\*\*|___)\s*$/gm,"<hr>").replace(/^(?!<[houl]|<bl|<hr)[^\n]+(?:\n(?!<[houl]|<bl|<hr)[^\n]+)*/gm,c=>`<p class="${t.p||"text-base"}">${c.replace(/\n/g,"<br />")}</p>`),o=o.replace(/{{CODEBLOCK(\d+)}}/g,(c,u)=>{var C;const l=r[parseInt(u)];if(!l)return"";const h=l.split(`
`),g=((C=h[0])==null?void 0:C.trim())||"",f=/^[a-zA-Z0-9]+$/.test(g),p=f?g:"",k=f?h.slice(1).join(`
`).trim():l;return`<pre><code${p?` class="language-${p}"`:""}>${s(k)}</code></pre>`}),o=o.replace(/{{INLINECODE(\d+)}}/g,(c,u)=>{const l=a[parseInt(u)];return l?`<code>${s(l)}</code>`:""}),o}function Ss(n){let e,t,s,i,r,a;return{c(){e=G("svg"),t=G("rect"),s=G("path"),i=G("path"),r=G("path"),a=G("path"),d(t,"width","8"),d(t,"height","4"),d(t,"x","8"),d(t,"y","2"),d(t,"rx","1"),d(t,"ry","1"),d(s,"d","M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"),d(i,"d","M16 4h2a2 2 0 0 1 2 2v4"),d(r,"d","M21 14H11"),d(a,"d","m15 10-4 4 4 4"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width","24"),d(e,"height","24"),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"stroke","currentColor"),d(e,"stroke-width","2"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"class","lucide lucide-clipboard-copy")},m(o,c){M(o,e,c),m(e,t),m(e,s),m(e,i),m(e,r),m(e,a)},p:R,i:R,o:R,d(o){o&&x(e)}}}class Et extends se{constructor(e){super(),te(this,e,null,Ss,ee,{})}}function Oe(n,e,t){const s=n.slice();return s[9]=e[t],s[11]=t,s}function Ve(n){let e;return{c(){e=v("div"),e.innerHTML='<h3 class="svelte-bnkcb1">Welcome to the Chat 👋</h3> <p>Ask me anything about your notes, or just general questions.</p>',d(e,"class","welcome-message svelte-bnkcb1")},m(t,s){M(t,e,s)},d(t){t&&x(e)}}}function qe(n){let e;function t(r,a){return r[3]?Es:Cs}let s=t(n),i=s(n);return{c(){i.c(),e=Pe()},m(r,a){i.m(r,a),M(r,e,a)},p(r,a){s!==(s=t(r))&&(i.d(1),i=s(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&x(e),i.d(r)}}}function Cs(n){let e;return{c(){e=v("div"),e.innerHTML='<span class="svelte-bnkcb1"></span> <span class="svelte-bnkcb1"></span> <span class="svelte-bnkcb1"></span>',d(e,"class","typing-indicator svelte-bnkcb1")},m(t,s){M(t,e,s)},d(t){t&&x(e)}}}function Es(n){let e;return{c(){e=v("span"),e.textContent="▋",d(e,"class","cursor svelte-bnkcb1")},m(t,s){M(t,e,s)},d(t){t&&x(e)}}}function je(n,e){let t,s,i,r,a=e[9].role==="assistant"?"🤖":"👤",o,c,u,l,h,g=Be(e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]?e[3]:e[9].content)+"",f,p,k,C,b,L,$,z,B,V,_,T,w,E,I=e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]&&qe(e);b=new Et({});function P(){return e[6](e[9])}return{key:n,first:null,c(){t=v("div"),s=v("div"),i=v("div"),r=v("span"),o=ie(a),c=N(),u=v("div"),l=v("div"),h=new as(!1),f=N(),I&&I.c(),p=N(),k=v("div"),C=v("button"),Y(b.$$.fragment),L=N(),$=v("span"),$.textContent="Copy message",z=N(),d(r,"class","role-indicator svelte-bnkcb1"),d(r,"aria-hidden","true"),h.a=f,d(l,"class","message-content-inner"),d($,"class","sr-only svelte-bnkcb1"),d(C,"class","copy-button svelte-bnkcb1"),d(C,"aria-label","Copy message"),d(k,"class","message-actions"),d(u,"class","message-content svelte-bnkcb1"),d(i,"class","message-content-wrapper svelte-bnkcb1"),d(s,"class","message svelte-bnkcb1"),d(t,"class",B="message-wrapper "+e[9].role+" svelte-bnkcb1"),d(t,"role","article"),this.first=t},m(S,q){M(S,t,q),m(t,s),m(s,i),m(i,r),m(r,o),m(i,c),m(i,u),m(u,l),h.m(g,l),m(l,f),I&&I.m(l,null),m(u,p),m(u,k),m(k,C),H(b,C,null),m(C,L),m(C,$),m(t,z),T=!0,w||(E=K(C,"click",P),w=!0)},p(S,q){e=S,(!T||q&1)&&a!==(a=e[9].role==="assistant"?"🤖":"👤")&&pt(o,a),(!T||q&13)&&g!==(g=Be(e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]?e[3]:e[9].content)+"")&&h.p(g),e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]?I?I.p(e,q):(I=qe(e),I.c(),I.m(l,null)):I&&(I.d(1),I=null),(!T||q&1&&B!==(B="message-wrapper "+e[9].role+" svelte-bnkcb1"))&&d(t,"class",B)},i(S){T||(F(b.$$.fragment,S),S&&ne(()=>{T&&(_&&_.end(1),V=St(t,bs,{y:20,duration:300}),V.start())}),T=!0)},o(S){D(b.$$.fragment,S),V&&V.invalidate(),S&&(_=Ct(t,Te,{duration:200})),T=!1},d(S){S&&x(t),I&&I.d(),W(b),S&&_&&_.end(),w=!1,E()}}}function ks(n){let e,t,s=[],i=new Map,r,a,o,c=n[0].length<=0&&Ve(),u=Z(n[0].filter(Ke));const l=h=>h[11];for(let h=0;h<u.length;h+=1){let g=Oe(n,u,h),f=l(g);i.set(f,s[h]=je(f,g))}return{c(){c&&c.c(),e=N(),t=v("div");for(let h=0;h<s.length;h+=1)s[h].c();d(t,"class","messages svelte-bnkcb1"),d(t,"role","log"),d(t,"aria-live","polite")},m(h,g){c&&c.m(h,g),M(h,e,g),M(h,t,g);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(t,null);n[7](t),r=!0,a||(o=K(t,"scroll",n[5]),a=!0)},p(h,[g]){h[0].length<=0?c||(c=Ve(),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),g&15&&(u=Z(h[0].filter(Ke)),xe(),s=ys(s,g,l,1,h,u,i,t,ps,je,null,Oe),Me())},i(h){if(!r){for(let g=0;g<u.length;g+=1)F(s[g]);r=!0}},o(h){for(let g=0;g<s.length;g+=1)D(s[g]);r=!1},d(h){h&&(x(e),x(t)),c&&c.d(h);for(let g=0;g<s.length;g+=1)s[g].d();n[7](null),a=!1,o()}}}const Ke=n=>n.role!=="system";function As(n,e,t){let{messages:s=[]}=e,{onCopyMessage:i}=e,{isProcessing:r=!1}=e,{streamingContent:a=""}=e,o,c=!1;function u(){if(!o)return;const{scrollTop:g,scrollHeight:f,clientHeight:p}=o;f-g-p<10?c=!1:c=!0}hs(()=>{o&&!c&&o.scrollTo({top:o.scrollHeight,behavior:"instant"})});const l=g=>i(g.content);function h(g){me[g?"unshift":"push"](()=>{o=g,t(4,o)})}return n.$$set=g=>{"messages"in g&&t(0,s=g.messages),"onCopyMessage"in g&&t(1,i=g.onCopyMessage),"isProcessing"in g&&t(2,r=g.isProcessing),"streamingContent"in g&&t(3,a=g.streamingContent)},[s,i,r,a,o,u,l,h]}class kt extends se{constructor(e){super(),te(this,e,As,ks,ee,{messages:0,onCopyMessage:1,isProcessing:2,streamingContent:3})}}function xs(n){let e,t,s;return{c(){e=G("svg"),t=G("path"),s=G("path"),d(t,"d","M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"),d(s,"d","m21.854 2.147-10.94 10.939"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width","24"),d(e,"height","24"),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"stroke","currentColor"),d(e,"stroke-width","2"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"class","lucide lucide-send")},m(i,r){M(i,e,r),m(e,t),m(e,s)},p:R,i:R,o:R,d(i){i&&x(e)}}}class Ms extends se{constructor(e){super(),te(this,e,null,xs,ee,{})}}function Ts(n){let e,t;return{c(){e=G("svg"),t=G("polygon"),d(t,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width","24"),d(e,"height","24"),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"stroke","currentColor"),d(e,"stroke-width","2"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"class","lucide lucide-filter")},m(s,i){M(s,e,i),m(e,t)},p:R,i:R,o:R,d(s){s&&x(e)}}}class Is extends se{constructor(e){super(),te(this,e,null,Ts,ee,{})}}function Ns(n){let e,t,s,i;return{c(){e=G("svg"),t=G("path"),s=G("path"),i=G("path"),d(t,"d","m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"),d(s,"d","M22 21H7"),d(i,"d","m5 11 9 9"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width","24"),d(e,"height","24"),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"stroke","currentColor"),d(e,"stroke-width","2"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"class","lucide lucide-eraser")},m(r,a){M(r,e,a),m(e,t),m(e,s),m(e,i)},p:R,i:R,o:R,d(r){r&&x(e)}}}class Rs extends se{constructor(e){super(),te(this,e,null,Ns,ee,{})}}function Ue(n,e,t){const s=n.slice();return s[22]=e[t],s}function He(n,e,t){const s=n.slice();return s[28]=e[t],s}function We(n,e,t){const s=n.slice();return s[25]=e[t],s}const Ls=n=>({}),Ye=n=>({});function Je(n){let e,t,s,i,r,a,o,c,u,l,h,g;return t=new Rs({}),o=new Et({}),{c(){e=v("button"),Y(t.$$.fragment),s=N(),i=v("span"),i.textContent="Clear Chat",r=N(),a=v("button"),Y(o.$$.fragment),c=N(),u=v("span"),u.textContent="Copy Conversation",d(i,"class","sr-only"),d(e,"class","action-button svelte-17n7afo"),d(e,"aria-label","Clear Chat"),d(u,"class","sr-only"),d(a,"class","action-button svelte-17n7afo"),d(a,"aria-label","Copy Conversation")},m(f,p){M(f,e,p),H(t,e,null),m(e,s),m(e,i),M(f,r,p),M(f,a,p),H(o,a,null),m(a,c),m(a,u),l=!0,h||(g=[K(e,"click",function(){he(n[2])&&n[2].apply(this,arguments)}),K(a,"click",function(){he(n[3])&&n[3].apply(this,arguments)})],h=!0)},p(f,p){n=f},i(f){l||(F(t.$$.fragment,f),F(o.$$.fragment,f),l=!0)},o(f){D(t.$$.fragment,f),D(o.$$.fragment,f),l=!1},d(f){f&&(x(e),x(r),x(a)),W(t),W(o),h=!1,J(g)}}}function Qe(n){let e,t,s,i,r,a,o,c=Z(n[8]),u=[];for(let l=0;l<c.length;l+=1)u[l]=et(Ue(n,c,l));return{c(){e=v("div"),t=v("form");for(let l=0;l<u.length;l+=1)u[l].c();d(e,"class","filters svelte-17n7afo")},m(l,h){M(l,e,h),m(e,t);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(t,null);r=!0,a||(o=K(t,"change",n[12]),a=!0)},p(l,h){if(h&256){c=Z(l[8]);let g;for(g=0;g<c.length;g+=1){const f=Ue(l,c,g);u[g]?u[g].p(f,h):(u[g]=et(f),u[g].c(),u[g].m(t,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=c.length}},i(l){r||(l&&ne(()=>{r&&(i&&i.end(1),s=St(e,Te,{duration:200}),s.start())}),r=!0)},o(l){s&&s.invalidate(),l&&(i=Ct(e,Te,{duration:200})),r=!1},d(l){l&&x(e),Le(u,l),l&&i&&i.end(),a=!1,o()}}}function Ps(n){let e,t,s;return{c(){e=v("select"),t=v("option"),t.textContent="Any",s=v("option"),s.textContent="Markdown",t.__value="",U(t,t.__value),s.__value="md",U(s,s.__value),d(e,"name",n[22].field),d(e,"class","full-width svelte-17n7afo"),d(e,"aria-label","Filter value")},m(i,r){M(i,e,r),m(e,t),m(e,s)},p:R,d(i){i&&x(e)}}}function Fs(n){let e,t,s,i,r,a,o,c;function u(g,f){return g[22].field.includes("Year")?Ds:$s}let h=u(n)(n);return{c(){e=v("div"),t=v("select"),s=v("option"),s.textContent="=",i=v("option"),i.textContent=">=",r=v("option"),r.textContent="<=",a=N(),o=v("select"),c=v("option"),c.textContent="Any",h.c(),s.__value="$eq",U(s,s.__value),i.__value="$gte",U(i,i.__value),r.__value="$lte",U(r,r.__value),d(t,"name",`${n[22].field}-op`),d(t,"class","operator-select svelte-17n7afo"),d(t,"aria-label","Filter operator"),c.__value="",U(c,c.__value),d(o,"name",n[22].field),d(o,"class","value-select svelte-17n7afo"),d(o,"aria-label","Filter value"),d(e,"class","filter-inputs svelte-17n7afo")},m(g,f){M(g,e,f),m(e,t),m(t,s),m(t,i),m(t,r),m(e,a),m(e,o),m(o,c),h.m(o,null)},p(g,f){h.p(g,f)},d(g){g&&x(e),h.d()}}}function $s(n){let e,t=Z(Array.from({length:12},tt)),s=[];for(let i=0;i<t.length;i+=1)s[i]=Xe(He(n,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Pe()},m(i,r){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,r);M(i,e,r)},p(i,r){if(r&0){t=Z(Array.from({length:12},tt));let a;for(a=0;a<t.length;a+=1){const o=He(i,t,a);s[a]?s[a].p(o,r):(s[a]=Xe(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(i){i&&x(e),Le(s,i)}}}function Ds(n){let e,t=Z(Array.from({length:5},n[20])),s=[];for(let i=0;i<t.length;i+=1)s[i]=Ze(We(n,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Pe()},m(i,r){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,r);M(i,e,r)},p(i,r){if(r&0){t=Z(Array.from({length:5},i[20]));let a;for(a=0;a<t.length;a+=1){const o=We(i,t,a);s[a]?s[a].p(o,r):(s[a]=Ze(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(i){i&&x(e),Le(s,i)}}}function Xe(n){let e,t=n[28]+"",s;return{c(){e=v("option"),s=ie(t),e.__value=n[28],U(e,e.__value)},m(i,r){M(i,e,r),m(e,s)},p:R,d(i){i&&x(e)}}}function Ze(n){let e,t=n[25]+"",s;return{c(){e=v("option"),s=ie(t),e.__value=n[25],U(e,e.__value)},m(i,r){M(i,e,r),m(e,s)},p:R,d(i){i&&x(e)}}}function et(n){let e,t,s=n[22].label+"",i,r,a;function o(l,h){return l[22].type==="number"?Fs:Ps}let u=o(n)(n);return{c(){e=v("div"),t=v("label"),i=ie(s),r=N(),u.c(),a=N(),d(t,"for",n[22].field),d(e,"class","filter-row svelte-17n7afo")},m(l,h){M(l,e,h),m(e,t),m(t,i),m(e,r),u.m(e,null),m(e,a)},p(l,h){u.p(l,h)},d(l){l&&x(e),u.d()}}}function Gs(n){var q;let e,t,s,i,r,a,o,c,u,l,h=n[6]?"Hide RAG Filters":"Show RAG Filters",g,f,p,k,C,b,L,$,z,B,V,_,T,w;c=new Is({});let E=((q=n[1])==null?void 0:q.length)>0&&Je(n);const I=n[15]["additional-actions"],P=Xt(I,n,n[14],Ye);L=new Ms({});let S=n[6]&&Qe(n);return{c(){e=v("div"),t=v("div"),s=v("textarea"),i=N(),r=v("div"),a=v("div"),o=v("button"),Y(c.$$.fragment),u=N(),l=v("span"),g=ie(h),p=N(),E&&E.c(),k=N(),P&&P.c(),C=N(),b=v("button"),Y(L.$$.fragment),$=N(),z=v("span"),z.textContent="Send",V=N(),S&&S.c(),d(s,"placeholder","Type your message here..."),s.disabled=n[0],d(s,"rows","1"),d(s,"aria-label","Message input"),d(s,"class","svelte-17n7afo"),d(l,"class","sr-only"),d(o,"class","action-button svelte-17n7afo"),d(o,"aria-expanded",n[6]),d(o,"aria-label",f=n[6]?"Hide RAG Filters":"Show RAG Filters"),d(a,"class","left-actions svelte-17n7afo"),d(z,"class","sr-only"),d(b,"class","send-button svelte-17n7afo"),b.disabled=B=n[0]||!n[4].trim(),d(b,"aria-label","Send message"),d(r,"class","actions-container svelte-17n7afo"),d(t,"class","input-container svelte-17n7afo"),d(e,"class","input-wrapper svelte-17n7afo")},m(A,O){M(A,e,O),m(e,t),m(t,s),n[16](s),U(s,n[4]),m(t,i),m(t,r),m(r,a),m(a,o),H(c,o,null),m(o,u),m(o,l),m(l,g),m(a,p),E&&E.m(a,null),m(a,k),P&&P.m(a,null),m(r,C),m(r,b),H(L,b,null),m(b,$),m(b,z),n[19](t),m(e,V),S&&S.m(e,null),_=!0,T||(w=[K(s,"input",n[17]),K(s,"input",n[9]),K(s,"keydown",n[11]),K(o,"click",n[18]),K(b,"click",n[10])],T=!0)},p(A,[O]){var Fe;(!_||O&1)&&(s.disabled=A[0]),O&16&&U(s,A[4]),(!_||O&64)&&h!==(h=A[6]?"Hide RAG Filters":"Show RAG Filters")&&pt(g,h),(!_||O&64)&&d(o,"aria-expanded",A[6]),(!_||O&64&&f!==(f=A[6]?"Hide RAG Filters":"Show RAG Filters"))&&d(o,"aria-label",f),((Fe=A[1])==null?void 0:Fe.length)>0?E?(E.p(A,O),O&2&&F(E,1)):(E=Je(A),E.c(),F(E,1),E.m(a,k)):E&&(xe(),D(E,1,1,()=>{E=null}),Me()),P&&P.p&&(!_||O&16384)&&es(P,I,A,A[14],_?Zt(I,A[14],O,Ls):ts(A[14]),Ye),(!_||O&17&&B!==(B=A[0]||!A[4].trim()))&&(b.disabled=B),A[6]?S?(S.p(A,O),O&64&&F(S,1)):(S=Qe(A),S.c(),F(S,1),S.m(e,null)):S&&(xe(),D(S,1,1,()=>{S=null}),Me())},i(A){_||(F(c.$$.fragment,A),F(E),F(P,A),F(L.$$.fragment,A),F(S),_=!0)},o(A){D(c.$$.fragment,A),D(E),D(P,A),D(L.$$.fragment,A),D(S),_=!1},d(A){A&&x(e),n[16](null),W(c),E&&E.d(),P&&P.d(A),W(L),n[19](null),S&&S.d(),T=!1,J(w)}}}const tt=(n,e)=>e+1;function zs(n,e,t){let{$$slots:s={},$$scope:i}=e,{isProcessing:r=!1}=e,{messages:a=[]}=e,{onSendMessage:o}=e,{onClearMessages:c}=e,{onCopyConversation:u}=e,l="",h,g={},f=!1,p;const k=[{field:"createdYear",type:"number",label:"Created Year"},{field:"createdMonth",type:"number",label:"Created Month"},{field:"modifiedYear",type:"number",label:"Modified Year"},{field:"modifiedMonth",type:"number",label:"Modified Month"},{field:"extension",type:"string",label:"File Type"}],C=()=>{if(h){t(5,h.style.height="24px",h);const w=Math.min(Math.max(h.scrollHeight,24),200);t(5,h.style.height=`${w}px`,h),p&&t(7,p.style.height=`${w+66}px`,p)}};us(()=>{h&&(t(5,h.style.height="24px",h),t(7,p.style.height="90px",p),C())});const b=async()=>{if(l.trim()&&!r){const w=l.trim();t(4,l=""),t(5,h.style.height="24px",h),t(7,p.style.height="90px",p);try{await o(w,g)}catch(E){console.error("Error sending message:",E),t(4,l=w)}}},L=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),b())};function $(w){const E=w.target,I=new FormData(E.closest("form")||E);k.forEach(P=>{const S=I.get(P.field);if(!S){delete g[P.field];return}if(P.type==="number"){const q=I.get(`${P.field}-op`)||"$eq";g[P.field]={[q]:Number(S)}}else g[P.field]={$eq:String(S)}})}function z(w){me[w?"unshift":"push"](()=>{h=w,t(5,h)})}function B(){l=this.value,t(4,l)}const V=()=>t(6,f=!f);function _(w){me[w?"unshift":"push"](()=>{p=w,t(7,p)})}const T=(w,E)=>new Date().getFullYear()-E;return n.$$set=w=>{"isProcessing"in w&&t(0,r=w.isProcessing),"messages"in w&&t(1,a=w.messages),"onSendMessage"in w&&t(13,o=w.onSendMessage),"onClearMessages"in w&&t(2,c=w.onClearMessages),"onCopyConversation"in w&&t(3,u=w.onCopyConversation),"$$scope"in w&&t(14,i=w.$$scope)},[r,a,c,u,l,h,f,p,k,C,b,L,$,o,i,s,z,B,V,_,T]}class At extends se{constructor(e){super(),te(this,e,zs,Gs,ee,{isProcessing:0,messages:1,onSendMessage:13,onClearMessages:2,onCopyConversation:3})}}function Bs(n){let e,t,s,i,r;return t=new kt({props:{isProcessing:n[1],messages:n[0],streamingContent:n[2],onCopyMessage:n[6]}}),i=new At({props:{isProcessing:n[1],messages:n[0],onSendMessage:n[3],onClearMessages:n[4],onCopyConversation:n[5]}}),{c(){e=v("div"),Y(t.$$.fragment),s=N(),Y(i.$$.fragment),d(e,"class","chat-modal svelte-xkhj2a")},m(a,o){M(a,e,o),H(t,e,null),m(e,s),H(i,e,null),r=!0},p(a,[o]){const c={};o&2&&(c.isProcessing=a[1]),o&1&&(c.messages=a[0]),o&4&&(c.streamingContent=a[2]),o&64&&(c.onCopyMessage=a[6]),t.$set(c);const u={};o&2&&(u.isProcessing=a[1]),o&1&&(u.messages=a[0]),o&8&&(u.onSendMessage=a[3]),o&16&&(u.onClearMessages=a[4]),o&32&&(u.onCopyConversation=a[5]),i.$set(u)},i(a){r||(F(t.$$.fragment,a),F(i.$$.fragment,a),r=!0)},o(a){D(t.$$.fragment,a),D(i.$$.fragment,a),r=!1},d(a){a&&x(e),W(t),W(i)}}}function Os(n,e,t){let{messages:s=[]}=e,{isProcessing:i=!1}=e,{streamingContent:r=""}=e,{onSendMessage:a}=e,{onClearMessages:o}=e,{onCopyConversation:c}=e,{onCopyMessage:u}=e;return n.$$set=l=>{"messages"in l&&t(0,s=l.messages),"isProcessing"in l&&t(1,i=l.isProcessing),"streamingContent"in l&&t(2,r=l.streamingContent),"onSendMessage"in l&&t(3,a=l.onSendMessage),"onClearMessages"in l&&t(4,o=l.onClearMessages),"onCopyConversation"in l&&t(5,c=l.onCopyConversation),"onCopyMessage"in l&&t(6,u=l.onCopyMessage)},[s,i,r,a,o,c,u]}let Vs=class extends se{constructor(e){super(),te(this,e,Os,Bs,ee,{messages:0,isProcessing:1,streamingContent:2,onSendMessage:3,onClearMessages:4,onCopyConversation:5,onCopyMessage:6})}},qs=class extends lt{};class js extends y.Modal{constructor(...e){super(e[0]),this.chat=new qs(...e),this.chat.contentEl=this.contentEl}onOpen(){const{contentEl:e}=this;e.empty(),e.addClass("chat-modal"),this.chat.initializeComponent(e,Vs)}onClose(){const{contentEl:e}=this;this.chat.cleanup(),e.empty(),e.removeClass("chat-modal")}}function Ks(n){let e,t,s,i,r;return t=new kt({props:{isProcessing:n[1],messages:n[0],streamingContent:n[2],onCopyMessage:n[6]}}),i=new At({props:{isProcessing:n[1],messages:n[0],onSendMessage:n[3],onClearMessages:n[4],onCopyConversation:n[5]}}),{c(){e=v("div"),Y(t.$$.fragment),s=N(),Y(i.$$.fragment),d(e,"class","chat-view svelte-i0aku1")},m(a,o){M(a,e,o),H(t,e,null),m(e,s),H(i,e,null),r=!0},p(a,[o]){const c={};o&2&&(c.isProcessing=a[1]),o&1&&(c.messages=a[0]),o&4&&(c.streamingContent=a[2]),o&64&&(c.onCopyMessage=a[6]),t.$set(c);const u={};o&2&&(u.isProcessing=a[1]),o&1&&(u.messages=a[0]),o&8&&(u.onSendMessage=a[3]),o&16&&(u.onClearMessages=a[4]),o&32&&(u.onCopyConversation=a[5]),i.$set(u)},i(a){r||(F(t.$$.fragment,a),F(i.$$.fragment,a),r=!0)},o(a){D(t.$$.fragment,a),D(i.$$.fragment,a),r=!1},d(a){a&&x(e),W(t),W(i)}}}function Us(n,e,t){let{messages:s=[]}=e,{isProcessing:i=!1}=e,{streamingContent:r=""}=e,{onSendMessage:a}=e,{onClearMessages:o}=e,{onCopyConversation:c}=e,{onCopyMessage:u}=e;return n.$$set=l=>{"messages"in l&&t(0,s=l.messages),"isProcessing"in l&&t(1,i=l.isProcessing),"streamingContent"in l&&t(2,r=l.streamingContent),"onSendMessage"in l&&t(3,a=l.onSendMessage),"onClearMessages"in l&&t(4,o=l.onClearMessages),"onCopyConversation"in l&&t(5,c=l.onCopyConversation),"onCopyMessage"in l&&t(6,u=l.onCopyMessage)},[s,i,r,a,o,c,u]}let Hs=class extends se{constructor(e){super(),te(this,e,Us,Ks,ee,{messages:0,isProcessing:1,streamingContent:2,onSendMessage:3,onClearMessages:4,onCopyConversation:5,onCopyMessage:6})}};class Ws extends lt{}class Ys extends y.ItemView{constructor(e,...t){super(e),this.chat=new Ws(...t),this.chat.contentEl=this.containerEl.children[1]}getViewType(){return ae}getDisplayText(){return"AI Chat"}async onOpen(){const e=this.containerEl.children[1];e.empty(),this.chat.initializeComponent(e,Hs)}async onClose(){const e=this.containerEl.children[1];this.chat.cleanup(),e.empty()}}class Js extends y.Modal{constructor(e,t){super(e),this.template=t,this.variables={},this.inputSettings=[],this.isGenerating=!1}onOpen(){const{contentEl:e,titleEl:t}=this;t.setText(this.template.name),this.template.description&&e.createEl("p",{text:this.template.description}),this.template.variables&&this.template.variables.forEach(s=>{const i=new y.Setting(e).setName(s).addText(r=>r.setPlaceholder(`Enter ${s}`).onChange(a=>{this.variables[s]=a}));this.inputSettings.push(i)}),this.isGenerating&&e.createEl("p",{text:"Generating..."}),this.generateButton=new y.Setting(e).addButton(s=>s.setButtonText("Generate").setCta().onClick(async()=>{var i;this.setGenerating(!0);try{await((i=this.onSubmitCallback)==null?void 0:i.call(this,this.variables)),this.close()}catch{this.setGenerating(!1)}}))}setGenerating(e){var s,i;this.isGenerating=e,this.inputSettings.forEach(r=>r.setDisabled(e)),(s=this.generateButton)==null||s.setDisabled(e);const t=(i=this.generateButton)==null?void 0:i.controlEl.querySelector("button");t&&(t.textContent=e?"Generating...":"Generate")}onClose(){const{contentEl:e}=this;e.empty()}onSubmit(e){this.onSubmitCallback=e}}class Qs{constructor(e,t,s,i,r){this.app=e,this.logger=t,this.gateway=s,this.settings=i,this.templateManager=r}async generateFromTemplate(e,t){const s=await this.templateManager.applyTemplate(e,t);return this.generateText({prompt:s,maxTokens:this.settings.maxTokens,temperature:this.settings.temperature})}async generateInEditor(e,t={}){const s=e.getSelection(),i=t.position||e.getCursor(),r="🤖 Generating...";let a;try{if(t.replaceLine!==void 0){const u=e.getLine(t.replaceLine);e.replaceRange(r,{line:t.replaceLine,ch:0},{line:t.replaceLine,ch:u.length}),a={line:t.replaceLine,ch:0}}else if(t.replaceSelection&&e.somethingSelected()){const u=e.getCursor("from");e.replaceSelection(r),a=u}else e.replaceRange(r,i),a=i;new y.Notice(`Generating ${t.templateName||"text"}...`);let o;if(t.templateName){const u=this.templateManager.getTemplate(t.templateName);if(!u)throw new Error(`Template ${t.templateName} not found`);o=await this.generateFromTemplate(u,{text:t.text||s||e.getValue()}),t.prependHash&&!o.startsWith("#")&&(o="# "+o),t.addNewline&&(o=`

${o}`)}else o=await this.generateText({prompt:s});const c={line:a.line,ch:a.ch+r.length};e.replaceRange(o,a,c),new y.Notice("Generated successfully")}catch(o){if(a){const c={line:a.line,ch:a.ch+r.length};e.replaceRange("",a,c)}this.logger.error("Generation failed",{error:o instanceof Error?o.message:String(o)}),new y.Notice("Failed to generate: "+(o instanceof Error?o.message:String(o)))}}async generateText(e){if(!e.prompt)throw new Error("Prompt is required");return await this.gateway.generateText([{role:"user",content:e.prompt}])}async generateWithModal(e,t,s={}){const i=this.templateManager.getTemplate(t);if(!i)throw new Error(`Template ${t} not found`);const r=new Js(this.app,i);r.onSubmit(async a=>{r.close(),new y.Notice("Generating...");const o=await this.generateFromTemplate(i,{...a,text:e.getValue()});if(s.replaceLine!==void 0){const c=e.getLine(s.replaceLine);e.replaceRange(o,{line:s.replaceLine,ch:0},{line:s.replaceLine,ch:c.length})}else{const c=s.position||e.getCursor();e.replaceRange(o,c)}new y.Notice("Generated successfully")}),r.open()}}class Xs{constructor(e,t){this.app=e,this.logger=t,this.templates=new Map,Object.entries(Rt).forEach(([s,i])=>{this.templates.set(s,{...i,default:!0})})}async loadCustomTemplates(e){if(!this.app.vault.getAbstractFileByPath(e)){this.logger.debug("No custom templates folder found");return}const s=this.app.vault.getMarkdownFiles().filter(i=>i.path.startsWith(e));for(const i of s)try{const r=await this.app.vault.read(i),a=this.parseTemplate(r);this.templates.set(a.name,a),this.logger.debug(`Loaded custom template: ${a.name}`)}catch(r){this.logger.error(`Failed to load template ${i.path}`,{error:r})}}parseTemplate(e){const t=this.extractFrontmatter(e);if(!t.name)throw new Error("Template must have a name");return{name:t.name,description:t.description,prompt:e.replace(/^---[\s\S]*?---/,"").trim(),variables:t.variables,tags:t.tags}}extractFrontmatter(e){const t=e.match(/^---\n([\s\S]*?)\n---/);if(!t)return{};try{return y.parseYaml(t[1])}catch(s){return this.logger.error("Failed to parse template frontmatter",{error:s}),{}}}async applyTemplate(e,t){let s=e.prompt;for(const[i,r]of Object.entries(t))s=s.replace(`{{${i}}}`,r);return s}getTemplate(e){return this.templates.get(e)}getTemplates(){return this.templates}}class Zs extends y.Plugin{constructor(){super(...arguments),this.logger=new Wt}getDecryptedApiKey(e){if(!e)return"";try{if(le.isEncryptionAvailable())return le.decryptString(Buffer.from(e,"base64"))}catch(t){this.logger.error("Failed to decrypt API key:",{error:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0})}return e}async initializeServices(){const e=this.getDecryptedApiKey(this.settings.cloudflareAiApiKey),t=this.getDecryptedApiKey(this.settings.cloudflareVectorizeApiKey);this.gateway=new Kt(this.logger,this.settings.cloudflareAccountId,this.settings.cloudflareAiGatewayId,e,this.settings.modelId,this.settings.maxTokens,this.settings.temperature),this.vectorize=new Ht(this.logger,this.settings.cloudflareAccountId,t,this.settings.vectorizeIndexName),this.syncService=new Yt(this.app,this.logger,this.vectorize,this.gateway,this.settings.textEmbeddingsModelId,this.settings.ignoredFolders)}setupSyncInterval(){this.syncInterval&&window.clearInterval(this.syncInterval),this.settings.syncEnabled&&(this.syncInterval=window.setInterval(()=>this.syncNotes(),this.settings.autoSyncInterval*60*1e3),this.registerInterval(this.syncInterval))}async loadSettings(){this.settings=Object.assign({},Nt,await this.loadData()),await this.initializeServices(),this.logger.debug("Settings loaded")}async saveSettings(){await this.saveData(this.settings),await this.initializeServices(),this.setupSyncInterval(),this.logger.debug("Settings saved")}async activateView(){if(this.app.workspace.getLeavesOfType(ae).length===0){const t=this.app.workspace.getRightLeaf(!1);t&&await t.setViewState({type:ae,active:!0})}this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(ae)[0])}async onload(){await this.loadSettings(),ot({level:this.settings.logLevel,serviceName:it}),this.addSettingTab(new $t(this.app,this)),this.registerView(ae,e=>new Ys(e,this.app,this.logger,this.gateway,this.vectorize,this.settings,this.syncService)),this.setupSyncInterval(),this.registerEvent(this.app.metadataCache.on("deleted",async e=>{try{if(e instanceof y.TFile&&e.extension==="md"){const t=this.syncService.createVectorId(e.name);await this.vectorize.deleteVectorsByIds([t]);const s=`.cloudflare-ai/sync/${t}.json`;await this.app.vault.adapter.exists(s)&&await this.app.vault.adapter.remove(s),new y.Notice(`Deleted file ${e.path} from the vector index`)}}catch(t){this.logger.error("Failed to remove deleted file from vector index:",{error:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0}),new y.Notice(`Failed to remove deleted file ${e.path} from the vector index: ${t instanceof Error?t.message:String(t)}`)}})),this.app.workspace.onLayoutReady(async()=>{try{this.addRibbonIcon("message-circle","Open AI Chat",()=>this.activateView()),this.syncStatusBar=this.addStatusBarItem(),this.updateSyncStatus("Ready");const e=new Xs(this.app,this.logger);await e.loadCustomTemplates(this.settings.customTemplatesFolder),this.addCommand({id:"start-chat",name:"Start Chat",callback:()=>{new js(this.app,this.logger,this.gateway,this.vectorize,this.settings,this.syncService).open()}}),this.addCommand({id:"sync-notes",name:"Sync Notes",callback:()=>this.syncNotes()});const t=new Qs(this.app,this.logger,this.gateway,this.settings,e);this.addCommand({id:"continue-writing",name:"Continue Writing",editorCallback:i=>{t.generateInEditor(i,{templateName:"continue",insertAtCursor:!0,addNewline:!0})}}),this.addCommand({id:"summarise-selection",name:"Summarise Selection",editorCheckCallback:(i,r)=>{const a=r.somethingSelected();if(i)return a;t.generateInEditor(r,{templateName:"summarise",replaceSelection:!0})}}),this.addCommand({id:"expand-selection",name:"Expand Selection",editorCheckCallback:(i,r)=>{const a=r.somethingSelected();if(i)return a;t.generateInEditor(r,{templateName:"expand",insertAtCursor:!0,addNewline:!0})}}),this.addCommand({id:"rewrite-selection",name:"Rewrite Selection",editorCheckCallback:(i,r)=>{const a=r.somethingSelected();if(i)return a;t.generateInEditor(r,{templateName:"rewrite",replaceSelection:!0})}}),this.addCommand({id:"simplify-selection",name:"Simplify Selection",editorCheckCallback:(i,r)=>{const a=r.somethingSelected();if(i)return a;t.generateInEditor(r,{templateName:"simplify",replaceSelection:!0})}}),this.addCommand({id:"suggest-tags",name:"Suggest Tags",editorCallback:i=>{t.generateInEditor(i,{templateName:"suggest-tags",replaceSelection:!1,addNewline:!0})}}),this.addCommand({id:"generate-title",name:"Generate Title",editorCallback:async i=>{const r=this.app.workspace.getActiveFile();if(r)try{const a=i.getValue(),o=e.getTemplate("generate-title");if(!o)throw new Error("Generate title template not found");const u=(await this.gateway.makeRequest({modelId:this.settings.modelId,prompt:await e.applyTemplate(o,{text:a}),shouldStream:!1,type:"text",maxRetries:3})).response;if(typeof u!="string")throw new Error("Generated title is not a string");const l=u.replace(/^#\s+/,"").replace(/[\/\\:*?"<>|]/g,"").replace(/\s+/g,"-").trim().toLowerCase(),h=r.path.replace(r.name,`${l}.${r.extension}`);await this.app.fileManager.renameFile(r,h),new y.Notice(`File renamed to: ${l}`)}catch(a){this.logger.error("Failed to generate title and rename file:",{error:a instanceof Error?a.message:String(a),stack:a instanceof Error?a.stack:void 0}),new y.Notice("Failed to generate title and rename file")}}}),this.addCommand({id:"generate-text-with-variables",name:"Generate Text With Variables",editorCallback:i=>{t.generateWithModal(i,"generate-text",{addNewline:!0})}}),this.addCommand({id:"brainstorm",name:"Brainstorm",editorCallback:i=>{t.generateInEditor(i,{templateName:"brainstorm",replaceSelection:!1,addNewline:!0})}});const s=Array.from(e.getTemplates()).filter(([i,r])=>!r.default);for(const[i,r]of s){const a=`template-${i}`;this.addCommand({id:a,name:r.description||`Execute template: ${r.name}`,editorCallback:o=>{var c;(c=r.variables)!=null&&c.length?t.generateWithModal(o,r.name,{addNewline:!0}):t.generateInEditor(o,{templateName:r.name,replaceSelection:!1,addNewline:!0})}})}this.logger.debug("loaded")}catch(e){this.logger.error("Failed to load commands",{error:e instanceof Error?e.message:String(e)})}})}onunload(){this.syncInterval&&window.clearInterval(this.syncInterval),this.logger&&this.logger.destroy(),this.app.workspace.detachLeavesOfType(ae),this.logger.debug("unloaded")}updateSyncStatus(e){this.syncStatusBar.setText(`AI Sync: ${e}`),this.logger.debug("Sync status updated",{status:e})}async syncNotes(){try{if(this.logger.debug("Syncing notes"),this.updateSyncStatus("In Progress..."),!this.syncService)throw new Error("Sync service not initialized");await this.syncService.sync(),this.settings.lastSyncTime=Date.now(),await this.saveSettings();const e=new Date().toLocaleTimeString();this.updateSyncStatus(`Complete (${e})`),this.logger.debug("Sync complete",{timestamp:e})}catch(e){this.logger.error("Sync failed",{error:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),this.updateSyncStatus("Failed"),new y.Notice(`Sync failed: ${e instanceof Error?e.message:String(e)}`)}}}module.exports=Zs;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2xpYi9vYmZ1c2NhdGUudHMiLCIuLi9zcmMvY29uc3RhbnRzLnRzIiwiLi4vc3JjL2xpYi9zYWZlU3RvcmFnZS50cyIsIi4uL3NyYy9saWIvbG9nZ2VyLWNvbmZpZy50cyIsIi4uL3NyYy9zZXR0aW5ncy50cyIsIi4uL3NyYy9saWIvZmV0Y2gudHMiLCIuLi9zcmMvbGliL2Vycm9ycy50cyIsIi4uL3NyYy9zZXJ2aWNlcy9wcm94eS50cyIsIi4uL3NyYy9zZXJ2aWNlcy9hcGkudHMiLCIuLi9zcmMvc2VydmljZXMvY2xvdWRmbGFyZS1haS1nYXRld2F5LnRzIiwiLi4vc3JjL3NlcnZpY2VzL2Nsb3VkZmxhcmUtdmVjdG9yaXplLnRzIiwiLi4vc3JjL3R5cGVzL2luZGV4LnRzIiwiLi4vc3JjL2xpYi9sb2dnZXIudHMiLCIuLi9zcmMvc2VydmljZXMvc3luYy50cyIsIi4uL3NyYy9zaGFyZWQvYmFzZS1jaGF0LnRzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZW52aXJvbm1lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2xvb3AuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2RvbS5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvc3R5bGVfbWFuYWdlci5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvbGlmZWN5Y2xlLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9zY2hlZHVsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3RyYW5zaXRpb25zLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9lYWNoLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9Db21wb25lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9zaGFyZWQvdmVyc2lvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZGlzY2xvc2UtdmVyc2lvbi9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvZWFzaW5nL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS90cmFuc2l0aW9uL2luZGV4LmpzIiwiLi4vc3JjL3V0aWxzL21hcmtkb3duLXBhcnNlci50cyIsIi4uL3NyYy9jb21wb25lbnRzL2ljb25zL2NvcHkuc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvTWVzc2FnZUxpc3Quc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvaWNvbnMvc2VuZC5zdmVsdGUiLCIuLi9zcmMvY29tcG9uZW50cy9pY29ucy9maWx0ZXIuc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvaWNvbnMvY2xlYW4uc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvQ2hhdElucHV0LnN2ZWx0ZSIsIi4uL3NyYy9jb21wb25lbnRzL0NoYXRNb2RhbC5zdmVsdGUiLCIuLi9zcmMvbW9kYWxzL2NoYXQudHMiLCIuLi9zcmMvY29tcG9uZW50cy9DaGF0Vmlldy5zdmVsdGUiLCIuLi9zcmMvdmlld3MvY2hhdC50cyIsIi4uL3NyYy9tb2RhbHMvZ2VuZXJhdGUtdGV4dC50cyIsIi4uL3NyYy9zZXJ2aWNlcy90ZXh0LWdlbmVyYXRvci50cyIsIi4uL3NyYy9zZXJ2aWNlcy90ZW1wbGF0ZS1tYW5hZ2VyLnRzIiwiLi4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIG9iZnVzY2F0ZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBzdHIubGVuZ3RoID4gMCA/IHN0ci5yZXBsYWNlKC9eKC57M30pKC4qKSguezR9KSQvLCBcIiQxKioqKiQzXCIpIDogXCJcIjtcbn1cbiIsImltcG9ydCB0eXBlIHsgQ2xvdWRmbGFyZUFJUGx1Z2luU2V0dGluZ3MsIFRlbXBsYXRlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IFBMVUdJTl9QUkVGSVggPSBcImNsb3VkZmxhcmUtYWlcIjtcbmV4cG9ydCBjb25zdCBQTFVHSU5fTkFNRSA9IFwiQ2xvdWRmbGFyZSBBSVwiO1xuXG5leHBvcnQgZW51bSBNb2RlbElkcyB7XG5cdExMQU1BXzcwQl9GQVNUID0gXCJAY2YvbWV0YS9sbGFtYS0zLjMtNzBiLWluc3RydWN0LWZwOC1mYXN0XCIsXG5cdExMQU1BXzFCID0gXCJAY2YvbWV0YS9sbGFtYS0zLjItMWItaW5zdHJ1Y3RcIixcblx0TExBTUFfM0IgPSBcIkBjZi9tZXRhL2xsYW1hLTMuMi0zYi1pbnN0cnVjdFwiLFxuXHRMTEFNQV84QiA9IFwiQGNmL21ldGEvbGxhbWEtMy4xLThiLWluc3RydWN0XCIsXG5cdExMQU1BXzhCX0ZQOCA9IFwiQGNmL21ldGEvbGxhbWEtMy4xLThiLWluc3RydWN0LWZwOFwiLFxuXHRMTEFNQV84Ql9GQVNUID0gXCJAY2YvbWV0YS9sbGFtYS0zLjEtOGItaW5zdHJ1Y3QtZmFzdFwiLFxuXHRMTEFNQV84Ql9BV1EgPSBcIkBjZi9tZXRhL2xsYW1hLTMuMS04Yi1pbnN0cnVjdC1hd3FcIixcblx0TExBTUFfNzBCID0gXCJAY2YvbWV0YS9sbGFtYS0zLjEtNzBiLWluc3RydWN0XCIsXG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0TW9kZWxJZCA9IE1vZGVsSWRzLkxMQU1BXzhCX0ZBU1Q7XG5cbmV4cG9ydCBlbnVtIEVtYmVkZGluZ01vZGVsSWRzIHtcblx0QkdFX1NNQUxMID0gXCJAY2YvYmFhaS9iZ2Utc21hbGwtZW4tdjEuNVwiLFxuXHRCR0VfQkFTRSA9IFwiQGNmL2JhYWkvYmdlLWJhc2UtZW4tdjEuNVwiLFxuXHRCR0VfTEFSR0UgPSBcIkBjZi9iYWFpL2JnZS1sYXJnZS1lbi12MS41XCIsXG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RW1iZWRkaW5nTW9kZWxJZCA9IEVtYmVkZGluZ01vZGVsSWRzLkJHRV9CQVNFO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQ2xvdWRmbGFyZUFJUGx1Z2luU2V0dGluZ3MgPSB7XG5cdGNsb3VkZmxhcmVBY2NvdW50SWQ6IFwiXCIsXG5cdGNsb3VkZmxhcmVBaUdhdGV3YXlJZDogXCJcIixcblx0Y2xvdWRmbGFyZUFpQXBpS2V5OiBcIlwiLFxuXHRjbG91ZGZsYXJlVmVjdG9yaXplQXBpS2V5OiBcIlwiLFxuXHRtb2RlbElkOiBkZWZhdWx0TW9kZWxJZCxcblx0bWF4VG9rZW5zOiAyNTYsXG5cdHRlbXBlcmF0dXJlOiAwLjYsXG5cdHRleHRFbWJlZGRpbmdzTW9kZWxJZDogZGVmYXVsdEVtYmVkZGluZ01vZGVsSWQsXG5cdHZlY3Rvcml6ZUluZGV4TmFtZTogXCJvYnNpZGlhbi1ub3Rlc1wiLFxuXHR0b3BLOiAzLFxuXHRtaW5TaW1pbGFyaXR5U2NvcmU6IDAuNyxcblx0aWdub3JlZEZvbGRlcnM6IFtdLFxuXHRzeW5jRW5hYmxlZDogZmFsc2UsXG5cdGF1dG9TeW5jSW50ZXJ2YWw6IDMwLFxuXHRjbG91ZGZsYXJlQWlBcGlLZXlTYXZlZDogZmFsc2UsXG5cdGNsb3VkZmxhcmVWZWN0b3JpemVBcGlLZXlTYXZlZDogZmFsc2UsXG5cdGN1c3RvbVRlbXBsYXRlc0ZvbGRlcjogXCJhaS90ZW1wbGF0ZXNcIixcblx0bG9nTGV2ZWw6IFwiZXJyb3JcIixcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RFTVBMQVRFUzogUmVjb3JkPHN0cmluZywgVGVtcGxhdGU+ID0ge1xuXHRjb250aW51ZToge1xuXHRcdG5hbWU6IFwiY29udGludWVcIixcblx0XHRkZXNjcmlwdGlvbjogXCJDb250aW51ZSB3cml0aW5nIGZyb20gdGhlIGN1cnJlbnQgdGV4dFwiLFxuXHRcdHByb21wdDpcblx0XHRcdFwiQ29udGludWUgdGhpcyB0ZXh0IG5hdHVyYWxseSwgbWFpbnRhaW5pbmcgdGhlIHNhbWUgc3R5bGUgYW5kIHRvbmUuIE9ubHkgcmV0dXJuIHRoZSBjb250aW51YXRpb24sIG5vIGV4cGxhbmF0aW9ucyBvciBvdGhlciB0ZXh0Olxcblxcbnt7dGV4dH19XCIsXG5cdH0sXG5cdHN1bW1hcmlzZToge1xuXHRcdG5hbWU6IFwic3VtbWFyaXNlXCIsXG5cdFx0ZGVzY3JpcHRpb246IFwiU3VtbWFyaXNlIHRoZSBzZWxlY3RlZCB0ZXh0XCIsXG5cdFx0cHJvbXB0OlxuXHRcdFx0XCJQcm92aWRlIGEgY29uY2lzZSBzdW1tYXJ5IG9mIHRoaXMgdGV4dC4gUmV0dXJuIG9ubHkgdGhlIHN1bW1hcnksIG5vIGV4cGxhbmF0aW9ucyBvciBvdGhlciB0ZXh0Olxcblxcbnt7dGV4dH19XCIsXG5cdH0sXG5cdGV4cGFuZDoge1xuXHRcdG5hbWU6IFwiZXhwYW5kXCIsXG5cdFx0ZGVzY3JpcHRpb246IFwiRXhwYW5kIG9uIHRoZSBzZWxlY3RlZCB0ZXh0XCIsXG5cdFx0cHJvbXB0OlxuXHRcdFx0XCJFeHBhbmQgdGhpcyB0ZXh0IHdpdGggbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcy4gUmV0dXJuIG9ubHkgdGhlIGV4cGFuZGVkIHRleHQsIG5vIGV4cGxhbmF0aW9ucyBvciBvdGhlciB0ZXh0Olxcblxcbnt7dGV4dH19XCIsXG5cdH0sXG5cdHJld3JpdGU6IHtcblx0XHRuYW1lOiBcInJld3JpdGVcIixcblx0XHRkZXNjcmlwdGlvbjogXCJSZXdyaXRlIHRoZSBzZWxlY3RlZCB0ZXh0XCIsXG5cdFx0cHJvbXB0OlxuXHRcdFx0XCJSZXdyaXRlIHRoaXMgdGV4dCB0byBpbXByb3ZlIGNsYXJpdHkgYW5kIGZsb3cuIFJldHVybiBvbmx5IHRoZSByZXdyaXR0ZW4gdGV4dCwgbm8gZXhwbGFuYXRpb25zIG9yIG90aGVyIHRleHQ6XFxuXFxue3t0ZXh0fX1cIixcblx0fSxcblx0c2ltcGxpZnk6IHtcblx0XHRuYW1lOiBcInNpbXBsaWZ5XCIsXG5cdFx0ZGVzY3JpcHRpb246IFwiU2ltcGxpZnkgdGhlIHNlbGVjdGVkIHRleHRcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHRcIlNpbXBsaWZ5IHRoaXMgdGV4dCB0byBtYWtlIGl0IGVhc2llciB0byB1bmRlcnN0YW5kLiBSZXR1cm4gb25seSB0aGUgc2ltcGxpZmllZCB0ZXh0LCBubyBleHBsYW5hdGlvbnMgb3Igb3RoZXIgdGV4dDpcXG5cXG57e3RleHR9fVwiLFxuXHR9LFxuXHRcInN1Z2dlc3QtdGFnc1wiOiB7XG5cdFx0bmFtZTogXCJzdWdnZXN0LXRhZ3NcIixcblx0XHRkZXNjcmlwdGlvbjogXCJTdWdnZXN0IHRhZ3MgZm9yIHRoZSBzZWxlY3RlZCB0ZXh0XCIsXG5cdFx0cHJvbXB0OlxuXHRcdFx0XCJTdWdnZXN0IHRhZ3MgZm9yIHRoaXMgdGV4dC4gUmV0dXJuIG9ubHkgdGhlIHRhZ3MsIG5vIGV4cGxhbmF0aW9ucyBvciBvdGhlciB0ZXh0Olxcblxcbnt7dGV4dH19XCIsXG5cdH0sXG5cdFwiZ2VuZXJhdGUtdGl0bGVcIjoge1xuXHRcdG5hbWU6IFwiZ2VuZXJhdGUtdGl0bGVcIixcblx0XHRkZXNjcmlwdGlvbjogXCJHZW5lcmF0ZSBhIHRpdGxlIGZyb20gdGhlIGNvbnRlbnRcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHQnR2VuZXJhdGUgYSBjbGVhciwgY29uY2lzZSB0aXRsZSBmb3IgdGhpcyB0ZXh0LiBSZXR1cm4gb25seSB0aGUgdGl0bGUsIG5vIHF1b3RlcyBvciBleHRyYSB0ZXh0LiAoZG8gbm90IHVzZSAqIFwiIFxcXFwgLyA8ID4gOiB8ID8gLik6XFxuXFxue3t0ZXh0fX0nLFxuXHR9LFxuXHRcImdlbmVyYXRlLXRleHRcIjoge1xuXHRcdG5hbWU6IFwiR2VuZXJhdGUgdGV4dFwiLFxuXHRcdGRlc2NyaXB0aW9uOiBcIkdlbmVyYXRlIHRleHQgd2l0aCBjdXN0b20gdmFyaWFibGVzXCIsXG5cdFx0cHJvbXB0OlxuXHRcdFx0XCJXcml0ZSBhIHt7c3R5bGV9fSBwYXNzYWdlIGFib3V0IHt7dG9waWN9fSB0aGF0IGlzIHt7bGVuZ3RofX0gbG9uZy5cXG5cXG5Vc2UgdGhpcyBjb250ZXh0Olxcbnt7dGV4dH19XCIsXG5cdFx0dmFyaWFibGVzOiBbXCJzdHlsZVwiLCBcInRvcGljXCIsIFwibGVuZ3RoXCJdLFxuXHR9LFxuXHRicmFpbnN0b3JtOiB7XG5cdFx0bmFtZTogXCJicmFpbnN0b3JtXCIsXG5cdFx0ZGVzY3JpcHRpb246IFwiQnJhaW5zdG9ybSBpZGVhcyBmb3IgdGhlIHNlbGVjdGVkIHRleHRcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHRcIkJyYWluc3Rvcm0gaWRlYXMgZm9yIHRoaXMgdGV4dC4gUmV0dXJuIG9ubHkgdGhlIGlkZWFzLCBubyBleHBsYW5hdGlvbnMgb3Igb3RoZXIgdGV4dDpcXG5cXG57e3RleHR9fVwiLFxuXHR9LFxufTtcbiIsIi8vIEB0cy1pZ25vcmVcbmV4cG9ydCBjb25zdCBzYWZlU3RvcmFnZSA9IHdpbmRvdy5lbGVjdHJvbj8ucmVtb3RlPy5zYWZlU3RvcmFnZSA/PyB7XG5cdGlzRW5jcnlwdGlvbkF2YWlsYWJsZTogKCkgPT4gZmFsc2UsXG5cdGVuY3J5cHRTdHJpbmc6ICh0ZXh0OiBzdHJpbmcpID0+IEJ1ZmZlci5mcm9tKHRleHQpLFxuXHRkZWNyeXB0U3RyaW5nOiAoYnVmZmVyOiBCdWZmZXIpID0+IGJ1ZmZlci50b1N0cmluZygpLFxufTtcbiIsImltcG9ydCB0eXBlIHsgTG9nZ2VyQ29uZmlnLCBMb2dMZXZlbFR5cGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IFBMVUdJTl9OQU1FIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgdHlwZSBMb2dPdXRwdXQgPSB7XG5cdGxvZzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcblx0ZXJyb3I6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdHdhcm46IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdGluZm86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdGRlYnVnOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfTE9HR0VSX0NPTkZJRzogTG9nZ2VyQ29uZmlnID0ge1xuXHRsZXZlbDogXCJlcnJvclwiLFxuXHR1c2VUaW1lc3RhbXA6IHRydWUsXG5cdG91dHB1dDogY29uc29sZSBhcyBMb2dPdXRwdXQsXG5cdHNlcnZpY2VOYW1lOiBQTFVHSU5fTkFNRSxcbn07XG5cbmNsYXNzIExvZ2dlckNvbmZpZ01hbmFnZXIge1xuXHRwcml2YXRlIGNvbmZpZzogTG9nZ2VyQ29uZmlnID0geyAuLi5ERUZBVUxUX0xPR0dFUl9DT05GSUcgfTtcblx0cHJpdmF0ZSBsaXN0ZW5lcnM6IFNldDwoY29uZmlnOiBMb2dnZXJDb25maWcpID0+IHZvaWQ+ID0gbmV3IFNldCgpO1xuXG5cdHNldENvbmZpZyhuZXdDb25maWc6IFBhcnRpYWw8TG9nZ2VyQ29uZmlnPikge1xuXHRcdHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4ubmV3Q29uZmlnIH07XG5cdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0fVxuXG5cdGdldENvbmZpZygpOiBMb2dnZXJDb25maWcge1xuXHRcdHJldHVybiB0aGlzLmNvbmZpZztcblx0fVxuXG5cdGFkZExpc3RlbmVyKGxpc3RlbmVyOiAoY29uZmlnOiBMb2dnZXJDb25maWcpID0+IHZvaWQpIHtcblx0XHR0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuXHR9XG5cblx0cmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IChjb25maWc6IExvZ2dlckNvbmZpZykgPT4gdm9pZCkge1xuXHRcdHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG5cdH1cblxuXHRwcml2YXRlIG5vdGlmeUxpc3RlbmVycygpIHtcblx0XHR0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIodGhpcy5jb25maWcpKTtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgbG9nZ2VyQ29uZmlnID0gbmV3IExvZ2dlckNvbmZpZ01hbmFnZXIoKTtcblxuZXhwb3J0IGNvbnN0IHNldEdsb2JhbExvZ2dlckNvbmZpZyA9IChjb25maWc6IFBhcnRpYWw8TG9nZ2VyQ29uZmlnPikgPT4ge1xuXHRsb2dnZXJDb25maWcuc2V0Q29uZmlnKGNvbmZpZyk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VyQ29uZmlnID0gKCkgPT4gbG9nZ2VyQ29uZmlnLmdldENvbmZpZygpO1xuIiwiaW1wb3J0IHsgQXBwLCBOb3RpY2UsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHsgb2JmdXNjYXRlIH0gZnJvbSBcIi4vbGliL29iZnVzY2F0ZVwiO1xuaW1wb3J0IHR5cGUgeyBDbG91ZGZsYXJlQUlQbHVnaW5TZXR0aW5ncywgTG9nTGV2ZWxUeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IE1vZGVsSWRzLCBFbWJlZGRpbmdNb2RlbElkcyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgc2FmZVN0b3JhZ2UgfSBmcm9tIFwiLi9saWIvc2FmZVN0b3JhZ2VcIjtcbmltcG9ydCBDbG91ZGZsYXJlQUlQbHVnaW4gZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHsgc2V0R2xvYmFsTG9nZ2VyQ29uZmlnIH0gZnJvbSBcIi4vbGliL2xvZ2dlci1jb25maWdcIjtcblxuZXhwb3J0IGNsYXNzIENsb3VkZmxhcmVBSVNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHByaXZhdGUgdGVtcG9yYXJ5QWlBcGlLZXk6IHN0cmluZyA9IFwiXCI7XG5cdHByaXZhdGUgdGVtcG9yYXJ5VmVjdG9yaXplQXBpS2V5OiBzdHJpbmcgPSBcIlwiO1xuXHRwcml2YXRlIHBsdWdpbjogQ2xvdWRmbGFyZUFJUGx1Z2luO1xuXHRwcml2YXRlIHNldHRpbmdzOiBDbG91ZGZsYXJlQUlQbHVnaW5TZXR0aW5ncztcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDbG91ZGZsYXJlQUlQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHBsdWdpbi5zZXR0aW5ncztcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlQWNjb3VudFNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJDbG91ZGZsYXJlIGFjY291bnQgSURcIilcblx0XHRcdC5zZXREZXNjKFwiVGhlIElEIG9mIHlvdXIgQ2xvdWRmbGFyZSBhY2NvdW50XCIpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHlvdXIgQ2xvdWRmbGFyZSBBY2NvdW50IElEXCIpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMuc2V0dGluZ3MuY2xvdWRmbGFyZUFjY291bnRJZClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmNsb3VkZmxhcmVBY2NvdW50SWQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJDbG91ZGZsYXJlIEFJIEdhdGV3YXkgSURcIilcblx0XHRcdC5zZXREZXNjKFwiVGhlIElEIG9mIHlvdXIgQ2xvdWRmbGFyZSBBSSBHYXRld2F5XCIpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHlvdXIgQ2xvdWRmbGFyZSBBSSBHYXRld2F5IElEXCIpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMuc2V0dGluZ3MuY2xvdWRmbGFyZUFpR2F0ZXdheUlkKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuY2xvdWRmbGFyZUFpR2F0ZXdheUlkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZUFwaUtleVNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdHRoaXMuY3JlYXRlQXBpS2V5U2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJDbG91ZGZsYXJlIEFJIEFQSSBrZXlcIixcblx0XHRcdFwiVGhlIEFQSSBrZXkgZm9yIHlvdXIgQ2xvdWRmbGFyZSBBSSBHYXRld2F5XCIsXG5cdFx0XHRcImNsb3VkZmxhcmVBaUFwaUtleVwiLFxuXHRcdFx0XCJjbG91ZGZsYXJlQWlBcGlLZXlTYXZlZFwiLFxuXHRcdFx0dGhpcy50ZW1wb3JhcnlBaUFwaUtleSxcblx0XHRcdCh2YWx1ZSkgPT4gKHRoaXMudGVtcG9yYXJ5QWlBcGlLZXkgPSB2YWx1ZSksXG5cdFx0KTtcblxuXHRcdHRoaXMuY3JlYXRlQXBpS2V5U2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJDbG91ZGZsYXJlIFZlY3Rvcml6ZSBBUEkga2V5XCIsXG5cdFx0XHRcIlRoZSBBUEkga2V5IGZvciB5b3VyIENsb3VkZmxhcmUgVmVjdG9yaXplIEFQSVwiLFxuXHRcdFx0XCJjbG91ZGZsYXJlVmVjdG9yaXplQXBpS2V5XCIsXG5cdFx0XHRcImNsb3VkZmxhcmVWZWN0b3JpemVBcGlLZXlTYXZlZFwiLFxuXHRcdFx0dGhpcy50ZW1wb3JhcnlWZWN0b3JpemVBcGlLZXksXG5cdFx0XHQodmFsdWUpID0+ICh0aGlzLnRlbXBvcmFyeVZlY3Rvcml6ZUFwaUtleSA9IHZhbHVlKSxcblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVBcGlLZXlTZXR0aW5nKFxuXHRcdGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCxcblx0XHRuYW1lOiBzdHJpbmcsXG5cdFx0ZGVzYzogc3RyaW5nLFxuXHRcdGtleUZpZWxkOiBcImNsb3VkZmxhcmVBaUFwaUtleVwiIHwgXCJjbG91ZGZsYXJlVmVjdG9yaXplQXBpS2V5XCIsXG5cdFx0c2F2ZWRGaWVsZDogXCJjbG91ZGZsYXJlQWlBcGlLZXlTYXZlZFwiIHwgXCJjbG91ZGZsYXJlVmVjdG9yaXplQXBpS2V5U2F2ZWRcIixcblx0XHR0ZW1wb3JhcnlLZXk6IHN0cmluZyxcblx0XHRzZXRUZW1wb3JhcnlLZXk6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkLFxuXHQpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzW3NhdmVkRmllbGRdKSB7XG5cdFx0XHRjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHRcdC5zZXREZXNjKGRlc2MpXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHRcdHRleHRcblx0XHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihgRW50ZXIgeW91ciAke25hbWV9YClcblx0XHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHNldFRlbXBvcmFyeUtleSh2YWx1ZSkpLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRzZXR0aW5nLmFkZEJ1dHRvbigoYnV0dG9uKSA9PiB7XG5cdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KFwiU2F2ZSBBUEkgS2V5XCIpLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh0ZW1wb3JhcnlLZXkpIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGlmIChzYWZlU3RvcmFnZS5pc0VuY3J5cHRpb25BdmFpbGFibGUoKSkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGVuY3J5cHRlZCA9IHNhZmVTdG9yYWdlLmVuY3J5cHRTdHJpbmcodGVtcG9yYXJ5S2V5KTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5nc1trZXlGaWVsZF0gPVxuXHRcdFx0XHRcdFx0XHRcdFx0QnVmZmVyLmZyb20oZW5jcnlwdGVkKS50b1N0cmluZyhcImJhc2U2NFwiKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5nc1trZXlGaWVsZF0gPSB0ZW1wb3JhcnlLZXk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Nbc2F2ZWRGaWVsZF0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRzZXRUZW1wb3JhcnlLZXkoXCJcIik7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGAke25hbWV9IHNhdmVkIHN1Y2Nlc3NmdWxseWApO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gc2F2ZSBBUEkga2V5XCIpO1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShcIlBsZWFzZSBlbnRlciBhbiBBUEkga2V5XCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShuYW1lKVxuXHRcdFx0XHQuc2V0RGVzYyhkZXNjKVxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRsZXQgYXBpS2V5ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Nba2V5RmllbGRdO1xuXHRcdFx0XHRcdFx0aWYgKHNhZmVTdG9yYWdlLmlzRW5jcnlwdGlvbkF2YWlsYWJsZSgpICYmIGFwaUtleSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBkZWNyeXB0ZWQgPSBzYWZlU3RvcmFnZS5kZWNyeXB0U3RyaW5nKFxuXHRcdFx0XHRcdFx0XHRcdEJ1ZmZlci5mcm9tKGFwaUtleSwgXCJiYXNlNjRcIiksXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIob2JmdXNjYXRlKGRlY3J5cHRlZCkpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihvYmZ1c2NhdGUoYXBpS2V5KSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoXCIqKioqKioqKlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGV4dC5zZXREaXNhYmxlZCh0cnVlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdHNldHRpbmcuYWRkQnV0dG9uKChidXR0b24pID0+IHtcblx0XHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoXCJSZW1vdmUgQVBJIEtleVwiKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5nc1trZXlGaWVsZF0gPSBcIlwiO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzW3NhdmVkRmllbGRdID0gZmFsc2U7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgJHtuYW1lfSByZW1vdmVkYCk7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVNb2RlbFNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiVGV4dCBtb2RlbFwiKS5zZXRIZWFkaW5nKCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiTW9kZWwgSURcIilcblx0XHRcdC5zZXREZXNjKFwiVGhlIElEIG9mIHRoZSB0ZXh0IG1vZGVsIHRvIHVzZVwiKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cblx0XHRcdFx0ZHJvcGRvd25cblx0XHRcdFx0XHQuYWRkT3B0aW9ucyhcblx0XHRcdFx0XHRcdE9iamVjdC5mcm9tRW50cmllcyhcblx0XHRcdFx0XHRcdFx0T2JqZWN0LmVudHJpZXMoTW9kZWxJZHMpLm1hcCgoW18sIHZhbHVlXSkgPT4gW1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlLnNwbGl0KFwiL1wiKS5wb3AoKT8ucmVwbGFjZSgvLS9nLCBcIiBcIikudG9VcHBlckNhc2UoKSA/P1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0XHRcdF0pLFxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMuc2V0dGluZ3MubW9kZWxJZClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLm1vZGVsSWQgPSB2YWx1ZSBhcyBNb2RlbElkcztcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdHRoaXMuY3JlYXRlTnVtYmVyU2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJNYXggdG9rZW5zXCIsXG5cdFx0XHRcIlRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGVcIixcblx0XHRcdFwibWF4VG9rZW5zXCIsXG5cdFx0XHQxLFxuXHRcdFx0SW5maW5pdHksXG5cdFx0KTtcblxuXHRcdHRoaXMuY3JlYXRlTnVtYmVyU2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJUZW1wZXJhdHVyZVwiLFxuXHRcdFx0XCJUaGUgdGVtcGVyYXR1cmUgb2YgdGhlIHRleHQgbW9kZWxcIixcblx0XHRcdFwidGVtcGVyYXR1cmVcIixcblx0XHRcdDAsXG5cdFx0XHQ1LFxuXHRcdFx0dHJ1ZSxcblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVWZWN0b3JpemVTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIkNsb3VkZmxhcmUgVmVjdG9yaXplXCIpLnNldEhlYWRpbmcoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJWZWN0b3JpemUgaW5kZXggbmFtZVwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgbmFtZSBvZiB0aGUgaW5kZXhcIilcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgdGhlIG5hbWUgb2YgdGhlIGluZGV4IHRvIHVzZVwiKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLnZlY3Rvcml6ZUluZGV4TmFtZSlcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnZlY3Rvcml6ZUluZGV4TmFtZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlRleHQgZW1iZWRkaW5ncyBtb2RlbCBJRFwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgSUQgb2YgdGhlIHRleHQgZW1iZWRkaW5ncyBtb2RlbCB0byB1c2VcIilcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG5cdFx0XHRcdGRyb3Bkb3duXG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMoXG5cdFx0XHRcdFx0XHRPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0XHRcdFx0XHRcdE9iamVjdC5lbnRyaWVzKEVtYmVkZGluZ01vZGVsSWRzKS5tYXAoKFtfLCB2YWx1ZV0pID0+IFtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZS5zcGxpdChcIi9cIikucG9wKCk/LnJlcGxhY2UoLy0vZywgXCIgXCIpLnRvVXBwZXJDYXNlKCkgPz9cblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRdKSxcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLnRleHRFbWJlZGRpbmdzTW9kZWxJZClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnRleHRFbWJlZGRpbmdzTW9kZWxJZCA9IHZhbHVlIGFzIEVtYmVkZGluZ01vZGVsSWRzO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXG5cdFx0dGhpcy5jcmVhdGVOdW1iZXJTZXR0aW5nKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHRcIlRvcCBrXCIsXG5cdFx0XHRcIlRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm5cIixcblx0XHRcdFwidG9wS1wiLFxuXHRcdFx0MSxcblx0XHRcdEluZmluaXR5LFxuXHRcdCk7XG5cblx0XHR0aGlzLmNyZWF0ZU51bWJlclNldHRpbmcoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFwiTWluIHNpbWlsYXJpdHkgc2NvcmVcIixcblx0XHRcdFwiVGhlIG1pbmltdW0gc2ltaWxhcml0eSBzY29yZSB0byByZXR1cm5cIixcblx0XHRcdFwibWluU2ltaWxhcml0eVNjb3JlXCIsXG5cdFx0XHQwLFxuXHRcdFx0MSxcblx0XHRcdHRydWUsXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlU3luY1NldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiU3luY1wiKS5zZXRIZWFkaW5nKCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiSWdub3JlZCBmb2xkZXJzXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkZvbGRlcnMgdG8gaWdub3JlIHdoZW4gc3luY2luZyBub3Rlcywgc2VwYXJhdGVkIGJ5IGNvbW1hc1wiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciB0aGUgZm9sZGVycyB0byBpZ25vcmVcIilcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5pZ25vcmVkRm9sZGVycy5qb2luKFwiLFwiKSlcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmlnbm9yZWRGb2xkZXJzID0gdmFsdWUuc3BsaXQoXCIsXCIpLmZpbHRlcihCb29sZWFuKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJFbmFibGUgYXV0byBzeW5jXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkF1dG9tYXRpY2FsbHkgc3luYyBub3RlcyBhdCByZWd1bGFyIGludGVydmFsc1wiKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5zeW5jRW5hYmxlZCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zeW5jRW5hYmxlZCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cblx0XHR0aGlzLmNyZWF0ZU51bWJlclNldHRpbmcoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFwiU3luYyBpbnRlcnZhbFwiLFxuXHRcdFx0XCJIb3cgb2Z0ZW4gdG8gc3luYyAoaW4gbWludXRlcylcIixcblx0XHRcdFwiYXV0b1N5bmNJbnRlcnZhbFwiLFxuXHRcdFx0MSxcblx0XHRcdEluZmluaXR5LFxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZVRleHRHZW5lcmF0b3JTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlRleHQgR2VuZXJhdG9yXCIpLnNldEhlYWRpbmcoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJDdXN0b20gdGVtcGxhdGVzIGZvbGRlclwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgZm9sZGVyIHRvIHN0b3JlIGN1c3RvbSB0ZW1wbGF0ZXNcIilcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgdGhlIGZvbGRlciB0byBzdG9yZSBjdXN0b20gdGVtcGxhdGVzXCIpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMuc2V0dGluZ3MuY3VzdG9tVGVtcGxhdGVzRm9sZGVyKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuY3VzdG9tVGVtcGxhdGVzRm9sZGVyID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZUxvZ2dlclNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiTG9nZ2luZ1wiKS5zZXRIZWFkaW5nKCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiTG9nIExldmVsXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlNldCB0aGUgbG9nZ2luZyBsZXZlbCBmb3IgdGhlIHBsdWdpblwiKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cblx0XHRcdFx0ZHJvcGRvd25cblx0XHRcdFx0XHQuYWRkT3B0aW9ucyh7XG5cdFx0XHRcdFx0XHRlcnJvcjogXCJFcnJvclwiLFxuXHRcdFx0XHRcdFx0d2FybjogXCJXYXJuaW5nXCIsXG5cdFx0XHRcdFx0XHRpbmZvOiBcIkluZm9cIixcblx0XHRcdFx0XHRcdGRlYnVnOiBcIkRlYnVnXCIsXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5sb2dMZXZlbCB8fCBcImVycm9yXCIpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5sb2dMZXZlbCA9IHZhbHVlIGFzIExvZ0xldmVsVHlwZTtcblx0XHRcdFx0XHRcdHNldEdsb2JhbExvZ2dlckNvbmZpZyh7IGxldmVsOiB2YWx1ZSBhcyBMb2dMZXZlbFR5cGUgfSk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZU51bWJlclNldHRpbmcoXG5cdFx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjOiBzdHJpbmcsXG5cdFx0ZmllbGQ6IGtleW9mIENsb3VkZmxhcmVBSVBsdWdpblNldHRpbmdzLFxuXHRcdG1pbjogbnVtYmVyLFxuXHRcdG1heDogbnVtYmVyLFxuXHRcdGlzRmxvYXQ6IGJvb2xlYW4gPSBmYWxzZSxcblx0KTogdm9pZCB7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShuYW1lKVxuXHRcdFx0LnNldERlc2MoZGVzYylcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKG5hbWUpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzW2ZpZWxkXT8udG9TdHJpbmcoKSA/PyBcIlwiKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHBhcnNlZFZhbHVlID0gaXNGbG9hdCA/IHBhcnNlRmxvYXQodmFsdWUpIDogcGFyc2VJbnQodmFsdWUpO1xuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHQhaXNOYU4ocGFyc2VkVmFsdWUpICYmXG5cdFx0XHRcdFx0XHRcdHBhcnNlZFZhbHVlID49IG1pbiAmJlxuXHRcdFx0XHRcdFx0XHRwYXJzZWRWYWx1ZSA8PSBtYXhcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3NbZmllbGRdIGFzIG51bWJlcikgPSBwYXJzZWRWYWx1ZTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKFxuXHRcdFx0XHRcdFx0XHRcdGBJbnZhbGlkIHZhbHVlIGZvciAke25hbWV9LiBNdXN0IGJlIGJldHdlZW4gJHttaW59IGFuZCAke21heH1gLFxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0dGhpcy5jcmVhdGVBY2NvdW50U2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMuY3JlYXRlQXBpS2V5U2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMuY3JlYXRlTW9kZWxTZXR0aW5ncyhjb250YWluZXJFbCk7XG5cdFx0dGhpcy5jcmVhdGVWZWN0b3JpemVTZXR0aW5ncyhjb250YWluZXJFbCk7XG5cdFx0dGhpcy5jcmVhdGVTeW5jU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMuY3JlYXRlVGV4dEdlbmVyYXRvclNldHRpbmdzKGNvbnRhaW5lckVsKTtcblx0XHR0aGlzLmNyZWF0ZUxvZ2dlclNldHRpbmdzKGNvbnRhaW5lckVsKTtcblx0fVxufVxuIiwiLy8gT3JpZ2luYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9uaGFvdWFyaS9vYnNpZGlhbi10ZXh0Z2VuZXJhdG9yLXBsdWdpblxuLy8gQ3JlZGl0OiBodHRwczovL2dpdGh1Yi5jb20vaGFvdWFyaWhrXG5cbmltcG9ydCB7IHJlcXVlc3RVcmwgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgUmVxdWVzdFVybFBhcmFtLCBSZXF1ZXN0VXJsUmVzcG9uc2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuY29uc3QgU1RBVFVTX1RFWFRTOiBSZWFkb25seTxSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+PiA9IHtcblx0MjAwOiBcIk9LXCIsXG5cdDIwMTogXCJDcmVhdGVkXCIsXG5cdDIwMjogXCJBY2NlcHRlZFwiLFxuXHQyMDQ6IFwiTm8gQ29udGVudFwiLFxuXHQzMDA6IFwiTXVsdGlwbGUgQ2hvaWNlc1wiLFxuXHQzMDE6IFwiTW92ZWQgUGVybWFuZW50bHlcIixcblx0MzAyOiBcIkZvdW5kXCIsXG5cdDMwNDogXCJOb3QgTW9kaWZpZWRcIixcblx0NDAwOiBcIkJhZCBSZXF1ZXN0XCIsXG5cdDQwMTogXCJVbmF1dGhvcml6ZWRcIixcblx0NDAzOiBcIkZvcmJpZGRlblwiLFxuXHQ0MDQ6IFwiTm90IEZvdW5kXCIsXG5cdDQwODogXCJSZXF1ZXN0IFRpbWVvdXRcIixcblx0NDA5OiBcIkNvbmZsaWN0XCIsXG5cdDQyOTogXCJUb28gTWFueSBSZXF1ZXN0c1wiLFxuXHQ1MDA6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsXG5cdDUwMjogXCJCYWQgR2F0ZXdheVwiLFxuXHQ1MDM6IFwiU2VydmljZSBVbmF2YWlsYWJsZVwiLFxuXHQ1MDQ6IFwiR2F0ZXdheSBUaW1lb3V0XCIsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hXaXRoUmVxdWVzdFVybChcblx0aW5wdXQ6IFJlcXVlc3RJbmZvLFxuXHRpbml0PzogUmVxdWVzdEluaXQgJiB7IHRocm93PzogYm9vbGVhbiB9LFxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuXHRjb25zdCB1cmwgPSB0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIgPyBpbnB1dCA6IGlucHV0LnVybDtcblx0Y29uc3Qgb3B0aW9ucyA9XG5cdFx0dHlwZW9mIGlucHV0ID09PSBcIm9iamVjdFwiXG5cdFx0XHQ/IHsgLi4uaW5pdCwgLi4uKGF3YWl0IHJlcXVlc3RUb09iamVjdChpbnB1dCkpIH1cblx0XHRcdDogaW5pdCB8fCB7fTtcblxuXHRjb25zdCBwYXJhbXM6IFJlcXVlc3RVcmxQYXJhbSA9IHtcblx0XHR1cmwsXG5cdFx0bWV0aG9kOiBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiLFxuXHRcdGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuXHRcdGJvZHk6IG9wdGlvbnMuYm9keSBhcyBzdHJpbmcgfCBBcnJheUJ1ZmZlcixcblx0XHR0aHJvdzogZmFsc2UsXG5cdH07XG5cblx0Y29uc3QgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG5cdGNvbnN0IGNvbnRlbnRUeXBlID0gaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXTtcblx0aWYgKGNvbnRlbnRUeXBlKSB7XG5cdFx0cGFyYW1zLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGU7XG5cdH1cblxuXHRjb25zdCBpc1N0cmVhbWluZyA9IGhlYWRlcnNbXCJBY2NlcHRcIl0gPT09IFwidGV4dC9ldmVudC1zdHJlYW1cIjtcblxuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybChwYXJhbXMpO1xuXHRcdHJldHVybiBjcmVhdGVGZXRjaFJlc3BvbnNlKHJlc3BvbnNlLCB1cmwsIGlzU3RyZWFtaW5nLCBvcHRpb25zLnRocm93KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRgRmV0Y2ggcmVxdWVzdCBmYWlsZWQ6ICR7XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuXHRcdFx0fWAsXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGZXRjaFJlc3BvbnNlKFxuXHRyZXNwb25zZTogUmVxdWVzdFVybFJlc3BvbnNlLFxuXHR1cmw6IHN0cmluZyxcblx0aXNTdHJlYW1pbmc6IGJvb2xlYW4sXG5cdHRocm93T25FcnJvcj86IGJvb2xlYW4sXG4pOiBSZXNwb25zZSB7XG5cdGNvbnN0IG9rID0gcmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDA7XG5cblx0aWYgKCFvayAmJiB0aHJvd09uRXJyb3IgIT09IGZhbHNlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuXHR9XG5cblx0Y29uc3QgYmFzZVJlc3BvbnNlID0ge1xuXHRcdG9rLFxuXHRcdHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuXHRcdHN0YXR1c1RleHQ6IFNUQVRVU19URVhUU1tyZXNwb25zZS5zdGF0dXNdIHx8IFwiXCIsXG5cdFx0aGVhZGVyczogbmV3IEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyksXG5cdFx0dXJsLFxuXHRcdHR5cGU6IFwiYmFzaWNcIiBhcyBSZXNwb25zZVR5cGUsXG5cdFx0cmVkaXJlY3RlZDogZmFsc2UsXG5cdFx0Ym9keVVzZWQ6IGZhbHNlLFxuXHRcdGFycmF5QnVmZmVyOiAoKSA9PiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuYXJyYXlCdWZmZXIpLFxuXHRcdHRleHQ6ICgpID0+IFByb21pc2UucmVzb2x2ZShyZXNwb25zZS50ZXh0KSxcblx0XHRqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuanNvbiksXG5cdFx0YmxvYjogKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQmxvYiByZXNwb25zZXMgbm90IHN1cHBvcnRlZFwiKSksXG5cdFx0Zm9ybURhdGE6ICgpID0+IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkZvcm1EYXRhIHJlc3BvbnNlcyBub3Qgc3VwcG9ydGVkXCIpKSxcblx0XHRjbG9uZTogKCkgPT4geyB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zZSBjbG9uaW5nIG5vdCBzdXBwb3J0ZWRcIik7IH1cblx0fTtcblxuXHRpZiAoaXNTdHJlYW1pbmcpIHtcblx0XHRjb25zdCBsaW5lcyA9IHJlc3BvbnNlLnRleHQuc3BsaXQoJ1xcbicpO1xuXHRcdGxldCBsaW5lSW5kZXggPSAwO1xuXHRcdGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblxuXHRcdGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG5cdFx0XHRzdGFydChjb250cm9sbGVyKSB7XG5cdFx0XHRcdGZ1bmN0aW9uIHB1c2hDaHVuaygpIHtcblx0XHRcdFx0XHRpZiAobGluZUluZGV4IDwgbGluZXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBsaW5lID0gbGluZXNbbGluZUluZGV4XSArICdcXG4nO1xuXHRcdFx0XHRcdFx0Y29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGxpbmUpKTtcblx0XHRcdFx0XHRcdGxpbmVJbmRleCsrO1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChwdXNoQ2h1bmssIDEpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb250cm9sbGVyLmNsb3NlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHB1c2hDaHVuaygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLmJhc2VSZXNwb25zZSxcblx0XHRcdGJvZHk6IHN0cmVhbVxuXHRcdH07XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdC4uLmJhc2VSZXNwb25zZSxcblx0XHRib2R5OiBudWxsXG5cdH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RUb09iamVjdChyZXF1ZXN0OiBSZXF1ZXN0KTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiB7XG5cdGNvbnN0IGNvbnRlbnRUeXBlID0gcmVxdWVzdC5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKT8udG9Mb3dlckNhc2UoKTtcblx0Y29uc3QgYm9keSA9IGNvbnRlbnRUeXBlXG5cdFx0PyBhd2FpdCBnZXRSZXF1ZXN0Qm9keShyZXF1ZXN0LCBjb250ZW50VHlwZSlcblx0XHQ6IHVuZGVmaW5lZDtcblxuXHRyZXR1cm4ge1xuXHRcdHVybDogcmVxdWVzdC51cmwsXG5cdFx0bWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcblx0XHRoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMocmVxdWVzdC5oZWFkZXJzKSxcblx0XHQuLi4oYm9keSAmJiB7IGJvZHkgfSksXG5cdH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFJlcXVlc3RCb2R5KFxuXHRyZXF1ZXN0OiBSZXF1ZXN0LFxuXHRjb250ZW50VHlwZTogc3RyaW5nLFxuKTogUHJvbWlzZTxhbnk+IHtcblx0aWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShhd2FpdCByZXF1ZXN0Lmpzb24oKSk7XG5cdH1cblx0aWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiZm9ybVwiKSkge1xuXHRcdHJldHVybiByZXF1ZXN0LmZvcm1EYXRhKCk7XG5cdH1cblx0cmV0dXJuIHJlcXVlc3QudGV4dCgpO1xufVxuIiwiZXhwb3J0IGNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwdWJsaWMgcmVhZG9ubHkgc3RhdHVzOiBudW1iZXIsXG5cdFx0bWVzc2FnZTogc3RyaW5nLFxuXHRcdHB1YmxpYyByZWFkb25seSByZXNwb25zZT86IGFueSxcblx0KSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7XG5cdFx0dGhpcy5uYW1lID0gXCJBcGlFcnJvclwiO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm94eUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRtZXNzYWdlOiBzdHJpbmcsXG5cdFx0cHVibGljIHJlYWRvbmx5IGNhdXNlPzogRXJyb3IsXG5cdFx0cHVibGljIHJlYWRvbmx5IHJlcXVlc3Q/OiBSZXF1ZXN0SW5mbyxcblx0KSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7XG5cdFx0dGhpcy5uYW1lID0gXCJQcm94eUVycm9yXCI7XG5cdH1cbn1cbiIsImltcG9ydCB7IGZldGNoV2l0aFJlcXVlc3RVcmwgfSBmcm9tIFwiLi4vbGliL2ZldGNoXCI7XG5pbXBvcnQgdHlwZSB7IExvZ2dlciB9IGZyb20gXCIuLi9saWIvbG9nZ2VyXCI7XG5pbXBvcnQgeyBQcm94eUVycm9yIH0gZnJvbSBcIi4uL2xpYi9lcnJvcnNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQcm94eUNvbmZpZyB7XG5cdG1heFJldHJpZXM/OiBudW1iZXI7XG5cdHRpbWVvdXQ/OiBudW1iZXI7XG5cdHJldHJ5RGVsYXk/OiBudW1iZXI7XG5cdGRlZmF1bHRIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZXhwb3J0IGNsYXNzIFByb3h5U2VydmljZSB7XG5cdHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBSZXF1aXJlZDxQcm94eUNvbmZpZz4gPSB7XG5cdFx0bWF4UmV0cmllczogMSxcblx0XHR0aW1lb3V0OiAzMDAwMCxcblx0XHRyZXRyeURlbGF5OiAxMDAwLFxuXHRcdGRlZmF1bHRIZWFkZXJzOiB7fSxcblx0fTtcblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyLCBjb25maWc/OiBQcm94eUNvbmZpZykge1xuXHRcdGlmIChjb25maWcpIHtcblx0XHRcdHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH07XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZmV0Y2goaW5wdXQ6IFJlcXVlc3RJbmZvLCBpbml0PzogUmVxdWVzdEluaXQpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG5cdFx0bGV0IGxhc3RFcnJvcjogRXJyb3IgfCB1bmRlZmluZWQ7XG5cblx0XHRmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8IHRoaXMuY29uZmlnLm1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKGF0dGVtcHQgPiAwKSB7XG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbyhcIlJldHJ5aW5nIHByb3h5IHJlcXVlc3RcIiwge1xuXHRcdFx0XHRcdFx0YXR0ZW1wdCxcblx0XHRcdFx0XHRcdHVybDogdHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiID8gaW5wdXQgOiBpbnB1dC51cmwsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBlbmhhbmNlZEluaXQgPSB0aGlzLmVuaGFuY2VSZXF1ZXN0SW5pdChpbml0KTtcblxuXHRcdFx0XHRjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXHRcdFx0XHRjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRjb250cm9sbGVyLmFib3J0KCk7XG5cdFx0XHRcdH0sIHRoaXMuY29uZmlnLnRpbWVvdXQpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhSZXF1ZXN0VXJsKGlucHV0LCB7XG5cdFx0XHRcdFx0XHQuLi5lbmhhbmNlZEluaXQsXG5cdFx0XHRcdFx0XHRzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0dGhpcy5zaG91bGRSZXRyeShyZXNwb25zZSkgJiZcblx0XHRcdFx0XHRcdGF0dGVtcHQgPCB0aGlzLmNvbmZpZy5tYXhSZXRyaWVzIC0gMVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0bGFzdEVycm9yID0gbmV3IFByb3h5RXJyb3IoXG5cdFx0XHRcdFx0XHRcdGBSZWNlaXZlZCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCxcblx0XHRcdFx0XHRcdFx0dW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0XHRpbnB1dCxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRlbGF5KHRoaXMuZ2V0UmV0cnlEZWxheShhdHRlbXB0KSk7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGxhc3RFcnJvciA9IHRoaXMubm9ybWFsaXplRXJyb3IoZXJyb3IsIGlucHV0KTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KGVycm9yIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB8fFxuXHRcdFx0XHRcdGF0dGVtcHQgPT09IHRoaXMuY29uZmlnLm1heFJldHJpZXMgLSAxXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHRoaXMubG9nRXJyb3IobGFzdEVycm9yLCBhdHRlbXB0KTtcblx0XHRcdFx0XHR0aHJvdyBsYXN0RXJyb3I7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhd2FpdCB0aGlzLmRlbGF5KHRoaXMuZ2V0UmV0cnlEZWxheShhdHRlbXB0KSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhyb3cgKFxuXHRcdFx0bGFzdEVycm9yIHx8IG5ldyBQcm94eUVycm9yKFwiTWF4aW11bSByZXRyaWVzIGV4Y2VlZGVkXCIsIHVuZGVmaW5lZCwgaW5wdXQpXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgc2hvdWxkUmV0cnkocmVzcG9uc2U6IFJlc3BvbnNlKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIFs0MjksIDUwMywgNTA0XS5pbmNsdWRlcyhyZXNwb25zZS5zdGF0dXMpO1xuXHR9XG5cblx0cHJpdmF0ZSBlbmhhbmNlUmVxdWVzdEluaXQoaW5pdD86IFJlcXVlc3RJbml0KTogUmVxdWVzdEluaXQge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5pbml0LFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHQuLi50aGlzLmNvbmZpZy5kZWZhdWx0SGVhZGVycyxcblx0XHRcdFx0Li4uaW5pdD8uaGVhZGVycyxcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0UmV0cnlEZWxheShhdHRlbXB0OiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLm1pbihcblx0XHRcdHRoaXMuY29uZmlnLnJldHJ5RGVsYXkgKiBNYXRoLnBvdygyLCBhdHRlbXB0KSxcblx0XHRcdDEwMDAwLFxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIG5vcm1hbGl6ZUVycm9yKGVycm9yOiB1bmtub3duLCByZXF1ZXN0OiBSZXF1ZXN0SW5mbyk6IFByb3h5RXJyb3Ige1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb3h5RXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IsIHJlcXVlc3QpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IFByb3h5RXJyb3IoU3RyaW5nKGVycm9yKSwgdW5kZWZpbmVkLCByZXF1ZXN0KTtcblx0fVxuXG5cdHByaXZhdGUgbG9nRXJyb3IoZXJyb3I6IEVycm9yLCBhdHRlbXB0OiBudW1iZXIpOiB2b2lkIHtcblx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIlByb3h5IHJlcXVlc3QgZmFpbGVkOlwiLCB7XG5cdFx0XHRlcnJvcjogZXJyb3IubWVzc2FnZSxcblx0XHRcdHN0YWNrOiBlcnJvci5zdGFjayxcblx0XHRcdGF0dGVtcHQ6IGF0dGVtcHQgKyAxLFxuXHRcdFx0bWF4UmV0cmllczogdGhpcy5jb25maWcubWF4UmV0cmllcyxcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgZGVsYXkobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuXHR9XG59XG4iLCJpbXBvcnQgdHlwZSB7IExvZ2dlciB9IGZyb20gXCIuLi9saWIvbG9nZ2VyXCI7XG5pbXBvcnQgeyBQcm94eVNlcnZpY2UgfSBmcm9tIFwiLi9wcm94eVwiO1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbWluZ09wdGlvbnMge1xuXHRvblRva2VuPzogKGNodW5rOiBzdHJpbmcsIGlzRmlyc3Q6IGJvb2xlYW4pID0+IHZvaWQ7XG5cdHN0cmVhbT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBpUmVzcG9uc2U8VD4ge1xuXHRyZXN1bHQ6IFQ7XG5cdGVycm9yPzoge1xuXHRcdG1lc3NhZ2U6IHN0cmluZztcblx0fTtcbn1cblxuZXhwb3J0IGNsYXNzIEFwaVNlcnZpY2Uge1xuXHRwcml2YXRlIHJlYWRvbmx5IHByb3h5U2VydmljZTogUHJveHlTZXJ2aWNlO1xuXHRwcml2YXRlIHJlYWRvbmx5IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyKSB7XG5cdFx0dGhpcy5wcm94eVNlcnZpY2UgPSBuZXcgUHJveHlTZXJ2aWNlKGxvZ2dlcik7XG5cdH1cblxuXHQvKipcblx0ICogSGFuZGxlcyBIVFRQIFBPU1QgcmVxdWVzdHMgd2l0aCBzdXBwb3J0IGZvciBib3RoIHJlZ3VsYXIgYW5kIHN0cmVhbWluZyByZXNwb25zZXNcblx0ICogQHBhcmFtIHVybCAtIFRoZSBlbmRwb2ludCBVUkxcblx0ICogQHBhcmFtIGJvZHkgLSBSZXF1ZXN0IHBheWxvYWRcblx0ICogQHBhcmFtIGhlYWRlcnMgLSBPcHRpb25hbCBjdXN0b20gaGVhZGVyc1xuXHQgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHN0cmVhbWluZyBjb25maWd1cmF0aW9uXG5cdCAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSByZXNwb25zZSBkYXRhXG5cdCAqIEB0aHJvd3MgQXBpRXJyb3IgaWYgdGhlIHJlcXVlc3QgZmFpbHNcblx0ICovXG5cdGFzeW5jIHBvc3Q8VD4oXG5cdFx0dXJsOiBzdHJpbmcsXG5cdFx0Ym9keTogdW5rbm93bixcblx0XHRoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcblx0XHRvcHRpb25zPzogU3RyZWFtaW5nT3B0aW9ucyxcblx0KTogUHJvbWlzZTxUPiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKFwiU3RhcnRpbmcgQVBJIHJlcXVlc3RcIiwgeyB1cmwsIGJvZHkgfSk7XG5cblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh1cmwsIGJvZHksIGhlYWRlcnMpO1xuXG5cdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuaGFuZGxlRXJyb3JSZXNwb25zZShyZXNwb25zZSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvcHRpb25zPy5zdHJlYW1cblx0XHRcdFx0PyAoKGF3YWl0IHRoaXMuaGFuZGxlU3RyZWFtaW5nUmVzcG9uc2UocmVzcG9uc2UsIG9wdGlvbnMpKSBhcyBUKVxuXHRcdFx0XHQ6IGF3YWl0IHRoaXMuaGFuZGxlUmVndWxhclJlc3BvbnNlPFQ+KHJlc3BvbnNlKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KFxuXHRcdHVybDogc3RyaW5nLFxuXHRcdGJvZHk6IHVua25vd24sXG5cdFx0aGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG5cdCk6IFByb21pc2U8UmVzcG9uc2U+IHtcblx0XHRyZXR1cm4gdGhpcy5wcm94eVNlcnZpY2UuZmV0Y2godXJsLCB7XG5cdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRBY2NlcHQ6IFwidGV4dC9ldmVudC1zdHJlYW1cIixcblx0XHRcdFx0XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG5cdFx0XHRcdC4uLmhlYWRlcnMsXG5cdFx0XHR9LFxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZUVycm9yUmVzcG9uc2UocmVzcG9uc2U6IFJlc3BvbnNlKTogUHJvbWlzZTxuZXZlcj4ge1xuXHRcdGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG5cdFx0Y29uc3QgZGF0YSA9IHRoaXMuc2FmZVBhcnNlSnNvbih0ZXh0KTtcblx0XHRjb25zdCBtZXNzYWdlID1cblx0XHRcdGRhdGE/LmVycm9yPy5tZXNzYWdlIHx8IGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKHJlc3BvbnNlLnN0YXR1cywgbWVzc2FnZSwgZGF0YSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZVJlZ3VsYXJSZXNwb25zZTxUPihyZXNwb25zZTogUmVzcG9uc2UpOiBQcm9taXNlPFQ+IHtcblx0XHRjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuXHRcdGNvbnN0IGRhdGEgPSB0aGlzLnNhZmVQYXJzZUpzb24odGV4dCkgYXMgQXBpUmVzcG9uc2U8VD47XG5cblx0XHRpZiAoIWRhdGEucmVzdWx0KSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoXG5cdFx0XHRcdHJlc3BvbnNlLnN0YXR1cyxcblx0XHRcdFx0XCJJbnZhbGlkIHJlc3BvbnNlIGZvcm1hdDogbWlzc2luZyAncmVzdWx0JyBmaWVsZFwiLFxuXHRcdFx0XHRkYXRhLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YS5yZXN1bHQ7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZVN0cmVhbWluZ1Jlc3BvbnNlKFxuXHRcdHJlc3BvbnNlOiBSZXNwb25zZSxcblx0XHRvcHRpb25zOiBTdHJlYW1pbmdPcHRpb25zLFxuXHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGlmICghcmVzcG9uc2UuYm9keSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKHJlc3BvbnNlLnN0YXR1cywgXCJObyByZXNwb25zZSBib2R5IGF2YWlsYWJsZVwiKTtcblx0XHR9XG5cblx0XHRjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpO1xuXHRcdGxldCBpc0ZpcnN0ID0gdHJ1ZTtcblx0XHRsZXQgYWNjdW11bGF0ZWRUZXh0ID0gXCJcIjtcblxuXHRcdHRyeSB7XG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHRjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG5cdFx0XHRcdGlmIChkb25lKSBicmVhaztcblxuXHRcdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN0cmVhbWluZyBjaHVua1wiLCB7IGNodW5rOiB2YWx1ZSB9KTtcblxuXHRcdFx0XHRjb25zdCBjaHVuayA9IHRoaXMuZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuXHRcdFx0XHRjb25zdCBwcm9jZXNzZWRDaHVuayA9IHRoaXMucHJvY2Vzc1N0cmVhbWluZ0NodW5rKGNodW5rKTtcblxuXHRcdFx0XHRpZiAocHJvY2Vzc2VkQ2h1bmspIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRlZFRleHQgKz0gcHJvY2Vzc2VkQ2h1bms7XG5cdFx0XHRcdFx0b3B0aW9ucy5vblRva2VuPy4ocHJvY2Vzc2VkQ2h1bmssIGlzRmlyc3QpO1xuXHRcdFx0XHRcdGlzRmlyc3QgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYWNjdW11bGF0ZWRUZXh0O1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRyZWFkZXIucmVsZWFzZUxvY2soKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHByb2Nlc3NTdHJlYW1pbmdDaHVuayhjaHVuazogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBsaW5lcyA9IGNodW5rLnNwbGl0KFwiXFxuXCIpO1xuXHRcdGxldCByZXN1bHQgPSAnJztcblx0XHRcblx0XHRmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcblx0XHRcdGNvbnN0IHByb2Nlc3NlZCA9IHRoaXMucHJvY2Vzc1N0cmVhbWluZ0xpbmUobGluZSk7XG5cdFx0XHRpZiAocHJvY2Vzc2VkKSB7XG5cdFx0XHRcdHJlc3VsdCArPSBwcm9jZXNzZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRwcml2YXRlIHByb2Nlc3NTdHJlYW1pbmdMaW5lKGxpbmU6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgY2xlYW5MaW5lID0gbGluZS5yZXBsYWNlKC9eZGF0YTogLywgXCJcIikudHJpbSgpO1xuXG5cdFx0aWYgKCFjbGVhbkxpbmUgfHwgY2xlYW5MaW5lID09PSBcIltET05FXVwiKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGFyc2VkID0gdGhpcy5zYWZlUGFyc2VKc29uKGNsZWFuTGluZSk7XG5cdFx0XHRyZXR1cm4gcGFyc2VkPy5yZXNwb25zZSA/PyBcIlwiO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBzYWZlUGFyc2VKc29uKHRleHQ6IHN0cmluZyk6IGFueSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogdW5rbm93bik6IHZvaWQge1xuXHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiQVBJIHJlcXVlc3QgZmFpbGVkOlwiLCB7XG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCxcblx0XHRcdHR5cGU6IGVycm9yIGluc3RhbmNlb2YgQXBpRXJyb3IgPyBcIkFwaUVycm9yXCIgOiBcIlVua25vd25FcnJvclwiLFxuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHR5cGUgeyBNZXNzYWdlLCBSZXF1ZXN0T3B0aW9ucywgRW1iZWRkaW5nUmVzcG9uc2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgTG9nZ2VyIH0gZnJvbSBcIi4uL2xpYi9sb2dnZXJcIjtcbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tIFwiLi9hcGlcIjtcblxuY29uc3QgQkFTRV9BSV9HQVRFV0FZX1VSTCA9IFwiaHR0cHM6Ly9nYXRld2F5LmFpLmNsb3VkZmxhcmUuY29tL3YxXCI7XG5cbmV4cG9ydCBjbGFzcyBDbG91ZGZsYXJlQUlHYXRld2F5IHtcblx0cHJpdmF0ZSByZWFkb25seSBlbWFpbDogc3RyaW5nID0gXCJ0ZXN0QHRlc3QuY29tXCI7XG5cdHByaXZhdGUgcmVhZG9ubHkgYXBpU2VydmljZTogQXBpU2VydmljZTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgY2xvdWRmbGFyZUFjY291bnRJZDogc3RyaW5nLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgY2xvdWRmbGFyZUFpR2F0ZXdheUlkOiBzdHJpbmcsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBjbG91ZGZsYXJlQWlBcGlLZXk6IHN0cmluZyxcblx0XHRwcml2YXRlIHJlYWRvbmx5IG1vZGVsSWQ6IHN0cmluZyxcblx0XHRwcml2YXRlIHJlYWRvbmx5IG1heFRva2VuczogbnVtYmVyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgdGVtcGVyYXR1cmU6IG51bWJlcixcblx0KSB7XG5cdFx0dGhpcy5hcGlTZXJ2aWNlID0gbmV3IEFwaVNlcnZpY2UobG9nZ2VyKTtcblx0fVxuXG5cdHByaXZhdGUgdmFsaWRhdGVDb25maWcoKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmNsb3VkZmxhcmVBY2NvdW50SWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNsb3VkZmxhcmUgQWNjb3VudCBJRCBpcyByZXF1aXJlZFwiKTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLmNsb3VkZmxhcmVBaUdhdGV3YXlJZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQUkgR2F0ZXdheSBJRCBpcyByZXF1aXJlZFwiKTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLmNsb3VkZmxhcmVBaUFwaUtleSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQUkgQVBJIEtleSBpcyByZXF1aXJlZFwiKTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLm1vZGVsSWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk1vZGVsIElEIGlzIHJlcXVpcmVkXCIpO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMubWF4VG9rZW5zIHx8IHRoaXMubWF4VG9rZW5zIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBtYXggdG9rZW5zIHZhbHVlXCIpO1xuXHRcdH1cblx0XHRpZiAodGhpcy50ZW1wZXJhdHVyZSA8IDAgfHwgdGhpcy50ZW1wZXJhdHVyZSA+IDEpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlRlbXBlcmF0dXJlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxXCIpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZ2V0RW5kcG9pbnRVcmwobW9kZWxJZDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYCR7QkFTRV9BSV9HQVRFV0FZX1VSTH0vJHt0aGlzLmNsb3VkZmxhcmVBY2NvdW50SWR9LyR7dGhpcy5jbG91ZGZsYXJlQWlHYXRld2F5SWR9L3dvcmtlcnMtYWkvJHttb2RlbElkfWA7XG5cdH1cblxuXHRwcml2YXRlIGJ1aWxkUmVxdWVzdEJvZHkob3B0aW9uczogUmVxdWVzdE9wdGlvbnMpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcblx0XHRjb25zdCBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge1xuXHRcdFx0bW9kZWw6IG9wdGlvbnMubW9kZWxJZCxcblx0XHR9O1xuXG5cdFx0aWYgKG9wdGlvbnMudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcblx0XHRcdGlmIChvcHRpb25zLm1lc3NhZ2VzKSB7XG5cdFx0XHRcdGJvZHkubWVzc2FnZXMgPSBvcHRpb25zLm1lc3NhZ2VzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9wdGlvbnMucHJvbXB0KSB7XG5cdFx0XHRcdGJvZHkucHJvbXB0ID0gb3B0aW9ucy5wcm9tcHQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAob3B0aW9ucy5zaG91bGRTdHJlYW0pIHtcblx0XHRcdFx0Ym9keS5zdHJlYW0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0Ym9keS5tYXhfdG9rZW5zID0gdGhpcy5tYXhUb2tlbnM7XG5cdFx0XHRib2R5LnRlbXBlcmF0dXJlID0gdGhpcy50ZW1wZXJhdHVyZTtcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gXCJlbWJlZGRpbmdcIikge1xuXHRcdFx0aWYgKCFvcHRpb25zLnByb21wdCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQcm9tcHQgaXMgcmVxdWlyZWQgZm9yIGVtYmVkZGluZ3NcIik7XG5cdFx0XHR9XG5cdFx0XHRib2R5LnRleHQgPSBvcHRpb25zLnByb21wdDtcblx0XHR9XG5cblx0XHRyZXR1cm4gYm9keTtcblx0fVxuXG5cdHByaXZhdGUgZGlzcGxheUVycm9yKGVycm9yOiB1bmtub3duKTogdm9pZCB7XG5cdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuXHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiQUkgR2F0ZXdheSBlcnJvcjpcIiwge1xuXHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0fSk7XG5cdFx0bmV3IE5vdGljZShgQUkgR2F0ZXdheSBlcnJvcjogJHtlcnJvck1lc3NhZ2V9YCwgNTAwMCk7XG5cdH1cblxuXHRhc3luYyBtYWtlUmVxdWVzdDxUPih7XG5cdFx0bW9kZWxJZCxcblx0XHRtZXNzYWdlcyxcblx0XHRwcm9tcHQsXG5cdFx0c2hvdWxkU3RyZWFtID0gZmFsc2UsXG5cdFx0dHlwZSA9IFwidGV4dFwiLFxuXHRcdG9uVG9rZW4sXG5cdH06IFJlcXVlc3RPcHRpb25zICYge1xuXHRcdG9uVG9rZW4/OiAodG9rZW46IHN0cmluZywgaXNGaXJzdDogYm9vbGVhbikgPT4gdm9pZDtcblx0fSk6IFByb21pc2U8VD4ge1xuXHRcdHRoaXMudmFsaWRhdGVDb25maWcoKTtcblx0XHRpZiAoIW1lc3NhZ2VzICYmICFwcm9tcHQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkVpdGhlciBtZXNzYWdlcyBvciBwcm9tcHQgaXMgcmVxdWlyZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYm9keSA9IHRoaXMuYnVpbGRSZXF1ZXN0Qm9keSh7XG5cdFx0XHRtb2RlbElkLFxuXHRcdFx0bWVzc2FnZXMsXG5cdFx0XHRwcm9tcHQsXG5cdFx0XHRzaG91bGRTdHJlYW0sXG5cdFx0XHR0eXBlLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaVNlcnZpY2UucG9zdDxUPihcblx0XHRcdHRoaXMuZ2V0RW5kcG9pbnRVcmwobW9kZWxJZCksXG5cdFx0XHRib2R5LFxuXHRcdFx0e1xuXHRcdFx0XHRBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5jbG91ZGZsYXJlQWlBcGlLZXl9YCxcblx0XHRcdFx0XCJjZi1haWctbWV0YWRhdGFcIjogSlNPTi5zdHJpbmdpZnkoeyBlbWFpbDogdGhpcy5lbWFpbCB9KSxcblx0XHRcdFx0XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRzdHJlYW06IHNob3VsZFN0cmVhbSxcblx0XHRcdFx0b25Ub2tlbixcblx0XHRcdH0sXG5cdFx0KTtcblxuXHRcdHJldHVybiByZXNwb25zZTtcblx0fVxuXG5cdGFzeW5jIGdlbmVyYXRlVGV4dChcblx0XHRtZXNzYWdlczogTWVzc2FnZVtdLFxuXHRcdG9uVG9rZW4/OiAodG9rZW46IHN0cmluZywgaXNGaXJzdDogYm9vbGVhbikgPT4gdm9pZCxcblx0KTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy52YWxpZGF0ZUNvbmZpZygpO1xuXG5cdFx0XHRpZiAoIW1lc3NhZ2VzLmxlbmd0aCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlcyBhcmUgcmVxdWlyZWRcIik7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDxzdHJpbmc+KHtcblx0XHRcdFx0bW9kZWxJZDogdGhpcy5tb2RlbElkLFxuXHRcdFx0XHRtZXNzYWdlcyxcblx0XHRcdFx0c2hvdWxkU3RyZWFtOiBCb29sZWFuKG9uVG9rZW4pLFxuXHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0b25Ub2tlbjogb25Ub2tlbiB8fCB1bmRlZmluZWQsXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihgVGV4dCBnZW5lcmF0aW9uIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5kaXNwbGF5RXJyb3IoZXJyb3IpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2VuZXJhdGVFbWJlZGRpbmcodGV4dDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXJbXVtdPiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMudmFsaWRhdGVDb25maWcoKTtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDxFbWJlZGRpbmdSZXNwb25zZT4oe1xuXHRcdFx0XHRtb2RlbElkOiB0aGlzLm1vZGVsSWQsXG5cdFx0XHRcdHByb21wdDogdGV4dCxcblx0XHRcdFx0c2hvdWxkU3RyZWFtOiBmYWxzZSxcblx0XHRcdFx0dHlwZTogXCJlbWJlZGRpbmdcIixcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5kaXNwbGF5RXJyb3IoZXJyb3IpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBOb3RpY2UsIHJlcXVlc3QgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHR5cGUge1xuXHRWZWN0b3IsXG5cdFZlY3RvclF1ZXJ5LFxuXHRWZWN0b3JTZWFyY2hSZXN1bHQsXG5cdENsb3VkZmxhcmVSZXNwb25zZSxcblx0RmlsdGVyT3BlcmF0b3IsXG5cdFZlY3Rvcml6ZUZpbHRlcixcblx0VmVjdG9yaXplTWV0YWRhdGFGaWVsZCxcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IExvZ2dlciB9IGZyb20gXCIuLi9saWIvbG9nZ2VyXCI7XG5cbmNvbnN0IEJBU0VfQ0xPVURGTEFSRV9BUElfVVJMID1cblx0XCJodHRwczovL2FwaS5jbG91ZGZsYXJlLmNvbS9jbGllbnQvdjQvYWNjb3VudHMvXCI7XG5cbnR5cGUgUmVxdWVzdFR5cGUgPSBcIm5kanNvblwiIHwgXCJqc29uXCI7XG5cbmV4cG9ydCBjbGFzcyBDbG91ZGZsYXJlVmVjdG9yaXplIHtcblx0cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgUkVUUllfREVMQVlfTVMgPSAxMDAwO1xuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBVUFNUUkVBTV9USU1FT1VUX0VSUk9SID0gXCJ2ZWN0b3JpemUudXBzdHJlYW1fdGltZW91dFwiO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXIsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBhY2NvdW50SWQ6IHN0cmluZyxcblx0XHRwcml2YXRlIHJlYWRvbmx5IGFwaUtleTogc3RyaW5nLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgaW5kZXhOYW1lOiBzdHJpbmcsXG5cdCkge31cblxuXHRwcml2YXRlIHZhbGlkYXRlQ29uZmlnKCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5hY2NvdW50SWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkFjY291bnQgSUQgaXMgcmVxdWlyZWRcIik7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5hcGlLZXkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkFQSSBrZXkgaXMgcmVxdWlyZWRcIik7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5pbmRleE5hbWUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkluZGV4IG5hbWUgaXMgcmVxdWlyZWRcIik7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBnZXRFbmRwb2ludFVybChlbmRwb2ludDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYCR7QkFTRV9DTE9VREZMQVJFX0FQSV9VUkx9JHt0aGlzLmFjY291bnRJZH0vdmVjdG9yaXplL3YyLyR7ZW5kcG9pbnR9YDtcblx0fVxuXG5cdHByaXZhdGUgZ2V0Q29udGVudFR5cGUodHlwZTogUmVxdWVzdFR5cGUpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0eXBlID09PSBcImpzb25cIiA/IFwiYXBwbGljYXRpb24vanNvblwiIDogXCJhcHBsaWNhdGlvbi94LW5kanNvblwiO1xuXHR9XG5cblx0cHJpdmF0ZSBmb3JtYXRSZXF1ZXN0Qm9keShib2R5OiBhbnksIHR5cGU6IFJlcXVlc3RUeXBlKTogc3RyaW5nIHtcblx0XHRpZiAodHlwZSA9PT0gXCJqc29uXCIpIHtcblx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShib2R5KTtcblx0XHR9XG5cdFx0cmV0dXJuIGJvZHkubWFwKChpdGVtOiBhbnkpID0+IEpTT04uc3RyaW5naWZ5KGl0ZW0pKS5qb2luKFwiXFxuXCIpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBkZWxheShhdHRlbXB0OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cblx0XHRcdHNldFRpbWVvdXQocmVzb2x2ZSwgYXR0ZW1wdCAqIENsb3VkZmxhcmVWZWN0b3JpemUuUkVUUllfREVMQVlfTVMpLFxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGRpc3BsYXlFcnJvcihlcnJvcjogdW5rbm93bik6IHZvaWQge1xuXHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcblx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIlZlY3Rvcml6ZSBBUEkgZXJyb3I6XCIsIHtcblx0XHRcdGVycm9yOiBlcnJvck1lc3NhZ2UsXG5cdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdH0pO1xuXHRcdG5ldyBOb3RpY2UoYFZlY3Rvcml6ZSBBUEkgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWAsIDUwMDApO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdDxUPihcblx0XHRlbmRwb2ludDogc3RyaW5nLFxuXHRcdG1ldGhvZDogc3RyaW5nLFxuXHRcdGJvZHk6IGFueSxcblx0XHRyZXRyaWVzID0gMyxcblx0XHR0eXBlOiBSZXF1ZXN0VHlwZSxcblx0KTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuXHRcdGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHJldHJpZXM7IGF0dGVtcHQrKykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVkQm9keSA9IHRoaXMuZm9ybWF0UmVxdWVzdEJvZHkoYm9keSwgdHlwZSk7XG5cdFx0XHRcdGNvbnN0IGNvbnRlbnRUeXBlID0gdGhpcy5nZXRDb250ZW50VHlwZSh0eXBlKTtcblxuXHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3Qoe1xuXHRcdFx0XHRcdHVybDogdGhpcy5nZXRFbmRwb2ludFVybChlbmRwb2ludCksXG5cdFx0XHRcdFx0bWV0aG9kLFxuXHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuXHRcdFx0XHRcdFx0XCJDb250ZW50LVR5cGVcIjogY29udGVudFR5cGUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRib2R5OiBmb3JtYXR0ZWRCb2R5LFxuXHRcdFx0XHRcdHRocm93OiBmYWxzZSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bGV0IGRhdGE6IENsb3VkZmxhcmVSZXNwb25zZTxUPjtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKU09OIHJlc3BvbnNlIGZyb20gVmVjdG9yaXplIEFQSVwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0Y29uc3QgZmlyc3RFcnJvciA9IGRhdGEuZXJyb3JzPy5bMF07XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0Zmlyc3RFcnJvcj8ubWVzc2FnZSA9PT1cblx0XHRcdFx0XHRcdFx0Q2xvdWRmbGFyZVZlY3Rvcml6ZS5VUFNUUkVBTV9USU1FT1VUX0VSUk9SICYmXG5cdFx0XHRcdFx0XHRhdHRlbXB0IDwgcmV0cmllc1xuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5kZWxheShhdHRlbXB0KTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRkYXRhLmVycm9ycz8ubWFwKChlcnJvcikgPT4gZXJyb3IubWVzc2FnZSkuam9pbihcIiwgXCIpID8/XG5cdFx0XHRcdFx0XHRcdFwiVW5rbm93biBlcnJvclwiLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gKGRhdGEucmVzdWx0IGFzIFQpID8/IG51bGw7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zdCBpc0xhc3RBdHRlbXB0ID0gYXR0ZW1wdCA9PT0gcmV0cmllcztcblx0XHRcdFx0aWYgKGlzTGFzdEF0dGVtcHQpIHtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXlFcnJvcihcblx0XHRcdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF3YWl0IHRoaXMuZGVsYXkoYXR0ZW1wdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0YXN5bmMgdXBzZXJ0VmVjdG9ycyh2ZWN0b3JzOiBWZWN0b3JbXSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnZhbGlkYXRlQ29uZmlnKCk7XG5cblx0XHRcdGNvbnN0IGZvcm1hdHRlZFZlY3RvcnMgPSB2ZWN0b3JzLm1hcCgodmVjdG9yKSA9PiAoe1xuXHRcdFx0XHQuLi52ZWN0b3IsXG5cdFx0XHRcdHZhbHVlczogQXJyYXkuaXNBcnJheSh2ZWN0b3IudmFsdWVzWzBdKVxuXHRcdFx0XHRcdD8gdmVjdG9yLnZhbHVlc1swXVxuXHRcdFx0XHRcdDogdmVjdG9yLnZhbHVlcyxcblx0XHRcdH0pKTtcblxuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJGb3JtYXR0ZWQgdmVjdG9yczpcIiwgZm9ybWF0dGVkVmVjdG9ycyk7XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3Q8eyBtdXRhdGlvbklkOiBzdHJpbmcgfT4oXG5cdFx0XHRcdGBpbmRleGVzLyR7dGhpcy5pbmRleE5hbWV9L3Vwc2VydGAsXG5cdFx0XHRcdFwiUE9TVFwiLFxuXHRcdFx0XHRmb3JtYXR0ZWRWZWN0b3JzLFxuXHRcdFx0XHQzLFxuXHRcdFx0XHRcIm5kanNvblwiLFxuXHRcdFx0KTtcblxuXHRcdFx0cmV0dXJuIEJvb2xlYW4ocmVzdWx0Py5tdXRhdGlvbklkKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5kaXNwbGF5RXJyb3IoYEZhaWxlZCB0byB1cHNlcnQgdmVjdG9yczogJHtlcnJvcn1gKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBxdWVyeVZlY3RvcnMocXVlcnk6IFZlY3RvclF1ZXJ5KTogUHJvbWlzZTxWZWN0b3JTZWFyY2hSZXN1bHQgfCBudWxsPiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMudmFsaWRhdGVDb25maWcoKTtcblx0XHRcdHRoaXMudmFsaWRhdGVGaWx0ZXIocXVlcnkuZmlsdGVyKTtcblxuXHRcdFx0cmV0dXJuIGF3YWl0IHRoaXMubWFrZVJlcXVlc3Q8VmVjdG9yU2VhcmNoUmVzdWx0Pihcblx0XHRcdFx0YGluZGV4ZXMvJHt0aGlzLmluZGV4TmFtZX0vcXVlcnlgLFxuXHRcdFx0XHRcIlBPU1RcIixcblx0XHRcdFx0cXVlcnksXG5cdFx0XHRcdDEsXG5cdFx0XHRcdFwianNvblwiLFxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5kaXNwbGF5RXJyb3IoYEZhaWxlZCB0byBxdWVyeSB2ZWN0b3JzOiAke2Vycm9yfWApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSB2YWxpZGF0ZUZpbHRlcihmaWx0ZXI/OiBWZWN0b3JpemVGaWx0ZXIpOiB2b2lkIHtcblx0XHRpZiAoIWZpbHRlcikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFsbG93ZWRGaWVsZHM6IFZlY3Rvcml6ZU1ldGFkYXRhRmllbGRbXSA9IFtcblx0XHRcdFwidHlwZVwiLFxuXHRcdFx0XCJjcmVhdGVkTW9udGhcIixcblx0XHRcdFwiY3JlYXRlZFllYXJcIixcblx0XHRcdFwibW9kaWZpZWRNb250aFwiLFxuXHRcdFx0XCJtb2RpZmllZFllYXJcIixcblx0XHRcdFwiZXh0ZW5zaW9uXCIsXG5cdFx0XTtcblxuXHRcdGNvbnN0IGFsbG93ZWRPcGVyYXRvcnM6IEZpbHRlck9wZXJhdG9yW10gPSBbXG5cdFx0XHRcIiRlcVwiLFxuXHRcdFx0XCIkbmVcIixcblx0XHRcdFwiJGluXCIsXG5cdFx0XHRcIiRuaW5cIixcblx0XHRcdFwiJGx0XCIsXG5cdFx0XHRcIiRsdGVcIixcblx0XHRcdFwiJGd0XCIsXG5cdFx0XHRcIiRndGVcIixcblx0XHRdO1xuXG5cdFx0Zm9yIChjb25zdCBbZmllbGQsIGNvbmRpdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoZmlsdGVyKSkge1xuXHRcdFx0aWYgKCFhbGxvd2VkRmllbGRzLmluY2x1ZGVzKGZpZWxkIGFzIFZlY3Rvcml6ZU1ldGFkYXRhRmllbGQpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBmaWx0ZXIgZmllbGQ6ICR7ZmllbGR9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgY29uZGl0aW9uID09PSBcIm9iamVjdFwiICYmIGNvbmRpdGlvbiAhPT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBvcGVyYXRvcnMgPSBPYmplY3Qua2V5cyhjb25kaXRpb24pIGFzIEZpbHRlck9wZXJhdG9yW107XG5cdFx0XHRcdGZvciAoY29uc3Qgb3Agb2Ygb3BlcmF0b3JzKSB7XG5cdFx0XHRcdFx0aWYgKCFhbGxvd2VkT3BlcmF0b3JzLmluY2x1ZGVzKG9wKSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG9wZXJhdG9yOiAke29wfWApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGhhc1JhbmdlUXVlcnkgPSBvcGVyYXRvcnMuc29tZSgob3ApID0+XG5cdFx0XHRcdFx0W1wiJGx0XCIsIFwiJGx0ZVwiLCBcIiRndFwiLCBcIiRndGVcIl0uaW5jbHVkZXMob3ApLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAoaGFzUmFuZ2VRdWVyeSkge1xuXHRcdFx0XHRcdGNvbnN0IGludmFsaWRDb21iaW5hdGlvbiA9IG9wZXJhdG9ycy5zb21lKChvcCkgPT5cblx0XHRcdFx0XHRcdFtcIiRlcVwiLCBcIiRuZVwiLCBcIiRpblwiLCBcIiRuaW5cIl0uaW5jbHVkZXMob3ApLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0aWYgKGludmFsaWRDb21iaW5hdGlvbikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcIlJhbmdlIHF1ZXJpZXMgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggb3RoZXIgb3BlcmF0b3JzXCIsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGRlbGV0ZVZlY3RvcnNCeUlkcyhpZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMudmFsaWRhdGVDb25maWcoKTtcblxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDx7IG11dGF0aW9uSWQ6IHN0cmluZyB9Pihcblx0XHRcdFx0YGluZGV4ZXMvJHt0aGlzLmluZGV4TmFtZX0vZGVsZXRlX2J5X2lkc2AsXG5cdFx0XHRcdFwiUE9TVFwiLFxuXHRcdFx0XHR7IGlkcyB9LFxuXHRcdFx0XHQzLFxuXHRcdFx0XHRcImpzb25cIixcblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiBCb29sZWFuKHJlc3VsdD8ubXV0YXRpb25JZCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMuZGlzcGxheUVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIHZlY3RvcnM6ICR7ZXJyb3J9YCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIENsb3VkZmxhcmVBSVBsdWdpblNldHRpbmdzIHtcblx0Y2xvdWRmbGFyZUFjY291bnRJZDogc3RyaW5nO1xuXHRjbG91ZGZsYXJlQWlHYXRld2F5SWQ6IHN0cmluZztcblx0Y2xvdWRmbGFyZUFpQXBpS2V5OiBzdHJpbmc7XG5cdGNsb3VkZmxhcmVWZWN0b3JpemVBcGlLZXk6IHN0cmluZztcblx0Y2xvdWRmbGFyZUFpQXBpS2V5U2F2ZWQ6IGJvb2xlYW47XG5cdGNsb3VkZmxhcmVWZWN0b3JpemVBcGlLZXlTYXZlZDogYm9vbGVhbjtcblx0bW9kZWxJZDogc3RyaW5nO1xuXHRtYXhUb2tlbnM6IG51bWJlcjtcblx0dGVtcGVyYXR1cmU6IG51bWJlcjtcblx0dGV4dEVtYmVkZGluZ3NNb2RlbElkOiBzdHJpbmc7XG5cdHZlY3Rvcml6ZUluZGV4TmFtZTogc3RyaW5nO1xuXHR0b3BLOiBudW1iZXI7XG5cdG1pblNpbWlsYXJpdHlTY29yZTogbnVtYmVyO1xuXHRpZ25vcmVkRm9sZGVyczogc3RyaW5nW107XG5cdHN5bmNFbmFibGVkOiBib29sZWFuO1xuXHRhdXRvU3luY0ludGVydmFsOiBudW1iZXI7XG5cdGxhc3RTeW5jVGltZT86IG51bWJlcjtcblx0Y3VzdG9tVGVtcGxhdGVzRm9sZGVyOiBzdHJpbmc7XG5cdGxvZ0xldmVsOiBMb2dMZXZlbFR5cGU7XG59XG5cbmV4cG9ydCB0eXBlIExvZ0xldmVsVHlwZSA9IFwiZGVidWdcIiB8IFwiaW5mb1wiIHwgXCJ3YXJuXCIgfCBcImVycm9yXCI7XG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcblx0REVCVUcgPSAwLFxuXHRJTkZPID0gMSxcblx0V0FSTiA9IDIsXG5cdEVSUk9SID0gMyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dNZXNzYWdlIHtcblx0dGltZXN0YW1wOiBEYXRlO1xuXHRsZXZlbDogTG9nTGV2ZWxUeXBlO1xuXHRtZXNzYWdlOiBzdHJpbmc7XG5cdG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IHR5cGUgTG9nT3V0cHV0ID0ge1xuXHRsb2c6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdGVycm9yOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuXHR3YXJuOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuXHRpbmZvOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuXHRkZWJ1ZzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyQ29uZmlnIHtcblx0bGV2ZWw/OiBMb2dMZXZlbFR5cGU7XG5cdHVzZVRpbWVzdGFtcD86IGJvb2xlYW47XG5cdG91dHB1dD86IExvZ091dHB1dDtcblx0c2VydmljZU5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVJlc3BvbnNlIHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0ZXJyb3JzPzogQXJyYXk8e1xuXHRcdG1lc3NhZ2U6IHN0cmluZztcblx0XHRjb2RlPzogbnVtYmVyO1xuXHR9Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG91ZGZsYXJlUmVzcG9uc2U8VCA9IHVua25vd24+IGV4dGVuZHMgQmFzZVJlc3BvbnNlIHtcblx0cmVzdWx0PzogVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcblx0cm9sZTogXCJzeXN0ZW1cIiB8IFwidXNlclwiIHwgXCJhc3Npc3RhbnRcIjtcblx0Y29udGVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvciB7XG5cdGlkOiBzdHJpbmc7XG5cdHZhbHVlczogbnVtYmVyW10gfCBudW1iZXJbXVtdO1xuXHRtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG5cdG5hbWVzcGFjZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JNYXRjaCB7XG5cdGlkOiBzdHJpbmc7XG5cdHNjb3JlOiBudW1iZXI7XG5cdG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTZWFyY2hSZXN1bHQge1xuXHRtYXRjaGVzOiBWZWN0b3JNYXRjaFtdO1xufVxuXG5leHBvcnQgdHlwZSBGaWx0ZXJPcGVyYXRvciA9XG5cdHwgXCIkZXFcIlxuXHR8IFwiJG5lXCJcblx0fCBcIiRpblwiXG5cdHwgXCIkbmluXCJcblx0fCBcIiRsdFwiXG5cdHwgXCIkbHRlXCJcblx0fCBcIiRndFwiXG5cdHwgXCIkZ3RlXCI7XG5cbmV4cG9ydCB0eXBlIEZpbHRlclZhbHVlID1cblx0fCBzdHJpbmdcblx0fCBudW1iZXJcblx0fCBib29sZWFuXG5cdHwgbnVsbFxuXHR8IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbClbXTtcblxuZXhwb3J0IHR5cGUgRmlsdGVyQ29uZGl0aW9uID0ge1xuXHRba2V5IGluIEZpbHRlck9wZXJhdG9yXT86IEZpbHRlclZhbHVlO1xufTtcblxuZXhwb3J0IHR5cGUgVmVjdG9yaXplRmlsdGVyID0ge1xuXHRba2V5IGluIFZlY3Rvcml6ZU1ldGFkYXRhRmllbGRdPzogRmlsdGVyVmFsdWUgfCBGaWx0ZXJDb25kaXRpb247XG59O1xuXG5leHBvcnQgdHlwZSBWZWN0b3JpemVNZXRhZGF0YUZpZWxkID1cblx0fCBcInR5cGVcIlxuXHR8IFwiY3JlYXRlZE1vbnRoXCJcblx0fCBcImNyZWF0ZWRZZWFyXCJcblx0fCBcIm1vZGlmaWVkTW9udGhcIlxuXHR8IFwibW9kaWZpZWRZZWFyXCJcblx0fCBcImV4dGVuc2lvblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvclF1ZXJ5IHtcblx0dmVjdG9yOiBudW1iZXJbXTtcblx0dG9wSz86IG51bWJlcjtcblx0cmV0dXJuVmFsdWVzPzogYm9vbGVhbjtcblx0cmV0dXJuTWV0YWRhdGE/OiBcImFsbFwiIHwgXCJub25lXCIgfCBcImluZGV4ZWRcIjtcblx0bmFtZXNwYWNlPzogc3RyaW5nO1xuXHRmaWx0ZXI/OiBWZWN0b3JpemVGaWx0ZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yaXplUmVzcG9uc2Vcblx0ZXh0ZW5kcyBDbG91ZGZsYXJlUmVzcG9uc2U8eyB1cGxvYWRlZDogbnVtYmVyIH0+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1iZWRkaW5nUmVzcG9uc2UgZXh0ZW5kcyBCYXNlUmVzcG9uc2Uge1xuXHRkYXRhOiBudW1iZXJbXVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNSZXN1bHQge1xuXHRzdWNjZXNzZnVsOiBudW1iZXI7XG5cdGZhaWxlZDogbnVtYmVyO1xuXHRlcnJvcnM6IEFycmF5PHsgZmlsZTogc3RyaW5nOyBlcnJvcjogc3RyaW5nIH0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RPcHRpb25zIHtcblx0bW9kZWxJZDogc3RyaW5nO1xuXHRtZXNzYWdlcz86IE1lc3NhZ2VbXTtcblx0cHJvbXB0Pzogc3RyaW5nO1xuXHRzaG91bGRTdHJlYW06IGJvb2xlYW47XG5cdHR5cGU6IFwidGV4dFwiIHwgXCJlbWJlZGRpbmdcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0UmVzcG9uc2Uge1xuXHRyZXNwb25zZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlIHtcblx0bmFtZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRwcm9tcHQ6IHN0cmluZztcblx0dmFyaWFibGVzPzogc3RyaW5nW107XG5cdHRhZ3M/OiBzdHJpbmdbXTtcblx0ZGVmYXVsdD86IGJvb2xlYW47XG59XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXJDb25maWcsIGxvZ2dlckNvbmZpZyB9IGZyb20gXCIuL2xvZ2dlci1jb25maWdcIjtcbmltcG9ydCB0eXBlIHsgTG9nZ2VyQ29uZmlnLCBMb2dMZXZlbFR5cGUsIExvZ091dHB1dCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG5cdHByaXZhdGUgbG9nTGV2ZWw6IExvZ0xldmVsO1xuXHRwcml2YXRlIHJlYWRvbmx5IHVzZVRpbWVzdGFtcDogYm9vbGVhbjtcblx0cHJpdmF0ZSByZWFkb25seSBvdXRwdXQ6IExvZ091dHB1dDtcblx0cHJpdmF0ZSByZWFkb25seSBzZXJ2aWNlTmFtZT86IHN0cmluZztcblxuXHRjb25zdHJ1Y3Rvcihjb25maWc6IFBhcnRpYWw8TG9nZ2VyQ29uZmlnPiA9IHt9KSB7XG5cdFx0Y29uc3QgZ2xvYmFsQ29uZmlnID0gZ2V0TG9nZ2VyQ29uZmlnKCk7XG5cdFx0Y29uc3QgbWVyZ2VkQ29uZmlnID0geyAuLi5nbG9iYWxDb25maWcsIC4uLmNvbmZpZyB9O1xuXG5cdFx0dGhpcy5sb2dMZXZlbCA9IHRoaXMucGFyc2VMb2dMZXZlbChtZXJnZWRDb25maWcubGV2ZWwgfHwgXCJlcnJvclwiKTtcblx0XHR0aGlzLnVzZVRpbWVzdGFtcCA9IG1lcmdlZENvbmZpZy51c2VUaW1lc3RhbXAgPz8gdHJ1ZTtcblx0XHR0aGlzLm91dHB1dCA9IG1lcmdlZENvbmZpZy5vdXRwdXQgfHwgY29uc29sZTtcblx0XHR0aGlzLnNlcnZpY2VOYW1lID0gbWVyZ2VkQ29uZmlnLnNlcnZpY2VOYW1lO1xuXG5cdFx0bG9nZ2VyQ29uZmlnLmFkZExpc3RlbmVyKChuZXdDb25maWcpID0+IHtcblx0XHRcdHRoaXMubG9nTGV2ZWwgPSB0aGlzLnBhcnNlTG9nTGV2ZWwobmV3Q29uZmlnLmxldmVsIHx8IFwiZXJyb3JcIik7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHBhcnNlTG9nTGV2ZWwobGV2ZWw6IHN0cmluZyk6IExvZ0xldmVsIHtcblx0XHRjb25zdCBub3JtYWxpemVkTGV2ZWwgPSBsZXZlbC50b0xvd2VyQ2FzZSgpIGFzIExvZ0xldmVsVHlwZTtcblx0XHRjb25zdCBsZXZlbE1hcDogUmVjb3JkPExvZ0xldmVsVHlwZSwgTG9nTGV2ZWw+ID0ge1xuXHRcdFx0ZGVidWc6IExvZ0xldmVsLkRFQlVHLFxuXHRcdFx0aW5mbzogTG9nTGV2ZWwuSU5GTyxcblx0XHRcdHdhcm46IExvZ0xldmVsLldBUk4sXG5cdFx0XHRlcnJvcjogTG9nTGV2ZWwuRVJST1IsXG5cdFx0fTtcblxuXHRcdGlmICghKG5vcm1hbGl6ZWRMZXZlbCBpbiBsZXZlbE1hcCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2cgbGV2ZWw6ICR7bGV2ZWx9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxldmVsTWFwW25vcm1hbGl6ZWRMZXZlbF07XG5cdH1cblxuXHRwcml2YXRlIGZvcm1hdExvZ01lc3NhZ2UoXG5cdFx0bGV2ZWw6IHN0cmluZyxcblx0XHRtZXNzYWdlOiBzdHJpbmcsXG5cdFx0bWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuXHQpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHRpbWVzdGFtcCA9IHRoaXMudXNlVGltZXN0YW1wID8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpIDogXCJcIjtcblx0XHRjb25zdCBwcmVmaXggPSBbdGltZXN0YW1wLCB0aGlzLnNlcnZpY2VOYW1lLCBsZXZlbF1cblx0XHRcdC5maWx0ZXIoQm9vbGVhbilcblx0XHRcdC5qb2luKFwiIHwgXCIpO1xuXHRcdGNvbnN0IG1ldGFkYXRhU3RyID0gbWV0YWRhdGEgPyBgICR7SlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpfWAgOiBcIlwiO1xuXHRcdHJldHVybiBgJHtwcmVmaXh9OiAke21lc3NhZ2V9JHttZXRhZGF0YVN0cn1gO1xuXHR9XG5cblx0cHVibGljIHNldExvZ0xldmVsKGxldmVsOiBMb2dMZXZlbFR5cGUpOiB2b2lkIHtcblx0XHR0aGlzLmxvZ0xldmVsID0gdGhpcy5wYXJzZUxvZ0xldmVsKGxldmVsKTtcblx0fVxuXG5cdHB1YmxpYyBnZXRMb2dMZXZlbCgpOiBMb2dMZXZlbFR5cGUge1xuXHRcdHJldHVybiBMb2dMZXZlbFt0aGlzLmxvZ0xldmVsXS50b0xvd2VyQ2FzZSgpIGFzIExvZ0xldmVsVHlwZTtcblx0fVxuXG5cdHB1YmxpYyBpc0xldmVsRW5hYmxlZChsZXZlbDogTG9nTGV2ZWxUeXBlKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucGFyc2VMb2dMZXZlbChsZXZlbCkgPj0gdGhpcy5sb2dMZXZlbDtcblx0fVxuXG5cdHB1YmxpYyBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQge1xuXHRcdGlmICh0aGlzLmxvZ0xldmVsIDw9IExvZ0xldmVsLkRFQlVHKSB7XG5cdFx0XHRjb25zdCBmb3JtYXR0ZWRNZXNzYWdlID0gdGhpcy5mb3JtYXRMb2dNZXNzYWdlKFxuXHRcdFx0XHRcImRlYnVnXCIsXG5cdFx0XHRcdG1lc3NhZ2UsXG5cdFx0XHRcdG1ldGFkYXRhLFxuXHRcdFx0KTtcblx0XHRcdHRoaXMub3V0cHV0LmRlYnVnKGZvcm1hdHRlZE1lc3NhZ2UpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBpbmZvKG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuSU5GTykge1xuXHRcdFx0Y29uc3QgZm9ybWF0dGVkTWVzc2FnZSA9IHRoaXMuZm9ybWF0TG9nTWVzc2FnZShcImluZm9cIiwgbWVzc2FnZSwgbWV0YWRhdGEpO1xuXHRcdFx0dGhpcy5vdXRwdXQuaW5mbyhmb3JtYXR0ZWRNZXNzYWdlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgd2FybihtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQge1xuXHRcdGlmICh0aGlzLmxvZ0xldmVsIDw9IExvZ0xldmVsLldBUk4pIHtcblx0XHRcdGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdExvZ01lc3NhZ2UoXCJ3YXJuXCIsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcblx0XHRcdHRoaXMub3V0cHV0Lndhcm4oZm9ybWF0dGVkTWVzc2FnZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuRVJST1IpIHtcblx0XHRcdGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdExvZ01lc3NhZ2UoXG5cdFx0XHRcdFwiZXJyb3JcIixcblx0XHRcdFx0bWVzc2FnZSxcblx0XHRcdFx0bWV0YWRhdGEsXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy5vdXRwdXQuZXJyb3IoZm9ybWF0dGVkTWVzc2FnZSk7XG5cdFx0fVxuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHRsb2dnZXJDb25maWcucmVtb3ZlTGlzdGVuZXIodGhpcy5vbkNvbmZpZ0NoYW5nZSk7XG5cdH1cblxuXHRwcml2YXRlIG9uQ29uZmlnQ2hhbmdlID0gKG5ld0NvbmZpZzogTG9nZ2VyQ29uZmlnKSA9PiB7XG5cdFx0dGhpcy5sb2dMZXZlbCA9IHRoaXMucGFyc2VMb2dMZXZlbChuZXdDb25maWcubGV2ZWwgfHwgXCJlcnJvclwiKTtcblx0fTtcbn1cbiIsImltcG9ydCB7IEFwcCwgVEZpbGUsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5pbXBvcnQgeyBDbG91ZGZsYXJlVmVjdG9yaXplIH0gZnJvbSBcIi4vY2xvdWRmbGFyZS12ZWN0b3JpemVcIjtcbmltcG9ydCB7IENsb3VkZmxhcmVBSUdhdGV3YXkgfSBmcm9tIFwiLi9jbG91ZGZsYXJlLWFpLWdhdGV3YXlcIjtcbmltcG9ydCB0eXBlIHsgU3luY1Jlc3VsdCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuXG5leHBvcnQgY2xhc3MgU3luY1NlcnZpY2Uge1xuXHRwcml2YXRlIHJlYWRvbmx5IGJhdGNoU2l6ZSA9IDU7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBhcHA6IEFwcCxcblx0XHRwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgdmVjdG9yaXplOiBDbG91ZGZsYXJlVmVjdG9yaXplLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgZ2F0ZXdheTogQ2xvdWRmbGFyZUFJR2F0ZXdheSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IHRleHRFbWJlZGRpbmdzTW9kZWxJZDogc3RyaW5nLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgaWdub3JlZEZvbGRlcnM6IHN0cmluZ1tdID0gW10sXG5cdCkge31cblxuXHRhc3luYyBzeW5jKCk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xuXHRcdGNvbnN0IHJlc3VsdDogU3luY1Jlc3VsdCA9IHtcblx0XHRcdHN1Y2Nlc3NmdWw6IDAsXG5cdFx0XHRmYWlsZWQ6IDAsXG5cdFx0XHRlcnJvcnM6IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLnZhbGlkYXRlU2VydmljZXMoKTtcblxuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXHRcdGNvbnN0IGZpbHRlcmVkRmlsZXMgPSBmaWxlc1xuXHRcdFx0LmZpbHRlcigoZmlsZSkgPT4gIXRoaXMuaXNGaWxlSW5JZ25vcmVkRm9sZGVyKGZpbGUpKVxuXHRcdFx0LmZpbHRlcigoZmlsZSkgPT4gZmlsZS5leHRlbnNpb24gPT09IFwibWRcIik7XG5cblx0XHRjb25zdCBmaWxlc1RvU3luYyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZmlsZSBvZiBmaWx0ZXJlZEZpbGVzKSB7XG5cdFx0XHRjb25zdCB2ZWN0b3JJZCA9IHRoaXMuY3JlYXRlVmVjdG9ySWQoZmlsZS5uYW1lKTtcblx0XHRcdGNvbnN0IHN5bmNTdGF0ZSA9IGF3YWl0IHRoaXMuZ2V0U3luY1N0YXRlKHZlY3RvcklkKTtcblx0XHRcdGlmICghc3luY1N0YXRlIHx8IHN5bmNTdGF0ZS5sYXN0TW9kaWZpZWQgIT09IGZpbGUuc3RhdC5tdGltZSkge1xuXHRcdFx0XHRmaWxlc1RvU3luYy5wdXNoKGZpbGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0LnN1Y2Nlc3NmdWwrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRuZXcgTm90aWNlKFxuXHRcdFx0YFN0YXJ0aW5nIHN5bmMgZm9yICR7ZmlsZXNUb1N5bmMubGVuZ3RofSBmaWxlcyAoJHtcblx0XHRcdFx0ZmlsdGVyZWRGaWxlcy5sZW5ndGggLSBmaWxlc1RvU3luYy5sZW5ndGhcblx0XHRcdH0gYWxyZWFkeSB1cCB0byBkYXRlKWAsXG5cdFx0KTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXNUb1N5bmMubGVuZ3RoOyBpICs9IHRoaXMuYmF0Y2hTaXplKSB7XG5cdFx0XHRjb25zdCBiYXRjaCA9IGZpbGVzVG9TeW5jLnNsaWNlKGksIGkgKyB0aGlzLmJhdGNoU2l6ZSk7XG5cdFx0XHRhd2FpdCB0aGlzLnByb2Nlc3NCYXRjaChcblx0XHRcdFx0YmF0Y2gsXG5cdFx0XHRcdHJlc3VsdCxcblx0XHRcdFx0aSAvIHRoaXMuYmF0Y2hTaXplICsgMSxcblx0XHRcdFx0TWF0aC5jZWlsKGZpbGVzVG9TeW5jLmxlbmd0aCAvIHRoaXMuYmF0Y2hTaXplKSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0bmV3IE5vdGljZShcIlN5bmMgY29tcGxldGVkXCIpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlVmVjdG9ySWQocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYnRvYShwYXRoLnNsaWNlKDAsIDMyKSk7XG5cdH1cblxuXHRwcml2YXRlIGlzRmlsZUluSWdub3JlZEZvbGRlcihmaWxlOiBURmlsZSk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmlnbm9yZWRGb2xkZXJzLnNvbWUoKGZvbGRlcikgPT4ge1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZEZvbGRlciA9IGZvbGRlci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcXFwvZywgXCIvXCIpO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZEZpbGUgPSBmaWxlLnBhdGgudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXFxcL2csIFwiL1wiKTtcblx0XHRcdHJldHVybiBub3JtYWxpemVkRmlsZS5zdGFydHNXaXRoKG5vcm1hbGl6ZWRGb2xkZXIgKyBcIi9cIik7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHZhbGlkYXRlU2VydmljZXMoKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLnZlY3Rvcml6ZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVmVjdG9yaXplIHNlcnZpY2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMuZ2F0ZXdheSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQUkgR2F0ZXdheSBzZXJ2aWNlIG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIHN5bmNGaWxlKGZpbGU6IFRGaWxlLCByZXN1bHQ6IFN5bmNSZXN1bHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoYFByb2Nlc3NpbmcgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG5cblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXHRcdFx0aWYgKCFjb250ZW50LnRyaW0oKSkge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKGBTa2lwcGluZyBlbXB0eSBmaWxlOiAke2ZpbGUucGF0aH1gKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB2ZWN0b3JJZCA9IHRoaXMuY3JlYXRlVmVjdG9ySWQoZmlsZS5uYW1lKTtcblx0XHRcdGNvbnN0IHN5bmNTdGF0ZSA9IGF3YWl0IHRoaXMuZ2V0U3luY1N0YXRlKHZlY3RvcklkKTtcblx0XHRcdGlmIChzeW5jU3RhdGUgJiYgc3luY1N0YXRlLmxhc3RNb2RpZmllZCA9PT0gZmlsZS5zdGF0Lm10aW1lKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKGBGaWxlICR7ZmlsZS5wYXRofSBoYXNuJ3QgY2hhbmdlZCwgc2tpcHBpbmdgKTtcblx0XHRcdFx0cmVzdWx0LnN1Y2Nlc3NmdWwrKztcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB2ZWN0b3JzID0gYXdhaXQgdGhpcy5nZW5lcmF0ZUVtYmVkZGluZ3MoY29udGVudCk7XG5cdFx0XHRpZiAoIXZlY3RvcnMpIHtcblx0XHRcdFx0dGhpcy5sb2dnZXIud2FybihgU2tpcHBpbmcgZmlsZSAke2ZpbGUucGF0aH0gZHVlIHRvIG5vIHZlY3RvcnNgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgbWV0YWRhdGEgPSB0aGlzLmdldE1ldGFkYXRhKGZpbGUpO1xuXHRcdFx0YXdhaXQgdGhpcy51cHNlcnRWZWN0b3JzKHZlY3RvcklkLCB2ZWN0b3JzLCBtZXRhZGF0YSk7XG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVTeW5jU3RhdGUodmVjdG9ySWQsIGZpbGUsIHZlY3RvcnMsIG1ldGFkYXRhKTtcblxuXHRcdFx0cmVzdWx0LnN1Y2Nlc3NmdWwrKztcblx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgcHJvY2Vzc2VkOiAke2ZpbGUucGF0aH1gKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cmVzdWx0LmZhaWxlZCsrO1xuXHRcdFx0cmVzdWx0LmVycm9ycy5wdXNoKHtcblx0XHRcdFx0ZmlsZTogZmlsZS5wYXRoLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIHByb2Nlc3MgJHtmaWxlLnBhdGh9OmAsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVFbWJlZGRpbmdzKFxuXHRcdGNvbnRlbnQ6IHN0cmluZyxcblx0KTogUHJvbWlzZTxudW1iZXJbXVtdIHwgbnVsbD4ge1xuXHRcdGNvbnN0IG1heENodW5rU2l6ZSA9IDgxOTI7XG5cblx0XHRpZiAoY29udGVudC5sZW5ndGggPiBtYXhDaHVua1NpemUpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKGBDb250ZW50IHRvbyBsYXJnZSAoJHtjb250ZW50Lmxlbmd0aH0pLCBjaHVua2luZy4uLmApO1xuXHRcdFx0Y29uc3QgY2h1bmtzID0gY29udGVudC5tYXRjaCgvW14uIT9dK1suIT9dKy9nKSB8fCBbY29udGVudF07XG5cdFx0XHRsZXQgY3VycmVudENodW5rID0gXCJcIjtcblx0XHRcdGNvbnN0IGFsbFZlY3RvcnM6IG51bWJlcltdW10gPSBbXTtcblxuXHRcdFx0Zm9yIChjb25zdCBzZW50ZW5jZSBvZiBjaHVua3MpIHtcblx0XHRcdFx0aWYgKChjdXJyZW50Q2h1bmsgKyBzZW50ZW5jZSkubGVuZ3RoID4gbWF4Q2h1bmtTaXplKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmVjdG9ycyA9IGF3YWl0IHRoaXMuZ2F0ZXdheS5tYWtlUmVxdWVzdDx7XG5cdFx0XHRcdFx0XHRkYXRhOiBudW1iZXJbXVtdO1xuXHRcdFx0XHRcdH0+KHtcblx0XHRcdFx0XHRcdG1vZGVsSWQ6IHRoaXMudGV4dEVtYmVkZGluZ3NNb2RlbElkLFxuXHRcdFx0XHRcdFx0cHJvbXB0OiBjdXJyZW50Q2h1bmssXG5cdFx0XHRcdFx0XHRzaG91bGRTdHJlYW06IGZhbHNlLFxuXHRcdFx0XHRcdFx0dHlwZTogXCJlbWJlZGRpbmdcIixcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAodmVjdG9ycz8uZGF0YT8ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRhbGxWZWN0b3JzLnB1c2goLi4udmVjdG9ycy5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y3VycmVudENodW5rID0gc2VudGVuY2U7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y3VycmVudENodW5rICs9IHNlbnRlbmNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdXJyZW50Q2h1bmspIHtcblx0XHRcdFx0Y29uc3QgdmVjdG9ycyA9IGF3YWl0IHRoaXMuZ2F0ZXdheS5tYWtlUmVxdWVzdDx7XG5cdFx0XHRcdFx0ZGF0YTogbnVtYmVyW11bXTtcblx0XHRcdFx0fT4oe1xuXHRcdFx0XHRcdG1vZGVsSWQ6IHRoaXMudGV4dEVtYmVkZGluZ3NNb2RlbElkLFxuXHRcdFx0XHRcdHByb21wdDogY3VycmVudENodW5rLFxuXHRcdFx0XHRcdHNob3VsZFN0cmVhbTogZmFsc2UsXG5cdFx0XHRcdFx0dHlwZTogXCJlbWJlZGRpbmdcIixcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmICh2ZWN0b3JzPy5kYXRhPy5sZW5ndGgpIHtcblx0XHRcdFx0XHRhbGxWZWN0b3JzLnB1c2goLi4udmVjdG9ycy5kYXRhKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYWxsVmVjdG9ycztcblx0XHR9XG5cblx0XHRjb25zdCB2ZWN0b3JzID0gYXdhaXQgdGhpcy5nYXRld2F5Lm1ha2VSZXF1ZXN0PHtcblx0XHRcdGRhdGE6IG51bWJlcltdW107XG5cdFx0fT4oe1xuXHRcdFx0bW9kZWxJZDogdGhpcy50ZXh0RW1iZWRkaW5nc01vZGVsSWQsXG5cdFx0XHRwcm9tcHQ6IGNvbnRlbnQsXG5cdFx0XHRzaG91bGRTdHJlYW06IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJlbWJlZGRpbmdcIixcblx0XHR9KTtcblxuXHRcdGlmICghdmVjdG9ycz8uZGF0YT8ubGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyB2ZWN0b3JzIHJldHVybmVkIGZyb20gQUkgR2F0ZXdheVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmVjdG9ycy5kYXRhO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRNZXRhZGF0YShmaWxlOiBURmlsZSk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuXHRcdGNvbnN0IG1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge1xuXHRcdFx0ZmlsZU5hbWU6IGZpbGUubmFtZSxcblx0XHRcdGV4dGVuc2lvbjogZmlsZS5leHRlbnNpb24sXG5cdFx0fTtcblxuXHRcdGlmIChmaWxlLnN0YXQuY3RpbWUpIHtcblx0XHRcdGNvbnN0IGNyZWF0ZWREYXRlID0gbmV3IERhdGUoZmlsZS5zdGF0LmN0aW1lKTtcblx0XHRcdG1ldGFkYXRhLmNyZWF0ZWQgPSBmaWxlLnN0YXQuY3RpbWU7XG5cdFx0XHRtZXRhZGF0YS5jcmVhdGVkWWVhciA9IGNyZWF0ZWREYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRtZXRhZGF0YS5jcmVhdGVkTW9udGggPSBjcmVhdGVkRGF0ZS5nZXRNb250aCgpICsgMTtcblx0XHR9XG5cblx0XHRpZiAoZmlsZS5zdGF0Lm10aW1lKSB7XG5cdFx0XHRjb25zdCBtb2RpZmllZERhdGUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuXHRcdFx0bWV0YWRhdGEubW9kaWZpZWQgPSBmaWxlLnN0YXQubXRpbWU7XG5cdFx0XHRtZXRhZGF0YS5tb2RpZmllZFllYXIgPSBtb2RpZmllZERhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdG1ldGFkYXRhLm1vZGlmaWVkTW9udGggPSBtb2RpZmllZERhdGUuZ2V0TW9udGgoKSArIDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1ldGFkYXRhO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyB1cHNlcnRWZWN0b3JzKFxuXHRcdGlkOiBzdHJpbmcsXG5cdFx0dmVjdG9yczogbnVtYmVyW11bXSxcblx0XHRtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pixcblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgdXBzZXJ0UmVzdWx0ID0gYXdhaXQgdGhpcy52ZWN0b3JpemUudXBzZXJ0VmVjdG9ycyhbXG5cdFx0XHR7XG5cdFx0XHRcdGlkLFxuXHRcdFx0XHR2YWx1ZXM6IHZlY3RvcnMsXG5cdFx0XHRcdG1ldGFkYXRhLFxuXHRcdFx0XHRuYW1lc3BhY2U6IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKSxcblx0XHRcdH0sXG5cdFx0XSk7XG5cblx0XHRpZiAoIXVwc2VydFJlc3VsdCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwc2VydCB2ZWN0b3JzXCIpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZW5zdXJlU3luY0RpcmVjdG9yeSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBzeW5jRGlyID0gXCIuY2xvdWRmbGFyZS1haS9zeW5jXCI7XG5cdFx0aWYgKCEoYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoc3luY0RpcikpKSB7XG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLm1rZGlyKHN5bmNEaXIpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgc2F2ZVN5bmNTdGF0ZShcblx0XHRpZDogc3RyaW5nLFxuXHRcdGZpbGU6IFRGaWxlLFxuXHRcdHZlY3RvcnM6IG51bWJlcltdW10sXG5cdFx0bWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHN5bmNTdGF0ZSA9IHtcblx0XHRcdGlkLFxuXHRcdFx0cGF0aDogZmlsZS5wYXRoLFxuXHRcdFx0bGFzdFN5bmM6IERhdGUubm93KCksXG5cdFx0XHRsYXN0TW9kaWZpZWQ6IGZpbGUuc3RhdC5tdGltZSxcblx0XHRcdG1ldGFkYXRhLFxuXHRcdFx0dmVjdG9yczogdmVjdG9ycyxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3luY1BhdGggPSBgLmNsb3VkZmxhcmUtYWkvc3luYy8ke2lkfS5qc29uYDtcblx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKFxuXHRcdFx0c3luY1BhdGgsXG5cdFx0XHRKU09OLnN0cmluZ2lmeShzeW5jU3RhdGUsIG51bGwsIDIpLFxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBnZXRTeW5jU3RhdGUodmVjdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8e1xuXHRcdGlkOiBzdHJpbmc7XG5cdFx0cGF0aDogc3RyaW5nO1xuXHRcdGxhc3RTeW5jOiBudW1iZXI7XG5cdFx0bGFzdE1vZGlmaWVkOiBudW1iZXI7XG5cdFx0bWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT47XG5cdFx0dmVjdG9yczogbnVtYmVyW11bXTtcblx0fSB8IG51bGw+IHtcblx0XHRhd2FpdCB0aGlzLmVuc3VyZVN5bmNEaXJlY3RvcnkoKTtcblxuXHRcdGNvbnN0IHN5bmNQYXRoID0gYC5jbG91ZGZsYXJlLWFpL3N5bmMvJHt2ZWN0b3JJZH0uanNvbmA7XG5cblx0XHR0cnkge1xuXHRcdFx0aWYgKGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKHN5bmNQYXRoKSkge1xuXHRcdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKHN5bmNQYXRoKTtcblx0XHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLndhcm4oYEZhaWxlZCB0byByZWFkIHN5bmMgc3RhdGUgZm9yICR7dmVjdG9ySWR9OmAsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBwcm9jZXNzQmF0Y2goXG5cdFx0YmF0Y2g6IFRGaWxlW10sXG5cdFx0cmVzdWx0OiBTeW5jUmVzdWx0LFxuXHRcdGN1cnJlbnRCYXRjaDogbnVtYmVyLFxuXHRcdHRvdGFsQmF0Y2hlczogbnVtYmVyLFxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhgUHJvY2Vzc2luZyBzeW5jIGJhdGNoICR7Y3VycmVudEJhdGNofS8ke3RvdGFsQmF0Y2hlc31gKTtcblxuXHRcdGNvbnN0IGJhdGNoUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChcblx0XHRcdGJhdGNoLm1hcCgoZmlsZSkgPT4gdGhpcy5zeW5jRmlsZShmaWxlLCByZXN1bHQpKSxcblx0XHQpO1xuXG5cdFx0YmF0Y2hSZXN1bHRzLmZvckVhY2goKGJhdGNoUmVzdWx0LCBpbmRleCkgPT4ge1xuXHRcdFx0aWYgKGJhdGNoUmVzdWx0LnN0YXR1cyA9PT0gXCJyZWplY3RlZFwiKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRcdGBGYWlsZWQgdG8gc3luYyBmaWxlICR7YmF0Y2hbaW5kZXhdLnBhdGh9OiAke2JhdGNoUmVzdWx0LnJlYXNvbn1gLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBBcHAsIE5vdGljZSwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgU3ZlbHRlQ29tcG9uZW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuaW1wb3J0IHR5cGUge1xuXHRNZXNzYWdlLFxuXHRWZWN0b3JpemVGaWx0ZXIsXG5cdENsb3VkZmxhcmVBSVBsdWdpblNldHRpbmdzLFxuXHRWZWN0b3JTZWFyY2hSZXN1bHQsXG5cdFZlY3Rvck1hdGNoLFxufSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IENsb3VkZmxhcmVBSUdhdGV3YXkgfSBmcm9tIFwiLi4vc2VydmljZXMvY2xvdWRmbGFyZS1haS1nYXRld2F5XCI7XG5pbXBvcnQgeyBDbG91ZGZsYXJlVmVjdG9yaXplIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2Nsb3VkZmxhcmUtdmVjdG9yaXplXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuaW1wb3J0IHsgU3luY1NlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvc3luY1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUNoYXQge1xuXHRwdWJsaWMgbWVzc2FnZXM6IE1lc3NhZ2VbXSA9IFtdO1xuXHRwdWJsaWMgYXBpTWVzc2FnZXM6IE1lc3NhZ2VbXSA9IFtdO1xuXHRwdWJsaWMgY29tcG9uZW50OiBTdmVsdGVDb21wb25lbnQgfCBudWxsID0gbnVsbDtcblx0cHVibGljIHJlYWRvbmx5IHN2ZWx0ZUNvbXBvbmVudHM6IFN2ZWx0ZUNvbXBvbmVudFtdID0gW107XG5cdHB1YmxpYyBpc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0cHVibGljIGNvbnRlbnRFbDogSFRNTEVsZW1lbnQ7XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IERFRkFVTFRfU1lTVEVNX01FU1NBR0U6IE1lc3NhZ2UgPSB7XG5cdFx0cm9sZTogXCJzeXN0ZW1cIixcblx0XHRjb250ZW50OiBgWW91IGFyZSBhIGhlbHBmdWwgQUkgYXNzaXN0YW50IHRoYXQgYW5hbHl6ZXMgbm90ZXMgYW5kIHByb3ZpZGVzIGluc2lnaHRzLiBDb25zaWRlciB0aGUgY29udGV4dCBjYXJlZnVsbHkgYmVmb3JlIGFuc3dlcmluZyBxdWVzdGlvbnMuIFRoZSBjdXJyZW50IGRhdGUgaXMgJHtcblx0XHRcdG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF1cblx0XHR9LmAsXG5cdH07XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJvdGVjdGVkIGFwcDogQXBwLFxuXHRcdHByb3RlY3RlZCBsb2dnZXI6IExvZ2dlcixcblx0XHRwcm90ZWN0ZWQgZ2F0ZXdheTogQ2xvdWRmbGFyZUFJR2F0ZXdheSxcblx0XHRwcm90ZWN0ZWQgdmVjdG9yaXplOiBDbG91ZGZsYXJlVmVjdG9yaXplLFxuXHRcdHByb3RlY3RlZCBzZXR0aW5nczogQ2xvdWRmbGFyZUFJUGx1Z2luU2V0dGluZ3MsXG5cdFx0cHJvdGVjdGVkIHN5bmM6IFN5bmNTZXJ2aWNlLFxuXHQpIHtcblx0XHR0aGlzLnZhbGlkYXRlU2VydmljZXMoKTtcblx0XHR0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdH1cblxuXHRwcml2YXRlIHZhbGlkYXRlU2VydmljZXMoKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmdhdGV3YXkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkdhdGV3YXkgbm90IGluaXRpYWxpemVkXCIpO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMudmVjdG9yaXplKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJWZWN0b3JpemUgbm90IGluaXRpYWxpemVkXCIpO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMuc2V0dGluZ3M/LnRleHRFbWJlZGRpbmdzTW9kZWxJZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVGV4dCBlbWJlZGRpbmdzIG1vZGVsIElEIG5vdCBzZXRcIik7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUVtYmVkZGluZyh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcltdIHwgbnVsbD4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdlbmVyYXRpbmcgZW1iZWRkaW5nXCIsIHsgdGV4dCB9KTtcblxuXHRcdFx0Y29uc3QgZW1iZWRkaW5nID0gYXdhaXQgdGhpcy5nYXRld2F5Lm1ha2VSZXF1ZXN0PHtcblx0XHRcdFx0ZGF0YTogbnVtYmVyW11bXTtcblx0XHRcdH0+KHtcblx0XHRcdFx0bW9kZWxJZDogdGhpcy5zZXR0aW5ncy50ZXh0RW1iZWRkaW5nc01vZGVsSWQsXG5cdFx0XHRcdHByb21wdDogdGV4dCxcblx0XHRcdFx0c2hvdWxkU3RyZWFtOiBmYWxzZSxcblx0XHRcdFx0dHlwZTogXCJlbWJlZGRpbmdcIixcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIkVtYmVkZGluZyBnZW5lcmF0ZWRcIiwgeyBlbWJlZGRpbmcgfSk7XG5cblx0XHRcdHJldHVybiBlbWJlZGRpbmc/LmRhdGE/LlswXSA/PyBudWxsO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIkVycm9yIGdlbmVyYXRpbmcgZW1iZWRkaW5nOlwiLCB7XG5cdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgc2VhcmNoU2ltaWxhck5vdGVzKFxuXHRcdHZlY3RvcjogbnVtYmVyW10sXG5cdFx0ZmlsdGVyczogVmVjdG9yaXplRmlsdGVyLFxuXHQpOiBQcm9taXNlPFZlY3RvclNlYXJjaFJlc3VsdCB8IG51bGw+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJTZWFyY2hpbmcgZm9yIHNpbWlsYXIgbm90ZXNcIiwgeyB2ZWN0b3IsIGZpbHRlcnMgfSk7XG5cblx0XHRcdGlmICghdmVjdG9yKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnZlY3Rvcml6ZS5xdWVyeVZlY3RvcnMoe1xuXHRcdFx0XHR2ZWN0b3IsXG5cdFx0XHRcdHRvcEs6IHRoaXMuc2V0dGluZ3MudG9wSyxcblx0XHRcdFx0bmFtZXNwYWNlOiB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCksXG5cdFx0XHRcdGZpbHRlcjogZmlsdGVycyxcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNpbWlsYXIgbm90ZXMgZm91bmRcIiwgeyByZXN1bHQgfSk7XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiRXJyb3Igc2VhcmNoaW5nIHZlY3RvcnM6XCIsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCxcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBlbnJpY2hNZXNzYWdlV2l0aENvbnRleHQoXG5cdFx0bWVzc2FnZTogc3RyaW5nLFxuXHRcdHNlYXJjaFJlc3VsdHM6IFZlY3RvclNlYXJjaFJlc3VsdCB8IG51bGwsXG5cdCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0aWYgKCFzZWFyY2hSZXN1bHRzPy5tYXRjaGVzPy5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBtZXNzYWdlO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKFwiRW5yaWNoaW5nIG1lc3NhZ2Ugd2l0aCBjb250ZXh0XCIsIHtcblx0XHRcdG1lc3NhZ2UsXG5cdFx0XHRzZWFyY2hSZXN1bHRzLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgcmVsZXZhbnRNYXRjaGVzID0gc2VhcmNoUmVzdWx0cy5tYXRjaGVzXG5cdFx0XHQuZmlsdGVyKChtYXRjaCkgPT4gbWF0Y2guc2NvcmUgPj0gdGhpcy5zZXR0aW5ncy5taW5TaW1pbGFyaXR5U2NvcmUpXG5cdFx0XHQuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpO1xuXG5cdFx0aWYgKCFyZWxldmFudE1hdGNoZXMubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIk5vIHJlbGV2YW50IG1hdGNoZXMgZm91bmRcIiwge1xuXHRcdFx0XHRtZXNzYWdlLFxuXHRcdFx0XHRtaW5TaW1pbGFyaXR5U2NvcmU6IHRoaXMuc2V0dGluZ3MubWluU2ltaWxhcml0eVNjb3JlLFxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBtZXNzYWdlO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKFwiUmVsZXZhbnQgbWF0Y2hlcyBmb3VuZFwiLCB7IHJlbGV2YW50TWF0Y2hlcyB9KTtcblxuXHRcdGNvbnN0IGNvbnRleHRQcm9taXNlcyA9IHJlbGV2YW50TWF0Y2hlcy5tYXAoYXN5bmMgKG1hdGNoOiBWZWN0b3JNYXRjaCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3Qgc3luY1N0YXRlID0gYXdhaXQgdGhpcy5zeW5jLmdldFN5bmNTdGF0ZShtYXRjaC5pZCk7XG5cdFx0XHRcdGlmICghc3luY1N0YXRlKSByZXR1cm4gbnVsbDtcblxuXHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHN5bmNTdGF0ZT8ucGF0aCk7XG5cdFx0XHRcdGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHJldHVybiBudWxsO1xuXG5cdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y29udGVudDogY29udGVudCxcblx0XHRcdFx0XHRzY29yZTogbWF0Y2guc2NvcmUsXG5cdFx0XHRcdFx0cGF0aDogZmlsZS5wYXRoLFxuXHRcdFx0XHRcdGxpbms6IGBbWyR7ZmlsZS5wYXRofV1dYCxcblx0XHRcdFx0fTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKGBFcnJvciByZWFkaW5nIG5vdGUgJHttYXRjaC5pZH06YCwge1xuXHRcdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgY29udGV4dHMgPSAoYXdhaXQgUHJvbWlzZS5hbGwoY29udGV4dFByb21pc2VzKSkuZmlsdGVyKFxuXHRcdFx0KGN0eCk6IGN0eCBpcyBOb25OdWxsYWJsZTx0eXBlb2YgY3R4PiA9PiBjdHggIT09IG51bGwsXG5cdFx0KTtcblxuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKFwiQ29udGV4dHMgZm91bmRcIiwgeyBjb250ZXh0cyB9KTtcblxuXHRcdGlmICghY29udGV4dHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gbWVzc2FnZTtcblx0XHR9XG5cblx0XHRjb25zdCBmb3JtYXR0ZWRDb250ZXh0ID0gY29udGV4dHNcblx0XHRcdC5tYXAoXG5cdFx0XHRcdChjdHgpID0+XG5cdFx0XHRcdFx0YFske01hdGgucm91bmQoY3R4LnNjb3JlICogMTAwKX0lIHJlbGV2YW50IGZyb20gJHtjdHgubGlua31dOlxcbiR7XG5cdFx0XHRcdFx0XHRjdHguY29udGVudFxuXHRcdFx0XHRcdH1gLFxuXHRcdFx0KVxuXHRcdFx0LmpvaW4oXCJcXG5cXG5cIik7XG5cblx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZvcm1hdHRlZCBjb250ZXh0XCIsIHsgZm9ybWF0dGVkQ29udGV4dCB9KTtcblxuXHRcdGNvbnN0IHNvdXJjZUxpbmtzID0gY29udGV4dHMubWFwKChjdHgpID0+IGN0eC5saW5rKS5qb2luKFwiLCBcIik7XG5cblx0XHRjb25zdCBwcm9tcHQgPSBgQ29udGV4dCBmcm9tIG15IG5vdGVzOlxuXG4ke2Zvcm1hdHRlZENvbnRleHR9XG5cblF1ZXN0aW9uOiAke21lc3NhZ2V9XG5cbkluc3RydWN0aW9uczogUGxlYXNlIHJlZmVyZW5jZSB0aGUgc291cmNlIG5vdGVzIHVzaW5nIHRoZWlyIGxpbmtzICgke3NvdXJjZUxpbmtzfSkgd2hlbiB0aGV5IGFyZSByZWxldmFudCB0byB5b3VyIHJlc3BvbnNlLiBGb3JtYXQgeW91ciByZXNwb25zZSBpbiBtYXJrZG93bi5gO1xuXG5cdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJQcm9tcHQgZ2VuZXJhdGVkXCIsIHsgcHJvbXB0IH0pO1xuXG5cdFx0cmV0dXJuIHByb21wdDtcblx0fVxuXG5cdGFzeW5jIG9uU2VuZE1lc3NhZ2UoXG5cdFx0bWVzc2FnZTogc3RyaW5nLFxuXHRcdGZpbHRlcnM6IFZlY3Rvcml6ZUZpbHRlcixcblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghbWVzc2FnZS50cmltKCkpIHJldHVybjtcblxuXHRcdFx0dGhpcy5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuXHRcdFx0bGV0IHN0cmVhbWluZ0NvbnRlbnQgPSBcIlwiO1xuXHRcdFx0aWYgKHRoaXMuY29tcG9uZW50KSB7XG5cdFx0XHRcdHRoaXMuY29tcG9uZW50LiRzZXQoeyBzdHJlYW1pbmdDb250ZW50IH0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy51cGRhdGVDb21wb25lbnQoKTtcblxuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJTZW5kaW5nIG1lc3NhZ2VcIiwgeyBtZXNzYWdlLCBmaWx0ZXJzIH0pO1xuXG5cdFx0XHRjb25zdCB1c2VyTWVzc2FnZTogTWVzc2FnZSA9IHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IG1lc3NhZ2UgfTtcblx0XHRcdHRoaXMubWVzc2FnZXMucHVzaCh1c2VyTWVzc2FnZSk7XG5cblx0XHRcdGNvbnN0IGFzc2lzdGFudE1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG5cdFx0XHRcdHJvbGU6IFwiYXNzaXN0YW50XCIsXG5cdFx0XHRcdGNvbnRlbnQ6IFwiXCIsXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5tZXNzYWdlcy5wdXNoKGFzc2lzdGFudE1lc3NhZ2UpO1xuXG5cdFx0XHR0aGlzLnVwZGF0ZUNvbXBvbmVudCgpO1xuXG5cdFx0XHRpZiAoIXRoaXMuYXBpTWVzc2FnZXMuc29tZSgobXNnKSA9PiBtc2cucm9sZSA9PT0gXCJzeXN0ZW1cIikpIHtcblx0XHRcdFx0dGhpcy5hcGlNZXNzYWdlcy5wdXNoKHRoaXMuREVGQVVMVF9TWVNURU1fTUVTU0FHRSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGVtYmVkZGluZyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVFbWJlZGRpbmcobWVzc2FnZSk7XG5cdFx0XHRjb25zdCBzZWFyY2hSZXN1bHRzID0gZW1iZWRkaW5nXG5cdFx0XHRcdD8gYXdhaXQgdGhpcy5zZWFyY2hTaW1pbGFyTm90ZXMoZW1iZWRkaW5nLCBmaWx0ZXJzKVxuXHRcdFx0XHQ6IG51bGw7XG5cblx0XHRcdGNvbnN0IG1lc3NhZ2VXaXRoQ29udGV4dCA9IGF3YWl0IHRoaXMuZW5yaWNoTWVzc2FnZVdpdGhDb250ZXh0KFxuXHRcdFx0XHRtZXNzYWdlLFxuXHRcdFx0XHRzZWFyY2hSZXN1bHRzLFxuXHRcdFx0KTtcblx0XHRcdHRoaXMuYXBpTWVzc2FnZXMucHVzaCh7IC4uLnVzZXJNZXNzYWdlLCBjb250ZW50OiBtZXNzYWdlV2l0aENvbnRleHQgfSk7XG5cblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nYXRld2F5LmdlbmVyYXRlVGV4dChcblx0XHRcdFx0dGhpcy5hcGlNZXNzYWdlcyxcblx0XHRcdFx0KHRva2VuOiBzdHJpbmcsIGlzRmlyc3Q6IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0XHRzdHJlYW1pbmdDb250ZW50ID0gaXNGaXJzdCA/IHRva2VuIDogc3RyZWFtaW5nQ29udGVudCArIHRva2VuO1xuXHRcdFx0XHRcdGFzc2lzdGFudE1lc3NhZ2UuY29udGVudCA9IHN0cmVhbWluZ0NvbnRlbnQ7XG5cdFx0XHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmNvbXBvbmVudCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmNvbXBvbmVudC4kc2V0KHtcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlczogWy4uLnRoaXMubWVzc2FnZXNdLFxuXHRcdFx0XHRcdFx0XHRcdHN0cmVhbWluZ0NvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LFxuXHRcdFx0KTtcblxuXHRcdFx0aWYgKCFyZXNwb25zZSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNwb25zZSBmcm9tIEFJIEdhdGV3YXlcIik7XG5cdFx0XHR9XG5cblx0XHRcdGFzc2lzdGFudE1lc3NhZ2UuY29udGVudCA9IHJlc3BvbnNlO1xuXHRcdFx0dGhpcy5hcGlNZXNzYWdlcy5wdXNoKGFzc2lzdGFudE1lc3NhZ2UpO1xuXHRcdFx0dGhpcy51cGRhdGVDb21wb25lbnQoKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoXCJFcnJvciBpbiBtZXNzYWdlIHByb2Nlc3Npbmc6XCIsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCxcblx0XHRcdH0pO1xuXHRcdFx0bmV3IE5vdGljZShcIkVycm9yIGdlbmVyYXRpbmcgcmVzcG9uc2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuXG5cdFx0XHR0aGlzLm1lc3NhZ2VzID0gdGhpcy5tZXNzYWdlcy5zbGljZSgwLCAtMSk7XG5cdFx0XHR0aGlzLmFwaU1lc3NhZ2VzID0gdGhpcy5hcGlNZXNzYWdlcy5zbGljZSgwLCAtMSk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cdFx0XHR0aGlzLnVwZGF0ZUNvbXBvbmVudCgpO1xuXHRcdH1cblx0fVxuXG5cdHByb3RlY3RlZCB1cGRhdGVDb21wb25lbnQoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuY29tcG9uZW50KSB7XG5cdFx0XHR0aGlzLmNvbXBvbmVudC4kc2V0KHtcblx0XHRcdFx0bWVzc2FnZXM6IFsuLi50aGlzLm1lc3NhZ2VzXSxcblx0XHRcdFx0aXNQcm9jZXNzaW5nOiB0aGlzLmlzUHJvY2Vzc2luZyxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIG9uQ2xlYXJNZXNzYWdlcygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLm1lc3NhZ2VzID0gW107XG5cdFx0dGhpcy5hcGlNZXNzYWdlcyA9IFtdO1xuXHRcdHRoaXMudXBkYXRlQ29tcG9uZW50KCk7XG5cdH1cblxuXHRhc3luYyBvbkNvcHlDb250ZW50KFxuXHRcdGNvbnRlbnQ6IHN0cmluZyxcblx0XHR0eXBlOiBcIm1lc3NhZ2VcIiB8IFwiY29udmVyc2F0aW9uXCIsXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb250ZW50KTtcblx0XHRcdG5ldyBOb3RpY2UoYENvcGllZCAke3R5cGV9IHRvIGNsaXBib2FyZGApO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIkVycm9yIGNvcHlpbmcgdG8gY2xpcGJvYXJkOlwiLCB7XG5cdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0XHR9KTtcblx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBjb3B5ICR7dHlwZX1gKTtcblx0XHR9XG5cdH1cblxuXHRjbGVhbnVwKCk6IHZvaWQge1xuXHRcdHRoaXMuc3ZlbHRlQ29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcblx0XHRcdGlmIChjb21wb25lbnQgJiYgdHlwZW9mIGNvbXBvbmVudC4kZGVzdHJveSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdGNvbXBvbmVudC4kZGVzdHJveSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGluaXRpYWxpemVDb21wb25lbnQoXG5cdFx0dGFyZ2V0OiBIVE1MRWxlbWVudCxcblx0XHRDb21wb25lbnRDbGFzczogdHlwZW9mIFN2ZWx0ZUNvbXBvbmVudCxcblx0KTogdm9pZCB7XG5cdFx0Y29uc3QgY29tcG9uZW50ID0gbmV3IENvbXBvbmVudENsYXNzKHtcblx0XHRcdHRhcmdldCxcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdG1lc3NhZ2VzOiB0aGlzLm1lc3NhZ2VzLFxuXHRcdFx0XHRpc1Byb2Nlc3Npbmc6IHRoaXMuaXNQcm9jZXNzaW5nLFxuXHRcdFx0XHRvblNlbmRNZXNzYWdlOiAobWVzc2FnZTogc3RyaW5nLCBmaWx0ZXJzOiBWZWN0b3JpemVGaWx0ZXIpID0+XG5cdFx0XHRcdFx0dGhpcy5vblNlbmRNZXNzYWdlKG1lc3NhZ2UsIGZpbHRlcnMpLFxuXHRcdFx0XHRvbkNsZWFyTWVzc2FnZXM6ICgpID0+IHRoaXMub25DbGVhck1lc3NhZ2VzKCksXG5cdFx0XHRcdG9uQ29weUNvbnZlcnNhdGlvbjogKCkgPT5cblx0XHRcdFx0XHR0aGlzLm9uQ29weUNvbnRlbnQoXG5cdFx0XHRcdFx0XHR0aGlzLm1lc3NhZ2VzLm1hcCgobSkgPT4gYCR7bS5yb2xlfTogJHttLmNvbnRlbnR9YCkuam9pbihcIlxcblxcblwiKSxcblx0XHRcdFx0XHRcdFwiY29udmVyc2F0aW9uXCIsXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0b25Db3B5TWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZykgPT5cblx0XHRcdFx0XHR0aGlzLm9uQ29weUNvbnRlbnQobWVzc2FnZSwgXCJtZXNzYWdlXCIpLFxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuXHRcdHRoaXMuc3ZlbHRlQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdH1cbn1cbiIsIi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge1R9IHRhclxuICogQHBhcmFtIHtTfSBzcmNcbiAqIEByZXR1cm5zIHtUICYgU31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGZvciAoY29uc3QgayBpbiBzcmMpIHRhcltrXSA9IHNyY1trXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VCAmIFN9ICovICh0YXIpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0ISF2YWx1ZSAmJlxuXHRcdCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHR0eXBlb2YgKC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLnRoZW4pID09PSAnZnVuY3Rpb24nXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG5cdGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcblx0XHRsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHRyZXR1cm4gZm4oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcblx0cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcblx0Zm5zLmZvckVhY2gocnVuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGhpbmdcbiAqIEByZXR1cm5zIHt0aGluZyBpcyBGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8IChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuXHRcdHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHR9XG5cdC8vIFRoaXMgaXMgYWN0dWFsbHkgZmFzdGVyIHRoYW4gZG9pbmcgVVJMKC4uKS5ocmVmXG5cdHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG5cdHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudF9zcmNzZXRcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudF9zcmNzZXQsIHNyY3NldCkge1xuXHRjb25zdCBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudF9zcmNzZXQuc3Jjc2V0KTtcblx0Y29uc3QgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQgfHwgJycpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19lbXB0eShvYmopIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcblx0aWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0Y2FsbGJhY2sodW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblx0Y29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2dldFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zdG9yZS9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG5cdGxldCB2YWx1ZTtcblx0c3Vic2NyaWJlKHN0b3JlLCAoXykgPT4gKHZhbHVlID0gXykpKCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcblx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uKSB7XG5cdFx0Y29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuXHRcdHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0cmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm4gPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSkgOiAkJHNjb3BlLmN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG5cdFx0Y29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcblx0XHRpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbGV0cztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWVyZ2VkID0gW107XG5cdFx0XHRjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuXHRcdFx0XHRtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXJnZWQ7XG5cdFx0fVxuXHRcdHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcblx0fVxuXHRyZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2UoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRzbG90X2NoYW5nZXMsXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRpZiAoc2xvdF9jaGFuZ2VzKSB7XG5cdFx0Y29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG5cdFx0c2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3QoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRkaXJ0eSxcblx0Z2V0X3Nsb3RfY2hhbmdlc19mbixcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG5cdHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W10gfCAtMX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuXHRpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcblx0XHRjb25zdCBkaXJ0eSA9IFtdO1xuXHRcdGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGRpcnR5W2ldID0gLTE7XG5cdFx0fVxuXHRcdHJldHVybiBkaXJ0eTtcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoa1swXSAhPT0gJyQnKSByZXN1bHRba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcblx0Y29uc3QgcmVzdCA9IHt9O1xuXHRrZXlzID0gbmV3IFNldChrZXlzKTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJykgcmVzdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuXHRcdHJlc3VsdFtrZXldID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMgeyh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcblx0bGV0IHJhbiA9IGZhbHNlO1xuXHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRpZiAocmFuKSByZXR1cm47XG5cdFx0cmFuID0gdHJ1ZTtcblx0XHRmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcblx0cmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtbbnVtYmVyLCBzdHJpbmddfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcblx0Y29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcblx0cmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFsvKiogQHR5cGUge251bWJlcn0gKi8gKHZhbHVlKSwgJ3B4J107XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG4iLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmV4cG9ydCBjb25zdCBpc19jbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLyoqIEB0eXBlIHsoKSA9PiBudW1iZXJ9ICovXG5leHBvcnQgbGV0IG5vdyA9IGlzX2NsaWVudCA/ICgpID0+IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSA6ICgpID0+IERhdGUubm93KCk7XG5cbmV4cG9ydCBsZXQgcmFmID0gaXNfY2xpZW50ID8gKGNiKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcblxuLy8gdXNlZCBpbnRlcm5hbGx5IGZvciB0ZXN0aW5nXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X25vdyhmbikge1xuXHRub3cgPSBmbjtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9yYWYoZm4pIHtcblx0cmFmID0gZm47XG59XG4iLCJpbXBvcnQgeyByYWYgfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG5vd1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHJ1bl90YXNrcyhub3cpIHtcblx0dGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuXHRcdGlmICghdGFzay5jKG5vdykpIHtcblx0XHRcdHRhc2tzLmRlbGV0ZSh0YXNrKTtcblx0XHRcdHRhc2suZigpO1xuXHRcdH1cblx0fSk7XG5cdGlmICh0YXNrcy5zaXplICE9PSAwKSByYWYocnVuX3Rhc2tzKTtcbn1cblxuLyoqXG4gKiBGb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5IVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcl9sb29wcygpIHtcblx0dGFza3MuY2xlYXIoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHRhc2sgdGhhdCBydW5zIG9uIGVhY2ggcmFmIGZyYW1lXG4gKiB1bnRpbCBpdCByZXR1cm5zIGEgZmFsc3kgdmFsdWUgb3IgaXMgYWJvcnRlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlRhc2tDYWxsYmFja30gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlRhc2t9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb29wKGNhbGxiYWNrKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5UYXNrRW50cnl9ICovXG5cdGxldCB0YXNrO1xuXHRpZiAodGFza3Muc2l6ZSA9PT0gMCkgcmFmKHJ1bl90YXNrcyk7XG5cdHJldHVybiB7XG5cdFx0cHJvbWlzZTogbmV3IFByb21pc2UoKGZ1bGZpbGwpID0+IHtcblx0XHRcdHRhc2tzLmFkZCgodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSkpO1xuXHRcdH0pLFxuXHRcdGFib3J0KCkge1xuXHRcdFx0dGFza3MuZGVsZXRlKHRhc2spO1xuXHRcdH1cblx0fTtcbn1cbiIsImltcG9ydCB7IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLCBoYXNfcHJvcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24uanMnO1xuXG4vLyBUcmFjayB3aGljaCBub2RlcyBhcmUgY2xhaW1lZCBkdXJpbmcgaHlkcmF0aW9uLiBVbmNsYWltZWQgbm9kZXMgY2FuIHRoZW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbi8vIGF0IHRoZSBlbmQgb2YgaHlkcmF0aW9uIHdpdGhvdXQgdG91Y2hpbmcgdGhlIHJlbWFpbmluZyBub2Rlcy5cbmxldCBpc19oeWRyYXRpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0X2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoXG4gKiBAcGFyYW0geyhpbmRleDogbnVtYmVyKSA9PiBudW1iZXJ9IGtleVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiB1cHBlcl9ib3VuZChsb3csIGhpZ2gsIGtleSwgdmFsdWUpIHtcblx0Ly8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuXHR3aGlsZSAobG93IDwgaGlnaCkge1xuXHRcdGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG5cdFx0aWYgKGtleShtaWQpIDw9IHZhbHVlKSB7XG5cdFx0XHRsb3cgPSBtaWQgKyAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoaWdoID0gbWlkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbG93O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2h5ZHJhdGUodGFyZ2V0KSB7XG5cdGlmICh0YXJnZXQuaHlkcmF0ZV9pbml0KSByZXR1cm47XG5cdHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuXHQvLyBXZSBrbm93IHRoYXQgYWxsIGNoaWxkcmVuIGhhdmUgY2xhaW1fb3JkZXIgdmFsdWVzIHNpbmNlIHRoZSB1bmNsYWltZWQgaGF2ZSBiZWVuIGRldGFjaGVkIGlmIHRhcmdldCBpcyBub3QgPGhlYWQ+XG5cblx0bGV0IGNoaWxkcmVuID0gLyoqIEB0eXBlIHtBcnJheUxpa2U8Tm9kZUV4Mj59ICovICh0YXJnZXQuY2hpbGROb2Rlcyk7XG5cdC8vIElmIHRhcmdldCBpcyA8aGVhZD4sIHRoZXJlIG1heSBiZSBjaGlsZHJlbiB3aXRob3V0IGNsYWltX29yZGVyXG5cdGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuXHRcdGNvbnN0IG15X2NoaWxkcmVuID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRteV9jaGlsZHJlbi5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjaGlsZHJlbiA9IG15X2NoaWxkcmVuO1xuXHR9XG5cdC8qXG5cdCAqIFJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkuXG5cdCAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2Zcblx0ICogbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBjbGFpbWVkIGluIG9yZGVyIGFuZCBvbmx5IG1vdmluZyB0aGUgcmVzdC4gVGhlIGxvbmdlc3Rcblx0ICogc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgdGhhdCBhcmUgY2xhaW1lZCBpbiBvcmRlciBjYW4gYmUgZm91bmQgYnlcblx0ICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cblx0ICpcblx0ICogVGhpcyBhbGdvcml0aG0gaXMgb3B0aW1hbCBpbiBnZW5lcmF0aW5nIHRoZSBsZWFzdCBhbW91bnQgb2YgcmVvcmRlciBvcGVyYXRpb25zXG5cdCAqIHBvc3NpYmxlLlxuXHQgKlxuXHQgKiBQcm9vZjpcblx0ICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG5cdCAqIGFsd2F5cyBmb3JtIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2UsIHNpbmNlIHRoZXkgZG8gbm90IG1vdmUgYW1vbmcgZWFjaCBvdGhlclxuXHQgKiBtZWFuaW5nIHRoYXQgdGhleSBtdXN0IGJlIGFscmVhZHkgb3JkZXJlZCBhbW9uZyBlYWNoIG90aGVyLiBUaHVzLCB0aGUgbWF4aW1hbFxuXHQgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuXHQgKi9cblx0Ly8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Vcblx0Ly8gbTogc3Vic2VxdWVuY2UgbGVuZ3RoIGogPT4gaW5kZXggayBvZiBzbWFsbGVzdCB2YWx1ZSB0aGF0IGVuZHMgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBsZW5ndGggalxuXHRjb25zdCBtID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG5cdC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG5cdGNvbnN0IHAgPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGgpO1xuXHRtWzBdID0gLTE7XG5cdGxldCBsb25nZXN0ID0gMDtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcblx0XHQvLyBGaW5kIHRoZSBsYXJnZXN0IHN1YnNlcXVlbmNlIGxlbmd0aCBzdWNoIHRoYXQgaXQgZW5kcyBpbiBhIHZhbHVlIGxlc3MgdGhhbiBvdXIgY3VycmVudCB2YWx1ZVxuXHRcdC8vIHVwcGVyX2JvdW5kIHJldHVybnMgZmlyc3QgZ3JlYXRlciB2YWx1ZSwgc28gd2Ugc3VidHJhY3Qgb25lXG5cdFx0Ly8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2Vcblx0XHRjb25zdCBzZXFfbGVuID1cblx0XHRcdChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50XG5cdFx0XHRcdD8gbG9uZ2VzdCArIDFcblx0XHRcdFx0OiB1cHBlcl9ib3VuZCgxLCBsb25nZXN0LCAoaWR4KSA9PiBjaGlsZHJlblttW2lkeF1dLmNsYWltX29yZGVyLCBjdXJyZW50KSkgLSAxO1xuXHRcdHBbaV0gPSBtW3NlcV9sZW5dICsgMTtcblx0XHRjb25zdCBuZXdfbGVuID0gc2VxX2xlbiArIDE7XG5cdFx0Ly8gV2UgY2FuIGd1YXJhbnRlZSB0aGF0IGN1cnJlbnQgaXMgdGhlIHNtYWxsZXN0IHZhbHVlLiBPdGhlcndpc2UsIHdlIHdvdWxkIGhhdmUgZ2VuZXJhdGVkIGEgbG9uZ2VyIHNlcXVlbmNlLlxuXHRcdG1bbmV3X2xlbl0gPSBpO1xuXHRcdGxvbmdlc3QgPSBNYXRoLm1heChuZXdfbGVuLCBsb25nZXN0KTtcblx0fVxuXHQvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCBsaXMgPSBbXTtcblx0Ly8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IHRvX21vdmUgPSBbXTtcblx0bGV0IGxhc3QgPSBjaGlsZHJlbi5sZW5ndGggLSAxO1xuXHRmb3IgKGxldCBjdXIgPSBtW2xvbmdlc3RdICsgMTsgY3VyICE9IDA7IGN1ciA9IHBbY3VyIC0gMV0pIHtcblx0XHRsaXMucHVzaChjaGlsZHJlbltjdXIgLSAxXSk7XG5cdFx0Zm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcblx0XHRcdHRvX21vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdFx0fVxuXHRcdGxhc3QtLTtcblx0fVxuXHRmb3IgKDsgbGFzdCA+PSAwOyBsYXN0LS0pIHtcblx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHR9XG5cdGxpcy5yZXZlcnNlKCk7XG5cdC8vIFdlIHNvcnQgdGhlIG5vZGVzIGJlaW5nIG1vdmVkIHRvIGd1YXJhbnRlZSB0aGF0IHRoZWlyIGluc2VydGlvbiBvcmRlciBtYXRjaGVzIHRoZSBjbGFpbSBvcmRlclxuXHR0b19tb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcblx0Ly8gRmluYWxseSwgd2UgbW92ZSB0aGUgbm9kZXNcblx0Zm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG9fbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdHdoaWxlIChqIDwgbGlzLmxlbmd0aCAmJiB0b19tb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuXHRcdFx0aisrO1xuXHRcdH1cblx0XHRjb25zdCBhbmNob3IgPSBqIDwgbGlzLmxlbmd0aCA/IGxpc1tqXSA6IG51bGw7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSh0b19tb3ZlW2ldLCBhbmNob3IpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG5cdHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlX3NoZWV0X2lkXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG5cdGNvbnN0IGFwcGVuZF9zdHlsZXNfdG8gPSBnZXRfcm9vdF9mb3Jfc3R5bGUodGFyZ2V0KTtcblx0aWYgKCFhcHBlbmRfc3R5bGVzX3RvLmdldEVsZW1lbnRCeUlkKHN0eWxlX3NoZWV0X2lkKSkge1xuXHRcdGNvbnN0IHN0eWxlID0gZWxlbWVudCgnc3R5bGUnKTtcblx0XHRzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuXHRcdHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuXHRcdGFwcGVuZF9zdHlsZXNoZWV0KGFwcGVuZF9zdHlsZXNfdG8sIHN0eWxlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge1NoYWRvd1Jvb3QgfCBEb2N1bWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG5cdGlmICghbm9kZSkgcmV0dXJuIGRvY3VtZW50O1xuXHRjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSA/IG5vZGUuZ2V0Um9vdE5vZGUoKSA6IG5vZGUub3duZXJEb2N1bWVudDtcblx0aWYgKHJvb3QgJiYgLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCkuaG9zdCkge1xuXHRcdHJldHVybiAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KTtcblx0fVxuXHRyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSB7XG5cdGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuXHQvLyBGb3IgdHJhbnNpdGlvbnMgdG8gd29yayB3aXRob3V0ICdzdHlsZS1zcmM6IHVuc2FmZS1pbmxpbmUnIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LFxuXHQvLyB0aGVzZSBlbXB0eSB0YWdzIG5lZWQgdG8gYmUgYWxsb3dlZCB3aXRoIGEgaGFzaCBhcyBhIHdvcmthcm91bmQgdW50aWwgd2UgbW92ZSB0byB0aGUgV2ViIEFuaW1hdGlvbnMgQVBJLlxuXHQvLyBVc2luZyB0aGUgaGFzaCBmb3IgdGhlIGVtcHR5IHN0cmluZyAoZm9yIGFuIGVtcHR5IHRhZykgd29ya3MgaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBTYWZhcmkuXG5cdC8vIFNvIGFzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIHdvcmthcm91bmQsIHdoZW4gd2UgYXBwZW5kIGVtcHR5IHN0eWxlIHRhZ3Mgd2Ugc2V0IHRoZWlyIGNvbnRlbnQgdG8gLyogZW1wdHkgKi8uXG5cdC8vIFRoZSBoYXNoICdzaGEyNTYtOU9sTk8wRE5FZWFWekhMNFJad0NMc0JIQThXQlE4dG9CcC80RjVYVjJuYz0nIHdpbGwgdGhlbiB3b3JrIGV2ZW4gaW4gU2FmYXJpLlxuXHRzdHlsZV9lbGVtZW50LnRleHRDb250ZW50ID0gJy8qIGVtcHR5ICovJztcblx0YXBwZW5kX3N0eWxlc2hlZXQoZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpLCBzdHlsZV9lbGVtZW50KTtcblx0cmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuXHRhcHBlbmQoLyoqIEB0eXBlIHtEb2N1bWVudH0gKi8gKG5vZGUpLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xuXHRyZXR1cm4gc3R5bGUuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcblx0aWYgKGlzX2h5ZHJhdGluZykge1xuXHRcdGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuXHRcdGlmIChcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQgfHxcblx0XHRcdCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnROb2RlICE9PSB0YXJnZXQpXG5cdFx0KSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5maXJzdENoaWxkO1xuXHRcdH1cblx0XHQvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuXHRcdHdoaWxlICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5jbGFpbV9vcmRlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0XHRpZiAobm9kZSAhPT0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpIHtcblx0XHRcdC8vIFdlIG9ubHkgaW5zZXJ0IGlmIHRoZSBvcmRlcmluZyBvZiB0aGlzIG5vZGUgc2hvdWxkIGJlIG1vZGlmaWVkIG9yIHRoZSBwYXJlbnQgbm9kZSBpcyBub3QgdGFyZ2V0XG5cdFx0XHRpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IG5vZGUubmV4dFNpYmxpbmc7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcGFyYW0ge05vZGV9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuXHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGVFeH0gbm9kZVxuICogQHBhcmFtIHtOb2RlRXh9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0aWYgKGlzX2h5ZHJhdGluZyAmJiAhYW5jaG9yKSB7XG5cdFx0YXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcblx0aWYgKG5vZGUucGFyZW50Tm9kZSkge1xuXHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGl0ZXJhdGlvbnNbaV0pIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50VGFnTmFtZU1hcFtLXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gaXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50X2lzKG5hbWUsIGlzKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgVH0gS1xuICogQHBhcmFtIHtUfSBvYmpcbiAqIEBwYXJhbSB7S1tdfSBleGNsdWRlXG4gKiBAcmV0dXJucyB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMob2JqLCBleGNsdWRlKSB7XG5cdGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn0gKi8gKHt9KTtcblx0Zm9yIChjb25zdCBrIGluIG9iaikge1xuXHRcdGlmIChcblx0XHRcdGhhc19wcm9wKG9iaiwgaykgJiZcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHRhcmdldFtrXSA9IG9ialtrXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHQoZGF0YSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gc3BhY2UoKSB7XG5cdHJldHVybiB0ZXh0KCcgJyk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoKSB7XG5cdHJldHVybiB0ZXh0KCcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHJldHVybnMge0NvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50KGNvbnRlbnQpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY29udGVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3R9IGhhbmRsZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcblx0bm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcblx0cmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudF9kZWZhdWx0KGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdGVkKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKGV2ZW50LmlzVHJ1c3RlZCkgZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZhbHVlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG5cdGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKSBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbi8qKlxuICogTGlzdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBzZXQgdGhyb3VnaCB0aGUgYXR0ciBtZXRob2QsXG4gKiBiZWNhdXNlIHVwZGF0aW5nIHRoZW0gdGhyb3VnaCB0aGUgcHJvcGVydHkgc2V0dGVyIGRvZXNuJ3Qgd29yayByZWxpYWJseS5cbiAqIEluIHRoZSBleGFtcGxlIG9mIGB3aWR0aGAvYGhlaWdodGAsIHRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIHNldHRlciBvbmx5XG4gKiBhY2NlcHRzIG51bWVyaWMgdmFsdWVzLCBidXQgdGhlIGF0dHJpYnV0ZSBjYW4gYWxzbyBiZSBzZXQgdG8gYSBzdHJpbmcgbGlrZSBgNTAlYC5cbiAqIElmIHRoaXMgbGlzdCBiZWNvbWVzIHRvbyBiaWcsIHJldGhpbmsgdGhpcyBhcHByb2FjaC5cbiAqL1xuY29uc3QgYWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUgPSBbJ3dpZHRoJywgJ2hlaWdodCddO1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHt7IFt4OiBzdHJpbmddOiBzdHJpbmcgfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Y29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhub2RlLl9fcHJvdG9fXyk7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlc1trZXldID09IG51bGwpIHtcblx0XHRcdG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG5cdFx0XHQvKiogQHR5cGUge2FueX0gKi8gKG5vZGUpLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldICYmXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldLnNldCAmJlxuXHRcdFx0YWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUuaW5kZXhPZihrZXkpID09PSAtMVxuXHRcdCkge1xuXHRcdFx0bm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gZGF0YV9tYXBcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwKG5vZGUsIGRhdGFfbWFwKSB7XG5cdE9iamVjdC5rZXlzKGRhdGFfbWFwKS5mb3JFYWNoKChrZXkpID0+IHtcblx0XHRzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBrZXksIGRhdGFfbWFwW2tleV0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuXHRjb25zdCBsb3dlciA9IHByb3AudG9Mb3dlckNhc2UoKTsgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgYmVoYXZpb3Igd2UgZG8gbG93ZXJjYXNlIGZpcnN0XG5cdGlmIChsb3dlciBpbiBub2RlKSB7XG5cdFx0bm9kZVtsb3dlcl0gPSB0eXBlb2Ygbm9kZVtsb3dlcl0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG5cdH0gZWxzZSBpZiAocHJvcCBpbiBub2RlKSB7XG5cdFx0bm9kZVtwcm9wXSA9IHR5cGVvZiBub2RlW3Byb3BdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGF0dHIobm9kZSwgcHJvcCwgdmFsdWUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2R5bmFtaWNfZWxlbWVudF9kYXRhKHRhZykge1xuXHRyZXR1cm4gLy0vLnRlc3QodGFnKSA/IHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCA6IHNldF9hdHRyaWJ1dGVzO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N2ZWx0ZV9kYXRhc2V0KG5vZGUpIHtcblx0cmV0dXJuIG5vZGUuZGF0YXNldC5zdmVsdGVIO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt1bmtub3duW119ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcblx0Y29uc3QgdmFsdWUgPSBuZXcgU2V0KCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoZ3JvdXBbaV0uY2hlY2tlZCkgdmFsdWUuYWRkKGdyb3VwW2ldLl9fdmFsdWUpO1xuXHR9XG5cdGlmICghY2hlY2tlZCkge1xuXHRcdHZhbHVlLmRlbGV0ZShfX3ZhbHVlKTtcblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50W119IGdyb3VwXG4gKiBAcmV0dXJucyB7eyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcigpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblx0cmV0dXJuIHtcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAucHVzaChpbnB1dCkpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHIoKSB7XG5cdFx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBncm91cC5zcGxpY2UoZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlc1xuICogQHJldHVybnMge3sgdShuZXdfaW5kZXhlczogbnVtYmVyW10pOiB2b2lkOyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcjogKCkgPT4gdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljKGdyb3VwLCBpbmRleGVzKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblxuXHRmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Z3JvdXAgPSBncm91cFtpbmRleGVzW2ldXSA9IGdyb3VwW2luZGV4ZXNbaV1dIHx8IFtdO1xuXHRcdH1cblx0XHRyZXR1cm4gZ3JvdXA7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHB1c2goKSB7XG5cdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gX2dyb3VwLnB1c2goaW5wdXQpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5zcGxpY2UoX2dyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdH1cblx0cmV0dXJuIHtcblx0XHQvKiB1cGRhdGUgKi8gdShuZXdfaW5kZXhlcykge1xuXHRcdFx0aW5kZXhlcyA9IG5ld19pbmRleGVzO1xuXHRcdFx0Y29uc3QgbmV3X2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXHRcdFx0aWYgKG5ld19ncm91cCAhPT0gX2dyb3VwKSB7XG5cdFx0XHRcdHJlbW92ZSgpO1xuXHRcdFx0XHRfZ3JvdXAgPSBuZXdfZ3JvdXA7XG5cdFx0XHRcdHB1c2goKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcblx0XHRcdF9pbnB1dHMgPSBpbnB1dHM7XG5cdFx0XHRwdXNoKCk7XG5cdFx0fSxcblx0XHQvKiByZW1vdmUgKi8gcjogcmVtb3ZlXG5cdH07XG59XG5cbi8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lX3Jhbmdlc190b19hcnJheShyYW5nZXMpIHtcblx0Y29uc3QgYXJyYXkgPSBbXTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuXHR9XG5cdHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcblx0cmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuXHRpZiAobm9kZXMuY2xhaW1faW5mbyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0bm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtDaGlsZE5vZGVFeH0gUlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBub2RlIGlzIFJ9IHByZWRpY2F0ZVxuICogQHBhcmFtIHsobm9kZTogQ2hpbGROb2RlRXgpID0+IENoaWxkTm9kZUV4IHwgdW5kZWZpbmVkfSBwcm9jZXNzX25vZGVcbiAqIEBwYXJhbSB7KCkgPT4gUn0gY3JlYXRlX25vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udF91cGRhdGVfbGFzdF9pbmRleFxuICogQHJldHVybnMge1J9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc19ub2RlLCBjcmVhdGVfbm9kZSwgZG9udF91cGRhdGVfbGFzdF9pbmRleCA9IGZhbHNlKSB7XG5cdC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IHJlc3VsdF9ub2RlID0gKCgpID0+IHtcblx0XHQvLyBXZSBmaXJzdCB0cnkgdG8gZmluZCBhbiBlbGVtZW50IGFmdGVyIHRoZSBwcmV2aW91cyBvbmVcblx0XHRmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4OyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRcdGlmIChwcmVkaWNhdGUobm9kZSkpIHtcblx0XHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzX25vZGUobm9kZSk7XG5cdFx0XHRcdGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bm9kZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFkb250X3VwZGF0ZV9sYXN0X2luZGV4KSB7XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gT3RoZXJ3aXNlLCB3ZSB0cnkgdG8gZmluZCBvbmUgYmVmb3JlXG5cdFx0Ly8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIFNpbmNlIHdlIHNwbGljZWQgYmVmb3JlIHRoZSBsYXN0X2luZGV4LCB3ZSBkZWNyZWFzZSBpdFxuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG5cdFx0cmV0dXJuIGNyZWF0ZV9ub2RlKCk7XG5cdH0pKCk7XG5cdHJlc3VsdF9ub2RlLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuXHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0cmV0dXJuIHJlc3VsdF9ub2RlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHBhcmFtIHsobmFtZTogc3RyaW5nKSA9PiBFbGVtZW50IHwgU1ZHRWxlbWVudH0gY3JlYXRlX2VsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgRWxlbWVudCB8IFNWR0VsZW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZU5hbWUgPT09IG5hbWUsXG5cdFx0LyoqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCByZW1vdmUgPSBbXTtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcblx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSkge1xuXHRcdFx0XHRcdHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlLmZvckVhY2goKHYpID0+IG5vZGUucmVtb3ZlQXR0cmlidXRlKHYpKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjcmVhdGVfZWxlbWVudChuYW1lKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Z19lbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBUZXh0fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLFxuXHRcdC8qKiBAcGFyYW0ge1RleHR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgZGF0YV9zdHIgPSAnJyArIGRhdGE7XG5cdFx0XHRpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YV9zdHIpKSB7XG5cdFx0XHRcdGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhX3N0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YV9zdHIubGVuZ3RoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5kYXRhID0gZGF0YV9zdHI7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQoKSA9PiB0ZXh0KGRhdGEpLFxuXHRcdHRydWUgLy8gVGV4dCBub2RlcyBzaG91bGQgbm90IHVwZGF0ZSBsYXN0IGluZGV4IHNpbmNlIGl0IGlzIGxpa2VseSBub3Qgd29ydGggaXQgdG8gZWxpbWluYXRlIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgYWN0dWFsIGVsZW1lbnRzXG5cdCk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcblx0cmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tbWVudChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgQ29tbWVudH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCxcblx0XHQvKiogQHBhcmFtIHtDb21tZW50fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdG5vZGUuZGF0YSA9ICcnICsgZGF0YTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjb21tZW50KGRhdGEpLFxuXHRcdHRydWVcblx0KTtcbn1cblxuZnVuY3Rpb24gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCB0ZXh0LCBzdGFydCkge1xuXHRmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8gJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgPT09IHRleHQpIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSBpc19zdmdcbiAqIEByZXR1cm5zIHtIdG1sVGFnSHlkcmF0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1faHRtbF90YWcobm9kZXMsIGlzX3N2Zykge1xuXHQvLyBmaW5kIGh0bWwgb3BlbmluZyB0YWdcblx0Y29uc3Qgc3RhcnRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuXHRjb25zdCBlbmRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19FTkQnLCBzdGFydF9pbmRleCArIDEpO1xuXHRpZiAoc3RhcnRfaW5kZXggPT09IC0xIHx8IGVuZF9pbmRleCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnKTtcblx0fVxuXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IGh0bWxfdGFnX25vZGVzID0gbm9kZXMuc3BsaWNlKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggLSBzdGFydF9pbmRleCArIDEpO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbMF0pO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMV0pO1xuXHRjb25zdCBjbGFpbWVkX25vZGVzID0gaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSk7XG5cdGlmIChjbGFpbWVkX25vZGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcpO1xuXHR9XG5cdGZvciAoY29uc3QgbiBvZiBjbGFpbWVkX25vZGVzKSB7XG5cdFx0bi5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0XHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0fVxuXHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnLCBjbGFpbWVkX25vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG5cdGRhdGEgPSAnJyArIGRhdGE7XG5cdGlmICh0ZXh0LmRhdGEgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJfdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEsIGF0dHJfdmFsdWUpIHtcblx0aWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG5cdFx0c2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpO1xuXHR9IGVsc2Uge1xuXHRcdHNldF9kYXRhKHRleHQsIGRhdGEpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuXHRpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF90eXBlKGlucHV0LCB0eXBlKSB7XG5cdHRyeSB7XG5cdFx0aW5wdXQudHlwZSA9IHR5cGU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBkbyBub3RoaW5nXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3R5bGUobm9kZSwga2V5LCB2YWx1ZSwgaW1wb3J0YW50KSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0bm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuXHR9IGVsc2Uge1xuXHRcdG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgdmFsdWUsIG1vdW50aW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG5cdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXHRpZiAoIW1vdW50aW5nIHx8IHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcblx0Y29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJyk7XG5cdHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG5cdHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgKG9wdGlvbikgPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuLy8gdW5mb3J0dW5hdGVseSB0aGlzIGNhbid0IGJlIGEgY29uc3RhbnQgYXMgdGhhdCB3b3VsZG4ndCBiZSB0cmVlLXNoYWtlYWJsZVxuLy8gc28gd2UgY2FjaGUgdGhlIHJlc3VsdCBpbnN0ZWFkXG5cbi8qKlxuICogQHR5cGUge2Jvb2xlYW59ICovXG5sZXQgY3Jvc3NvcmlnaW47XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG5cdGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Y3Jvc3NvcmlnaW4gPSBmYWxzZTtcblx0XHR0cnkge1xuXHRcdFx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wYXJlbnQpIHtcblx0XHRcdFx0dm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjcm9zc29yaWdpbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBjcm9zc29yaWdpbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG5cdGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0aWYgKGNvbXB1dGVkX3N0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuXHRcdG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHR9XG5cdGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKFxuXHRcdCdzdHlsZScsXG5cdFx0J2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG5cdFx0XHQnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7J1xuXHQpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cdGlmcmFtZS50YWJJbmRleCA9IC0xO1xuXHRjb25zdCBjcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luKCk7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHsoKSA9PiB2b2lkfVxuXHQgKi9cblx0bGV0IHVuc3Vic2NyaWJlO1xuXHRpZiAoY3Jvc3NvcmlnaW4pIHtcblx0XHRpZnJhbWUuc3JjID0gXCJkYXRhOnRleHQvaHRtbCw8c2NyaXB0Pm9ucmVzaXplPWZ1bmN0aW9uKCl7cGFyZW50LnBvc3RNZXNzYWdlKDAsJyonKX08L3NjcmlwdD5cIjtcblx0XHR1bnN1YnNjcmliZSA9IGxpc3Rlbihcblx0XHRcdHdpbmRvdyxcblx0XHRcdCdtZXNzYWdlJyxcblx0XHRcdC8qKiBAcGFyYW0ge01lc3NhZ2VFdmVudH0gZXZlbnQgKi8gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KSBmbigpO1xuXHRcdFx0fVxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0aWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG5cdFx0aWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdHVuc3Vic2NyaWJlID0gbGlzdGVuKGlmcmFtZS5jb250ZW50V2luZG93LCAncmVzaXplJywgZm4pO1xuXHRcdFx0Ly8gbWFrZSBzdXJlIGFuIGluaXRpYWwgcmVzaXplIGV2ZW50IGlzIGZpcmVkIF9hZnRlcl8gdGhlIGlmcmFtZSBpcyBsb2FkZWQgKHdoaWNoIGlzIGFzeW5jaHJvbm91cylcblx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy80MjMzXG5cdFx0XHRmbigpO1xuXHRcdH07XG5cdH1cblx0YXBwZW5kKG5vZGUsIGlmcmFtZSk7XG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH0gZWxzZSBpZiAodW5zdWJzY3JpYmUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcblx0XHRcdHVuc3Vic2NyaWJlKCk7XG5cdFx0fVxuXHRcdGRldGFjaChpZnJhbWUpO1xuXHR9O1xufVxuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdjb250ZW50LWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9ib3JkZXJfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7XG5cdGJveDogJ2JvcmRlci1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbihcblx0eyBib3g6ICdkZXZpY2UtcGl4ZWwtY29udGVudC1ib3gnIH1cbik7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9O1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZV9jbGFzcyhlbGVtZW50LCBuYW1lLCB0b2dnbGUpIHtcblx0Ly8gVGhlIGAhIWAgaXMgcmVxdWlyZWQgYmVjYXVzZSBhbiBgdW5kZWZpbmVkYCBmbGFnIG1lYW5zIGZsaXBwaW5nIHRoZSBjdXJyZW50IHN0YXRlLlxuXHRlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUobmFtZSwgISF0b2dnbGUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtUfSBbZGV0YWlsXVxuICogQHBhcmFtIHt7IGJ1YmJsZXM/OiBib29sZWFuLCBjYW5jZWxhYmxlPzogYm9vbGVhbiB9fSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtDdXN0b21FdmVudDxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG5cdHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVBcnJheX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuXHRyZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBub2RlSWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGhlYWRcbiAqIEByZXR1cm5zIHthbnlbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhlYWRfc2VsZWN0b3Iobm9kZUlkLCBoZWFkKSB7XG5cdGNvbnN0IHJlc3VsdCA9IFtdO1xuXHRsZXQgc3RhcnRlZCA9IDA7XG5cdGZvciAoY29uc3Qgbm9kZSBvZiBoZWFkLmNoaWxkTm9kZXMpIHtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8pIHtcblx0XHRcdGNvbnN0IGNvbW1lbnQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcblx0XHRcdGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fRU5EYCkge1xuXHRcdFx0XHRzdGFydGVkIC09IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fSBlbHNlIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fU1RBUlRgKSB7XG5cdFx0XHRcdHN0YXJ0ZWQgKz0gMTtcblx0XHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChzdGFydGVkID4gMCkge1xuXHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKiogKi9cbmV4cG9ydCBjbGFzcyBIdG1sVGFnIHtcblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IGZhbHNlXG5cdCAqL1xuXHRpc19zdmcgPSBmYWxzZTtcblx0LyoqIHBhcmVudCBmb3IgY3JlYXRpbmcgbm9kZSAqL1xuXHRlID0gdW5kZWZpbmVkO1xuXHQvKiogaHRtbCB0YWcgbm9kZXMgKi9cblx0biA9IHVuZGVmaW5lZDtcblx0LyoqIHRhcmdldCAqL1xuXHR0ID0gdW5kZWZpbmVkO1xuXHQvKiogYW5jaG9yICovXG5cdGEgPSB1bmRlZmluZWQ7XG5cdGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlKSB7XG5cdFx0dGhpcy5pc19zdmcgPSBpc19zdmc7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdHRoaXMuaChodG1sKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSBhbmNob3Jcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRtKGh0bWwsIHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuXHRcdGlmICghdGhpcy5lKSB7XG5cdFx0XHRpZiAodGhpcy5pc19zdmcpXG5cdFx0XHRcdHRoaXMuZSA9IHN2Z19lbGVtZW50KC8qKiBAdHlwZSB7a2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXB9ICovICh0YXJnZXQubm9kZU5hbWUpKTtcblx0XHRcdC8qKiAjNzM2NCAgdGFyZ2V0IGZvciA8dGVtcGxhdGU+IG1heSBiZSBwcm92aWRlZCBhcyAjZG9jdW1lbnQtZnJhZ21lbnQoMTEpICovIGVsc2Vcblx0XHRcdFx0dGhpcy5lID0gZWxlbWVudChcblx0XHRcdFx0XHQvKiogQHR5cGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gKi8gKFxuXHRcdFx0XHRcdFx0dGFyZ2V0Lm5vZGVUeXBlID09PSAxMSA/ICdURU1QTEFURScgOiB0YXJnZXQubm9kZU5hbWVcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cdFx0XHR0aGlzLnQgPVxuXHRcdFx0XHR0YXJnZXQudGFnTmFtZSAhPT0gJ1RFTVBMQVRFJ1xuXHRcdFx0XHRcdD8gdGFyZ2V0XG5cdFx0XHRcdFx0OiAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovICh0YXJnZXQpLmNvbnRlbnQ7XG5cdFx0XHR0aGlzLmMoaHRtbCk7XG5cdFx0fVxuXHRcdHRoaXMuaShhbmNob3IpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0aChodG1sKSB7XG5cdFx0dGhpcy5lLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0dGhpcy5uID0gQXJyYXkuZnJvbShcblx0XHRcdHRoaXMuZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJyA/IHRoaXMuZS5jb250ZW50LmNoaWxkTm9kZXMgOiB0aGlzLmUuY2hpbGROb2Rlc1xuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRwKGh0bWwpIHtcblx0XHR0aGlzLmQoKTtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdFx0dGhpcy5pKHRoaXMuYSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGQoKSB7XG5cdFx0dGhpcy5uLmZvckVhY2goZGV0YWNoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSHRtbFRhZ0h5ZHJhdGlvbiBleHRlbmRzIEh0bWxUYWcge1xuXHQvKiogQHR5cGUge0VsZW1lbnRbXX0gaHlkcmF0aW9uIGNsYWltZWQgbm9kZXMgKi9cblx0bCA9IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSwgY2xhaW1lZF9ub2Rlcykge1xuXHRcdHN1cGVyKGlzX3N2Zyk7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0XHR0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YyhodG1sKSB7XG5cdFx0aWYgKHRoaXMubCkge1xuXHRcdFx0dGhpcy5uID0gdGhpcy5sO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdXBlci5jKGh0bWwpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0aShhbmNob3IpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0aW5zZXJ0X2h5ZHJhdGlvbih0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05hbWVkTm9kZU1hcH0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG5cdFx0cmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5jb25zdCBlc2NhcGVkID0ge1xuXHQnXCInOiAnJnF1b3Q7Jyxcblx0JyYnOiAnJmFtcDsnLFxuXHQnPCc6ICcmbHQ7J1xufTtcblxuY29uc3QgcmVnZXhfYXR0cmlidXRlX2NoYXJhY3RlcnNfdG9fZXNjYXBlID0gL1tcIiY8XS9nO1xuXG4vKipcbiAqIE5vdGUgdGhhdCB0aGUgYXR0cmlidXRlIGl0c2VsZiBzaG91bGQgYmUgc3Vycm91bmRlZCBpbiBkb3VibGUgcXVvdGVzXG4gKiBAcGFyYW0ge2FueX0gYXR0cmlidXRlXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZV9hdHRyaWJ1dGUoYXR0cmlidXRlKSB7XG5cdHJldHVybiBTdHJpbmcoYXR0cmlidXRlKS5yZXBsYWNlKHJlZ2V4X2F0dHJpYnV0ZV9jaGFyYWN0ZXJzX3RvX2VzY2FwZSwgKG1hdGNoKSA9PiBlc2NhcGVkW21hdGNoXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSBhdHRyaWJ1dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlfc3ByZWFkKGF0dHJpYnV0ZXMpIHtcblx0bGV0IHN0ciA9ICcgJztcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGlmIChhdHRyaWJ1dGVzW2tleV0gIT0gbnVsbCkge1xuXHRcdFx0c3RyICs9IGAke2tleX09XCIke2VzY2FwZV9hdHRyaWJ1dGUoYXR0cmlidXRlc1trZXldKX1cIiBgO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHI7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChcblx0XHQvKiogQHBhcmFtIHtFbGVtZW50fSBub2RlICovIChub2RlKSA9PiB7XG5cdFx0XHRyZXN1bHRbbm9kZS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuXHRcdH1cblx0KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50KGNvbXBvbmVudCwgcHJvcHMpIHtcblx0cmV0dXJuIG5ldyBjb21wb25lbnQocHJvcHMpO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtOb2RlICYge1xuICogXHRjbGFpbV9vcmRlcj86IG51bWJlcjtcbiAqIFx0aHlkcmF0ZV9pbml0PzogdHJ1ZTtcbiAqIFx0YWN0dWFsX2VuZF9jaGlsZD86IE5vZGVFeDtcbiAqIFx0Y2hpbGROb2RlczogTm9kZUxpc3RPZjxOb2RlRXg+O1xuICogfX0gTm9kZUV4XG4gKi9cblxuLyoqIEB0eXBlZGVmIHtDaGlsZE5vZGUgJiBOb2RlRXh9IENoaWxkTm9kZUV4ICovXG5cbi8qKiBAdHlwZWRlZiB7Tm9kZUV4ICYgeyBjbGFpbV9vcmRlcjogbnVtYmVyIH19IE5vZGVFeDIgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7Q2hpbGROb2RlRXhbXSAmIHtcbiAqIFx0Y2xhaW1faW5mbz86IHtcbiAqIFx0XHRsYXN0X2luZGV4OiBudW1iZXI7XG4gKiBcdFx0dG90YWxfY2xhaW1lZDogbnVtYmVyO1xuICogXHR9O1xuICogfX0gQ2hpbGROb2RlQXJyYXlcbiAqL1xuIiwiaW1wb3J0IHsgYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQsIGRldGFjaCwgZ2V0X3Jvb3RfZm9yX3N0eWxlIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgcmFmIH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5cbi8vIHdlIG5lZWQgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGZvciBtdWx0aXBsZSBkb2N1bWVudHMgYmVjYXVzZSBhIFN2ZWx0ZSBhcHBsaWNhdGlvbiBjb3VsZCBhbHNvIGNvbnRhaW4gaWZyYW1lc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvMzYyNFxuLyoqIEB0eXBlIHtNYXA8RG9jdW1lbnQgfCBTaGFkb3dSb290LCBpbXBvcnQoJy4vcHJpdmF0ZS5kLnRzJykuU3R5bGVJbmZvcm1hdGlvbj59ICovXG5jb25zdCBtYW5hZ2VkX3N0eWxlcyA9IG5ldyBNYXAoKTtcblxubGV0IGFjdGl2ZSA9IDA7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG5cdGxldCBoYXNoID0gNTM4MTtcblx0bGV0IGkgPSBzdHIubGVuZ3RoO1xuXHR3aGlsZSAoaS0tKSBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcblx0cmV0dXJuIGhhc2ggPj4+IDA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtEb2N1bWVudCB8IFNoYWRvd1Jvb3R9IGRvY1xuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcmV0dXJucyB7eyBzdHlsZXNoZWV0OiBhbnk7IHJ1bGVzOiB7fTsgfX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlX3N0eWxlX2luZm9ybWF0aW9uKGRvYywgbm9kZSkge1xuXHRjb25zdCBpbmZvID0geyBzdHlsZXNoZWV0OiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSwgcnVsZXM6IHt9IH07XG5cdG1hbmFnZWRfc3R5bGVzLnNldChkb2MsIGluZm8pO1xuXHRyZXR1cm4gaW5mbztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAqIEBwYXJhbSB7KHQ6IG51bWJlcikgPT4gbnVtYmVyfSBlYXNlXG4gKiBAcGFyYW0geyh0OiBudW1iZXIsIHU6IG51bWJlcikgPT4gc3RyaW5nfSBmblxuICogQHBhcmFtIHtudW1iZXJ9IHVpZFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9ydWxlKG5vZGUsIGEsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzZSwgZm4sIHVpZCA9IDApIHtcblx0Y29uc3Qgc3RlcCA9IDE2LjY2NiAvIGR1cmF0aW9uO1xuXHRsZXQga2V5ZnJhbWVzID0gJ3tcXG4nO1xuXHRmb3IgKGxldCBwID0gMDsgcCA8PSAxOyBwICs9IHN0ZXApIHtcblx0XHRjb25zdCB0ID0gYSArIChiIC0gYSkgKiBlYXNlKHApO1xuXHRcdGtleWZyYW1lcyArPSBwICogMTAwICsgYCV7JHtmbih0LCAxIC0gdCl9fVxcbmA7XG5cdH1cblx0Y29uc3QgcnVsZSA9IGtleWZyYW1lcyArIGAxMDAlIHske2ZuKGIsIDEgLSBiKX19XFxufWA7XG5cdGNvbnN0IG5hbWUgPSBgX19zdmVsdGVfJHtoYXNoKHJ1bGUpfV8ke3VpZH1gO1xuXHRjb25zdCBkb2MgPSBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSk7XG5cdGNvbnN0IHsgc3R5bGVzaGVldCwgcnVsZXMgfSA9IG1hbmFnZWRfc3R5bGVzLmdldChkb2MpIHx8IGNyZWF0ZV9zdHlsZV9pbmZvcm1hdGlvbihkb2MsIG5vZGUpO1xuXHRpZiAoIXJ1bGVzW25hbWVdKSB7XG5cdFx0cnVsZXNbbmFtZV0gPSB0cnVlO1xuXHRcdHN0eWxlc2hlZXQuaW5zZXJ0UnVsZShgQGtleWZyYW1lcyAke25hbWV9ICR7cnVsZX1gLCBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG5cdH1cblx0Y29uc3QgYW5pbWF0aW9uID0gbm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJyc7XG5cdG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gYCR7XG5cdFx0YW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufSwgYCA6ICcnXG5cdH0ke25hbWV9ICR7ZHVyYXRpb259bXMgbGluZWFyICR7ZGVsYXl9bXMgMSBib3RoYDtcblx0YWN0aXZlICs9IDE7XG5cdHJldHVybiBuYW1lO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVfcnVsZShub2RlLCBuYW1lKSB7XG5cdGNvbnN0IHByZXZpb3VzID0gKG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnKS5zcGxpdCgnLCAnKTtcblx0Y29uc3QgbmV4dCA9IHByZXZpb3VzLmZpbHRlcihcblx0XHRuYW1lXG5cdFx0XHQ/IChhbmltKSA9PiBhbmltLmluZGV4T2YobmFtZSkgPCAwIC8vIHJlbW92ZSBzcGVjaWZpYyBhbmltYXRpb25cblx0XHRcdDogKGFuaW0pID0+IGFuaW0uaW5kZXhPZignX19zdmVsdGUnKSA9PT0gLTEgLy8gcmVtb3ZlIGFsbCBTdmVsdGUgYW5pbWF0aW9uc1xuXHQpO1xuXHRjb25zdCBkZWxldGVkID0gcHJldmlvdXMubGVuZ3RoIC0gbmV4dC5sZW5ndGg7XG5cdGlmIChkZWxldGVkKSB7XG5cdFx0bm9kZS5zdHlsZS5hbmltYXRpb24gPSBuZXh0LmpvaW4oJywgJyk7XG5cdFx0YWN0aXZlIC09IGRlbGV0ZWQ7XG5cdFx0aWYgKCFhY3RpdmUpIGNsZWFyX3J1bGVzKCk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyX3J1bGVzKCkge1xuXHRyYWYoKCkgPT4ge1xuXHRcdGlmIChhY3RpdmUpIHJldHVybjtcblx0XHRtYW5hZ2VkX3N0eWxlcy5mb3JFYWNoKChpbmZvKSA9PiB7XG5cdFx0XHRjb25zdCB7IG93bmVyTm9kZSB9ID0gaW5mby5zdHlsZXNoZWV0O1xuXHRcdFx0Ly8gdGhlcmUgaXMgbm8gb3duZXJOb2RlIGlmIGl0IHJ1bnMgb24ganNkb20uXG5cdFx0XHRpZiAob3duZXJOb2RlKSBkZXRhY2gob3duZXJOb2RlKTtcblx0XHR9KTtcblx0XHRtYW5hZ2VkX3N0eWxlcy5jbGVhcigpO1xuXHR9KTtcbn1cbiIsImltcG9ydCB7IGN1c3RvbV9ldmVudCB9IGZyb20gJy4vZG9tLmpzJztcblxuZXhwb3J0IGxldCBjdXJyZW50X2NvbXBvbmVudDtcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcblx0Y3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG5cdGlmICghY3VycmVudF9jb21wb25lbnQpIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gY2FsbGVkIG91dHNpZGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uJyk7XG5cdHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNiZWZvcmV1cGRhdGVcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYmVmb3JlX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBUaGUgYG9uTW91bnRgIGZ1bmN0aW9uIHNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBhcyBzb29uIGFzIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCB0byB0aGUgRE9NLlxuICogSXQgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBjb21wb25lbnQncyBpbml0aWFsaXNhdGlvbiAoYnV0IGRvZXNuJ3QgbmVlZCB0byBsaXZlICppbnNpZGUqIHRoZSBjb21wb25lbnQ7XG4gKiBpdCBjYW4gYmUgY2FsbGVkIGZyb20gYW4gZXh0ZXJuYWwgbW9kdWxlKS5cbiAqXG4gKiBJZiBhIGZ1bmN0aW9uIGlzIHJldHVybmVkIF9zeW5jaHJvbm91c2x5XyBmcm9tIGBvbk1vdW50YCwgaXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBgb25Nb3VudGAgZG9lcyBub3QgcnVuIGluc2lkZSBhIFtzZXJ2ZXItc2lkZSBjb21wb25lbnRdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXNlcnZlci1zaWRlLWNvbXBvbmVudC1hcGkpLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNvbm1vdW50XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLk5vdEZ1bmN0aW9uPFQ+IHwgUHJvbWlzZTxpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLk5vdEZ1bmN0aW9uPFQ+PiB8ICgoKSA9PiBhbnkpfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbk1vdW50KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHVwZGF0ZWQuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBhZnRlciB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYWZ0ZXJ1cGRhdGVcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBPdXQgb2YgYG9uTW91bnRgLCBgYmVmb3JlVXBkYXRlYCwgYGFmdGVyVXBkYXRlYCBhbmQgYG9uRGVzdHJveWAsIHRoaXMgaXMgdGhlXG4gKiBvbmx5IG9uZSB0aGF0IHJ1bnMgaW5zaWRlIGEgc2VydmVyLXNpZGUgY29tcG9uZW50LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNvbmRlc3Ryb3lcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fZGVzdHJveS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwYXRjaCBbY29tcG9uZW50IGV2ZW50c10oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjdGVtcGxhdGUtc3ludGF4LWNvbXBvbmVudC1kaXJlY3RpdmVzLW9uLWV2ZW50bmFtZSkuXG4gKiBFdmVudCBkaXNwYXRjaGVycyBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHRha2UgdHdvIGFyZ3VtZW50czogYG5hbWVgIGFuZCBgZGV0YWlsYC5cbiAqXG4gKiBDb21wb25lbnQgZXZlbnRzIGNyZWF0ZWQgd2l0aCBgY3JlYXRlRXZlbnREaXNwYXRjaGVyYCBjcmVhdGUgYVxuICogW0N1c3RvbUV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQpLlxuICogVGhlc2UgZXZlbnRzIGRvIG5vdCBbYnViYmxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0phdmFTY3JpcHQvQnVpbGRpbmdfYmxvY2tzL0V2ZW50cyNFdmVudF9idWJibGluZ19hbmRfY2FwdHVyZSkuXG4gKiBUaGUgYGRldGFpbGAgYXJndW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIFtDdXN0b21FdmVudC5kZXRhaWxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9kZXRhaWwpXG4gKiBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYW55IHR5cGUgb2YgZGF0YS5cbiAqXG4gKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBjYW4gYmUgdHlwZWQgdG8gbmFycm93IHRoZSBhbGxvd2VkIGV2ZW50IG5hbWVzIGFuZCB0aGUgdHlwZSBvZiB0aGUgYGRldGFpbGAgYXJndW1lbnQ6XG4gKiBgYGB0c1xuICogY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXI8e1xuICogIGxvYWRlZDogbmV2ZXI7IC8vIGRvZXMgbm90IHRha2UgYSBkZXRhaWwgYXJndW1lbnRcbiAqICBjaGFuZ2U6IHN0cmluZzsgLy8gdGFrZXMgYSBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBzdHJpbmcsIHdoaWNoIGlzIHJlcXVpcmVkXG4gKiAgb3B0aW9uYWw6IG51bWJlciB8IG51bGw7IC8vIHRha2VzIGFuIG9wdGlvbmFsIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIG51bWJlclxuICogfT4oKTtcbiAqIGBgYFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNjcmVhdGVldmVudGRpc3BhdGNoZXJcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50TWFwPWFueV1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuRXZlbnREaXNwYXRjaGVyPEV2ZW50TWFwPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcblx0Y29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG5cdHJldHVybiAodHlwZSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pID0+IHtcblx0XHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuXHRcdGlmIChjYWxsYmFja3MpIHtcblx0XHRcdC8vIFRPRE8gYXJlIHRoZXJlIHNpdHVhdGlvbnMgd2hlcmUgZXZlbnRzIGNvdWxkIGJlIGRpc3BhdGNoZWRcblx0XHRcdC8vIGluIGEgc2VydmVyIChub24tRE9NKSBlbnZpcm9ubWVudD9cblx0XHRcdGNvbnN0IGV2ZW50ID0gY3VzdG9tX2V2ZW50KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGRldGFpbCwgeyBjYW5jZWxhYmxlIH0pO1xuXHRcdFx0Y2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaCgoZm4pID0+IHtcblx0XHRcdFx0Zm4uY2FsbChjb21wb25lbnQsIGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcbn1cblxuLyoqXG4gKiBBc3NvY2lhdGVzIGFuIGFyYml0cmFyeSBgY29udGV4dGAgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgY29tcG9uZW50IGFuZCB0aGUgc3BlY2lmaWVkIGBrZXlgXG4gKiBhbmQgcmV0dXJucyB0aGF0IG9iamVjdC4gVGhlIGNvbnRleHQgaXMgdGhlbiBhdmFpbGFibGUgdG8gY2hpbGRyZW4gb2YgdGhlIGNvbXBvbmVudFxuICogKGluY2x1ZGluZyBzbG90dGVkIGNvbnRlbnQpIHdpdGggYGdldENvbnRleHRgLlxuICpcbiAqIExpa2UgbGlmZWN5Y2xlIGZ1bmN0aW9ucywgdGhpcyBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNzZXRjb250ZXh0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHBhcmFtIHtUfSBjb250ZXh0XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG5cdHJldHVybiBjb250ZXh0O1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29udGV4dCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYGtleWAuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNnZXRjb250ZXh0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHdob2xlIGNvbnRleHQgbWFwIHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi4gVXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgeW91XG4gKiBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIGNvbXBvbmVudCBhbmQgd2FudCB0byBwYXNzIHRoZSBleGlzdGluZyBjb250ZXh0IHRvIGl0LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNnZXRhbGxjb250ZXh0c1xuICogQHRlbXBsYXRlIHtNYXA8YW55LCBhbnk+fSBbVD1NYXA8YW55LCBhbnk+XVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjaGFzY29udGV4dFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNDb250ZXh0KGtleSkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cblxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbi8qKlxuICogQHBhcmFtIGNvbXBvbmVudFxuICogQHBhcmFtIGV2ZW50XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG5cdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG5cdGlmIChjYWxsYmFja3MpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaCgoZm4pID0+IGZuLmNhbGwodGhpcywgZXZlbnQpKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcblxuZXhwb3J0IGNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmV4cG9ydCBjb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5leHBvcnQgY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcblxubGV0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgZmx1c2hfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG5cdGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuXHRcdHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuXHRcdHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpY2soKSB7XG5cdHNjaGVkdWxlX3VwZGF0ZSgpO1xuXHRyZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcblx0cmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuXHRmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8vIGZsdXNoKCkgY2FsbHMgY2FsbGJhY2tzIGluIHRoaXMgb3JkZXI6XG4vLyAxLiBBbGwgYmVmb3JlVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuXG4vLyAyLiBBbGwgYmluZDp0aGlzIGNhbGxiYWNrcywgaW4gcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyAzLiBBbGwgYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW4uIEVYQ0VQVFxuLy8gICAgZm9yIGFmdGVyVXBkYXRlcyBjYWxsZWQgZHVyaW5nIHRoZSBpbml0aWFsIG9uTW91bnQsIHdoaWNoIGFyZSBjYWxsZWQgaW5cbi8vICAgIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gU2luY2UgY2FsbGJhY2tzIG1pZ2h0IHVwZGF0ZSBjb21wb25lbnQgdmFsdWVzLCB3aGljaCBjb3VsZCB0cmlnZ2VyIGFub3RoZXJcbi8vIGNhbGwgdG8gZmx1c2goKSwgdGhlIGZvbGxvd2luZyBzdGVwcyBndWFyZCBhZ2FpbnN0IHRoaXM6XG4vLyAxLiBEdXJpbmcgYmVmb3JlVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyAgICBkaXJ0eV9jb21wb25lbnRzIGFycmF5IGFuZCB3aWxsIGNhdXNlIGEgcmVlbnRyYW50IGNhbGwgdG8gZmx1c2goKS4gQmVjYXVzZVxuLy8gICAgdGhlIGZsdXNoIGluZGV4IGlzIGtlcHQgb3V0c2lkZSB0aGUgZnVuY3Rpb24sIHRoZSByZWVudHJhbnQgY2FsbCB3aWxsIHBpY2tcbi8vICAgIHVwIHdoZXJlIHRoZSBlYXJsaWVyIGNhbGwgbGVmdCBvZmYgYW5kIGdvIHRocm91Z2ggYWxsIGRpcnR5IGNvbXBvbmVudHMuIFRoZVxuLy8gICAgY3VycmVudF9jb21wb25lbnQgdmFsdWUgaXMgc2F2ZWQgYW5kIHJlc3RvcmVkIHNvIHRoYXQgdGhlIHJlZW50cmFudCBjYWxsIHdpbGxcbi8vICAgIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgXCJwYXJlbnRcIiBmbHVzaCgpIGNhbGwuXG4vLyAyLiBiaW5kOnRoaXMgY2FsbGJhY2tzIGNhbm5vdCB0cmlnZ2VyIG5ldyBmbHVzaCgpIGNhbGxzLlxuLy8gMy4gRHVyaW5nIGFmdGVyVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgTk9UIGhhdmUgdGhlaXIgYWZ0ZXJVcGRhdGVcbi8vICAgIGNhbGxiYWNrIGNhbGxlZCBhIHNlY29uZCB0aW1lOyB0aGUgc2Vlbl9jYWxsYmFja3Mgc2V0LCBvdXRzaWRlIHRoZSBmbHVzaCgpXG4vLyAgICBmdW5jdGlvbiwgZ3VhcmFudGVlcyB0aGlzIGJlaGF2aW9yLlxuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5cbmxldCBmbHVzaGlkeCA9IDA7IC8vIERvICpub3QqIG1vdmUgdGhpcyBpbnNpZGUgdGhlIGZsdXNoKCkgZnVuY3Rpb25cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQvLyBEbyBub3QgcmVlbnRlciBmbHVzaCB3aGlsZSBkaXJ0eSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBhcyB0aGlzIGNhblxuXHQvLyByZXN1bHQgaW4gYW4gaW5maW5pdGUgbG9vcC4gSW5zdGVhZCwgbGV0IHRoZSBpbm5lciBmbHVzaCBoYW5kbGUgaXQuXG5cdC8vIFJlZW50cmFuY3kgaXMgb2sgYWZ0ZXJ3YXJkcyBmb3IgYmluZGluZ3MgZXRjLlxuXHRpZiAoZmx1c2hpZHggIT09IDApIHtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uc3Qgc2F2ZWRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdGRvIHtcblx0XHQvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG5cdFx0Ly8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG5cdFx0dHJ5IHtcblx0XHRcdHdoaWxlIChmbHVzaGlkeCA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuXHRcdFx0XHRmbHVzaGlkeCsrO1xuXHRcdFx0XHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0XHRcdFx0dXBkYXRlKGNvbXBvbmVudC4kJCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly8gcmVzZXQgZGlydHkgc3RhdGUgdG8gbm90IGVuZCB1cCBpbiBhIGRlYWRsb2NrZWQgc3RhdGUgYW5kIHRoZW4gcmV0aHJvd1xuXHRcdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdFx0Zmx1c2hpZHggPSAwO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuXHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0d2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aCkgYmluZGluZ19jYWxsYmFja3MucG9wKCkoKTtcblx0XHQvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcblx0XHQvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG5cdFx0Ly8gc3Vic2VxdWVudCB1cGRhdGVzLi4uXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG5cdFx0XHRpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcblx0XHRcdFx0Ly8gLi4uc28gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBsb29wc1xuXHRcdFx0XHRzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZW5kZXJfY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG5cdH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcblx0d2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcblx0fVxuXHR1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cdHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChzYXZlZF9jb21wb25lbnQpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcblx0aWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0JCQudXBkYXRlKCk7XG5cdFx0cnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcblx0XHRjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuXHRcdCQkLmRpcnR5ID0gWy0xXTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuXHRcdCQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuXHR9XG59XG5cbi8qKlxuICogVXNlZnVsIGZvciBleGFtcGxlIHRvIGV4ZWN1dGUgcmVtYWluaW5nIGBhZnRlclVwZGF0ZWAgY2FsbGJhY2tzIGJlZm9yZSBleGVjdXRpbmcgYGRlc3Ryb3lgLlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyhmbnMpIHtcblx0Y29uc3QgZmlsdGVyZWQgPSBbXTtcblx0Y29uc3QgdGFyZ2V0cyA9IFtdO1xuXHRyZW5kZXJfY2FsbGJhY2tzLmZvckVhY2goKGMpID0+IChmbnMuaW5kZXhPZihjKSA9PT0gLTEgPyBmaWx0ZXJlZC5wdXNoKGMpIDogdGFyZ2V0cy5wdXNoKGMpKSk7XG5cdHRhcmdldHMuZm9yRWFjaCgoYykgPT4gYygpKTtcblx0cmVuZGVyX2NhbGxiYWNrcyA9IGZpbHRlcmVkO1xufVxuIiwiaW1wb3J0IHsgaWRlbnRpdHkgYXMgbGluZWFyLCBpc19mdW5jdGlvbiwgbm9vcCwgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgbm93IH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyBsb29wIH0gZnJvbSAnLi9sb29wLmpzJztcbmltcG9ydCB7IGNyZWF0ZV9ydWxlLCBkZWxldGVfcnVsZSB9IGZyb20gJy4vc3R5bGVfbWFuYWdlci5qcyc7XG5pbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBhZGRfcmVuZGVyX2NhbGxiYWNrIH0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtQcm9taXNlPHZvaWQ+IHwgbnVsbH1cbiAqL1xubGV0IHByb21pc2U7XG5cbi8qKlxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmZ1bmN0aW9uIHdhaXQoKSB7XG5cdGlmICghcHJvbWlzZSkge1xuXHRcdHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRwcm9taXNlLnRoZW4oKCkgPT4ge1xuXHRcdFx0cHJvbWlzZSA9IG51bGw7XG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIHByb21pc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0lOVFJPIHwgT1VUUk8gfCBib29sZWFufSBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7J3N0YXJ0JyB8ICdlbmQnfSBraW5kXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG5cdG5vZGUuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQoYCR7ZGlyZWN0aW9uID8gJ2ludHJvJyA6ICdvdXRybyd9JHtraW5kfWApKTtcbn1cblxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHR5cGUge091dHJvfVxuICovXG5sZXQgb3V0cm9zO1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwX291dHJvcygpIHtcblx0b3V0cm9zID0ge1xuXHRcdHI6IDAsXG5cdFx0YzogW10sXG5cdFx0cDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrX291dHJvcygpIHtcblx0aWYgKCFvdXRyb3Mucikge1xuXHRcdHJ1bl9hbGwob3V0cm9zLmMpO1xuXHR9XG5cdG91dHJvcyA9IG91dHJvcy5wO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IFtsb2NhbF1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcblx0aWYgKGJsb2NrICYmIGJsb2NrLmkpIHtcblx0XHRvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuXHRcdGJsb2NrLmkobG9jYWwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkZyYWdtZW50fSBibG9ja1xuICogQHBhcmFtIHswIHwgMX0gbG9jYWxcbiAqIEBwYXJhbSB7MCB8IDF9IFtkZXRhY2hdXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja11cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpdGlvbl9vdXQoYmxvY2ssIGxvY2FsLCBkZXRhY2gsIGNhbGxiYWNrKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5vKSB7XG5cdFx0aWYgKG91dHJvaW5nLmhhcyhibG9jaykpIHJldHVybjtcblx0XHRvdXRyb2luZy5hZGQoYmxvY2spO1xuXHRcdG91dHJvcy5jLnB1c2goKCkgPT4ge1xuXHRcdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRpZiAoZGV0YWNoKSBibG9jay5kKDEpO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGJsb2NrLm8obG9jYWwpO1xuXHR9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG5cdFx0Y2FsbGJhY2soKTtcblx0fVxufVxuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7eyBzdGFydCgpOiB2b2lkOyBpbnZhbGlkYXRlKCk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdpbicgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gZmFsc2U7XG5cdGxldCBhbmltYXRpb25fbmFtZTtcblx0bGV0IHRhc2s7XG5cdGxldCB1aWQgPSAwO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gZ28oKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuXHRcdHRpY2soMCwgMSk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG5cdFx0Y29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG5cdFx0aWYgKHRhc2spIHRhc2suYWJvcnQoKTtcblx0XHRydW5uaW5nID0gdHJ1ZTtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIHRydWUsICdzdGFydCcpKTtcblx0XHR0YXNrID0gbG9vcCgobm93KSA9PiB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAobm93ID49IGVuZF90aW1lKSB7XG5cdFx0XHRcdFx0dGljaygxLCAwKTtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCB0cnVlLCAnZW5kJyk7XG5cdFx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRcdHJldHVybiAocnVubmluZyA9IGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcblx0XHRcdFx0XHR0aWNrKHQsIDEgLSB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJ1bm5pbmc7XG5cdFx0fSk7XG5cdH1cblx0bGV0IHN0YXJ0ZWQgPSBmYWxzZTtcblx0cmV0dXJuIHtcblx0XHRzdGFydCgpIHtcblx0XHRcdGlmIChzdGFydGVkKSByZXR1cm47XG5cdFx0XHRzdGFydGVkID0gdHJ1ZTtcblx0XHRcdGRlbGV0ZV9ydWxlKG5vZGUpO1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0XHR3YWl0KCkudGhlbihnbyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aW52YWxpZGF0ZSgpIHtcblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgZW5kKHJlc2V0OiBhbnkpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX291dF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnb3V0JyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHJ1bm5pbmcgPSB0cnVlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGNvbnN0IGdyb3VwID0gb3V0cm9zO1xuXHRncm91cC5yICs9IDE7XG5cdC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblx0bGV0IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gZ28oKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXG5cdFx0aWYgKGNzcykgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcblxuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdG9yaWdpbmFsX2luZXJ0X3ZhbHVlID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLmluZXJ0O1xuXHRcdFx0bm9kZS5pbmVydCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0bG9vcCgobm93KSA9PiB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAobm93ID49IGVuZF90aW1lKSB7XG5cdFx0XHRcdFx0dGljaygwLCAxKTtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGlmICghLS1ncm91cC5yKSB7XG5cdFx0XHRcdFx0XHQvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuXHRcdFx0XHRcdFx0Ly8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG5cdFx0XHRcdFx0XHRydW5fYWxsKGdyb3VwLmMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljaygxIC0gdCwgdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG5cdFx0XHRnbygpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGdvKCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGVuZChyZXNldCkge1xuXHRcdFx0aWYgKHJlc2V0ICYmICdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0XHRub2RlLmluZXJ0ID0gb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcblx0XHRcdFx0Y29uZmlnLnRpY2soMSwgMCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0XHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHBhcmFtIHtib29sZWFufSBpbnRyb1xuICogQHJldHVybnMge3sgcnVuKGI6IDAgfCAxKTogdm9pZDsgZW5kKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMsIGludHJvKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2JvdGgnIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgdCA9IGludHJvID8gMCA6IDE7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtQcm9ncmFtIHwgbnVsbH0gKi9cblx0bGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblx0bGV0IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gY2xlYXJfYW5pbWF0aW9uKCkge1xuXHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGVuZGluZ1Byb2dyYW19IHByb2dyYW1cblx0ICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG5cdCAqIEByZXR1cm5zIHtQcm9ncmFtfVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuXHRcdGNvbnN0IGQgPSAvKiogQHR5cGUge1Byb2dyYW1bJ2QnXX0gKi8gKHByb2dyYW0uYiAtIHQpO1xuXHRcdGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRhOiB0LFxuXHRcdFx0YjogcHJvZ3JhbS5iLFxuXHRcdFx0ZCxcblx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0c3RhcnQ6IHByb2dyYW0uc3RhcnQsXG5cdFx0XHRlbmQ6IHByb2dyYW0uc3RhcnQgKyBkdXJhdGlvbixcblx0XHRcdGdyb3VwOiBwcm9ncmFtLmdyb3VwXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0lOVFJPIHwgT1VUUk99IGJcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBnbyhiKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXG5cdFx0LyoqXG5cdFx0ICogQHR5cGUge1BlbmRpbmdQcm9ncmFtfSAqL1xuXHRcdGNvbnN0IHByb2dyYW0gPSB7XG5cdFx0XHRzdGFydDogbm93KCkgKyBkZWxheSxcblx0XHRcdGJcblx0XHR9O1xuXG5cdFx0aWYgKCFiKSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuXHRcdFx0cHJvZ3JhbS5ncm91cCA9IG91dHJvcztcblx0XHRcdG91dHJvcy5yICs9IDE7XG5cdFx0fVxuXG5cdFx0aWYgKCdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0aWYgKGIpIHtcblx0XHRcdFx0aWYgKG9yaWdpbmFsX2luZXJ0X3ZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBhYm9ydGVkL3JldmVyc2VkIG91dHJvIOKAlCByZXN0b3JlIHByZXZpb3VzIGluZXJ0IHZhbHVlXG5cdFx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdFx0bm9kZS5pbmVydCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGlmIHRoaXMgaXMgYW4gaW50cm8sIGFuZCB0aGVyZSdzIGEgZGVsYXksIHdlIG5lZWQgdG8gZG9cblx0XHRcdC8vIGFuIGluaXRpYWwgdGljayBhbmQvb3IgYXBwbHkgQ1NTIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuXHRcdFx0aWYgKGNzcykge1xuXHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcblx0XHRcdH1cblx0XHRcdGlmIChiKSB0aWNrKDAsIDEpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gaW5pdChwcm9ncmFtLCBkdXJhdGlvbik7XG5cdFx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGIsICdzdGFydCcpKTtcblx0XHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0XHRpZiAocGVuZGluZ19wcm9ncmFtICYmIG5vdyA+IHBlbmRpbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG5cdFx0XHRcdFx0cGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ3N0YXJ0Jyk7XG5cdFx0XHRcdFx0aWYgKGNzcykge1xuXHRcdFx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdFx0XHRhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKFxuXHRcdFx0XHRcdFx0XHRub2RlLFxuXHRcdFx0XHRcdFx0XHR0LFxuXHRcdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0uYixcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmR1cmF0aW9uLFxuXHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRlYXNpbmcsXG5cdFx0XHRcdFx0XHRcdGNvbmZpZy5jc3Ncblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChydW5uaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcblx0XHRcdFx0XHRcdHRpY2soKHQgPSBydW5uaW5nX3Byb2dyYW0uYiksIDEgLSB0KTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG5cdFx0XHRcdFx0XHRpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuXHRcdFx0XHRcdFx0XHQvLyB3ZSdyZSBkb25lXG5cdFx0XHRcdFx0XHRcdGlmIChydW5uaW5nX3Byb2dyYW0uYikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGludHJvIOKAlCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuXHRcdFx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdC8vIG91dHJvIOKAlCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuXHRcdFx0XHRcdFx0XHRcdGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucikgcnVuX2FsbChydW5uaW5nX3Byb2dyYW0uZ3JvdXAuYyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLnN0YXJ0KSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwID0gbm93IC0gcnVubmluZ19wcm9ncmFtLnN0YXJ0O1xuXHRcdFx0XHRcdFx0dCA9IHJ1bm5pbmdfcHJvZ3JhbS5hICsgcnVubmluZ19wcm9ncmFtLmQgKiBlYXNpbmcocCAvIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbik7XG5cdFx0XHRcdFx0XHR0aWNrKHQsIDEgLSB0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0cnVuKGIpIHtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdHdhaXQoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBvcHRzID0geyBkaXJlY3Rpb246IGIgPyAnaW4nIDogJ291dCcgfTtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdHMpO1xuXHRcdFx0XHRcdGdvKGIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdvKGIpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZW5kKCkge1xuXHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqIEB0eXBlZGVmIHsxfSBJTlRSTyAqL1xuLyoqIEB0eXBlZGVmIHswfSBPVVRSTyAqL1xuLyoqIEB0eXBlZGVmIHt7IGRpcmVjdGlvbjogJ2luJyB8ICdvdXQnIHwgJ2JvdGgnIH19IFRyYW5zaXRpb25PcHRpb25zICovXG4vKiogQHR5cGVkZWYgeyhub2RlOiBFbGVtZW50LCBwYXJhbXM6IGFueSwgb3B0aW9uczogVHJhbnNpdGlvbk9wdGlvbnMpID0+IGltcG9ydCgnLi4vdHJhbnNpdGlvbi9wdWJsaWMuanMnKS5UcmFuc2l0aW9uQ29uZmlnfSBUcmFuc2l0aW9uRm4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPdXRyb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb25bXX0gY1xuICogQHByb3BlcnR5IHtPYmplY3R9IHBcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBlbmRpbmdQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7SU5UUk98T1VUUk99IGJcbiAqIEBwcm9wZXJ0eSB7T3V0cm99IFtncm91cF1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFByb2dyYW1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhXG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkgezF8LTF9IGRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge251bWJlcn0gZW5kXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cbiIsImltcG9ydCB7IHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0IH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5pbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbi8vIGdlbmVyYWwgZWFjaCBmdW5jdGlvbnM6XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVfYXJyYXlfbGlrZShhcnJheV9saWtlX29yX2l0ZXJhdG9yKSB7XG5cdHJldHVybiBhcnJheV9saWtlX29yX2l0ZXJhdG9yPy5sZW5ndGggIT09IHVuZGVmaW5lZFxuXHRcdD8gYXJyYXlfbGlrZV9vcl9pdGVyYXRvclxuXHRcdDogQXJyYXkuZnJvbShhcnJheV9saWtlX29yX2l0ZXJhdG9yKTtcbn1cblxuLy8ga2V5ZWQgZWFjaCBmdW5jdGlvbnM6XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZCgxKTtcblx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHR0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcblx0fSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChcblx0b2xkX2Jsb2Nrcyxcblx0ZGlydHksXG5cdGdldF9rZXksXG5cdGR5bmFtaWMsXG5cdGN0eCxcblx0bGlzdCxcblx0bG9va3VwLFxuXHRub2RlLFxuXHRkZXN0cm95LFxuXHRjcmVhdGVfZWFjaF9ibG9jayxcblx0bmV4dCxcblx0Z2V0X2NvbnRleHRcbikge1xuXHRsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuXHRsZXQgbiA9IGxpc3QubGVuZ3RoO1xuXHRsZXQgaSA9IG87XG5cdGNvbnN0IG9sZF9pbmRleGVzID0ge307XG5cdHdoaWxlIChpLS0pIG9sZF9pbmRleGVzW29sZF9ibG9ja3NbaV0ua2V5XSA9IGk7XG5cdGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcblx0Y29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcblx0Y29uc3QgZGVsdGFzID0gbmV3IE1hcCgpO1xuXHRjb25zdCB1cGRhdGVzID0gW107XG5cdGkgPSBuO1xuXHR3aGlsZSAoaS0tKSB7XG5cdFx0Y29uc3QgY2hpbGRfY3R4ID0gZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKTtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG5cdFx0bGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuXHRcdGlmICghYmxvY2spIHtcblx0XHRcdGJsb2NrID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpO1xuXHRcdFx0YmxvY2suYygpO1xuXHRcdH0gZWxzZSBpZiAoZHluYW1pYykge1xuXHRcdFx0Ly8gZGVmZXIgdXBkYXRlcyB1bnRpbCBhbGwgdGhlIERPTSBzaHVmZmxpbmcgaXMgZG9uZVxuXHRcdFx0dXBkYXRlcy5wdXNoKCgpID0+IGJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSkpO1xuXHRcdH1cblx0XHRuZXdfbG9va3VwLnNldChrZXksIChuZXdfYmxvY2tzW2ldID0gYmxvY2spKTtcblx0XHRpZiAoa2V5IGluIG9sZF9pbmRleGVzKSBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcblx0fVxuXHRjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG5cdGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuXHRcdHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuXHRcdGJsb2NrLm0obm9kZSwgbmV4dCk7XG5cdFx0bG9va3VwLnNldChibG9jay5rZXksIGJsb2NrKTtcblx0XHRuZXh0ID0gYmxvY2suZmlyc3Q7XG5cdFx0bi0tO1xuXHR9XG5cdHdoaWxlIChvICYmIG4pIHtcblx0XHRjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW28gLSAxXTtcblx0XHRjb25zdCBuZXdfa2V5ID0gbmV3X2Jsb2NrLmtleTtcblx0XHRjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcblx0XHRpZiAobmV3X2Jsb2NrID09PSBvbGRfYmxvY2spIHtcblx0XHRcdC8vIGRvIG5vdGhpbmdcblx0XHRcdG5leHQgPSBuZXdfYmxvY2suZmlyc3Q7XG5cdFx0XHRvLS07XG5cdFx0XHRuLS07XG5cdFx0fSBlbHNlIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2tleSkpIHtcblx0XHRcdC8vIHJlbW92ZSBvbGQgYmxvY2tcblx0XHRcdGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIGlmIChkaWRfbW92ZS5oYXMob2xkX2tleSkpIHtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKGRlbHRhcy5nZXQobmV3X2tleSkgPiBkZWx0YXMuZ2V0KG9sZF9rZXkpKSB7XG5cdFx0XHRkaWRfbW92ZS5hZGQobmV3X2tleSk7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcblx0XHRcdG8tLTtcblx0XHR9XG5cdH1cblx0d2hpbGUgKG8tLSkge1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG5cdFx0aWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfYmxvY2sua2V5KSkgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdH1cblx0d2hpbGUgKG4pIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG5cdHJ1bl9hbGwodXBkYXRlcyk7XG5cdHJldHVybiBuZXdfYmxvY2tzO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9rZXlzKGN0eCwgbGlzdCwgZ2V0X2NvbnRleHQsIGdldF9rZXkpIHtcblx0Y29uc3Qga2V5cyA9IG5ldyBNYXAoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpKTtcblx0XHRpZiAoa2V5cy5oYXMoa2V5KSkge1xuXHRcdFx0bGV0IHZhbHVlID0gJyc7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YWx1ZSA9IGB3aXRoIHZhbHVlICcke1N0cmluZyhrZXkpfScgYDtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gY2FuJ3Qgc3RyaW5naWZ5XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBDYW5ub3QgaGF2ZSBkdXBsaWNhdGUga2V5cyBpbiBhIGtleWVkIGVhY2g6IEtleXMgYXQgaW5kZXggJHtrZXlzLmdldChcblx0XHRcdFx0XHRrZXlcblx0XHRcdFx0KX0gYW5kICR7aX0gJHt2YWx1ZX1hcmUgZHVwbGljYXRlc2Bcblx0XHRcdCk7XG5cdFx0fVxuXHRcdGtleXMuc2V0KGtleSwgaSk7XG5cdH1cbn1cbiIsImltcG9ydCB7XG5cdGFkZF9yZW5kZXJfY2FsbGJhY2ssXG5cdGZsdXNoLFxuXHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLFxuXHRzY2hlZHVsZV91cGRhdGUsXG5cdGRpcnR5X2NvbXBvbmVudHNcbn0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGJsYW5rX29iamVjdCwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBydW4sIHJ1bl9hbGwsIG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGNoaWxkcmVuLFxuXHRkZXRhY2gsXG5cdHN0YXJ0X2h5ZHJhdGluZyxcblx0ZW5kX2h5ZHJhdGluZyxcblx0Z2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyxcblx0aW5zZXJ0LFxuXHRlbGVtZW50LFxuXHRhdHRyXG59IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IHRyYW5zaXRpb25faW4gfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuXHRjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcblx0aWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG5cdGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG5cdGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG5cdGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuXHRmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcblx0Ly8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuXHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuXHRcdC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuXHRcdC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cblx0XHQvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG5cdFx0aWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG5cdFx0XHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG5cdFx0XHQvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG5cdFx0XHRydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcblx0XHR9XG5cdFx0Y29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG5cdH0pO1xuXHRhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG5cdGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG5cdFx0cnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG5cdFx0Ly8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuXHRcdC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcblx0XHQkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuXHRcdCQkLmN0eCA9IFtdO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG5cdGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdFx0Y29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG5cdH1cblx0Y29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gMSA8PCBpICUgMzE7XG59XG5cbi8vIFRPRE86IERvY3VtZW50IHRoZSBvdGhlciBwYXJhbXNcbi8qKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdXRpbHMuanMnKVsnbm90X2VxdWFsJ119IG5vdF9lcXVhbCBVc2VkIHRvIGNvbXBhcmUgcHJvcHMgYW5kIHN0YXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7KHRhcmdldDogRWxlbWVudCB8IFNoYWRvd1Jvb3QpID0+IHZvaWR9IFthcHBlbmRfc3R5bGVzXSBGdW5jdGlvbiB0aGF0IGFwcGVuZHMgc3R5bGVzIHRvIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGluaXRpYWxpc2VkLlxuICogVGhpcyB3aWxsIGJlIHRoZSBgYWRkX2Nzc2AgZnVuY3Rpb24gZnJvbSB0aGUgY29tcGlsZWQgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzID0gbnVsbCxcblx0ZGlydHkgPSBbLTFdXG4pIHtcblx0Y29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlQkJH0gKi9cblx0Y29uc3QgJCQgPSAoY29tcG9uZW50LiQkID0ge1xuXHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdGN0eDogW10sXG5cdFx0Ly8gc3RhdGVcblx0XHRwcm9wcyxcblx0XHR1cGRhdGU6IG5vb3AsXG5cdFx0bm90X2VxdWFsLFxuXHRcdGJvdW5kOiBibGFua19vYmplY3QoKSxcblx0XHQvLyBsaWZlY3ljbGVcblx0XHRvbl9tb3VudDogW10sXG5cdFx0b25fZGVzdHJveTogW10sXG5cdFx0b25fZGlzY29ubmVjdDogW10sXG5cdFx0YmVmb3JlX3VwZGF0ZTogW10sXG5cdFx0YWZ0ZXJfdXBkYXRlOiBbXSxcblx0XHRjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlXG5cdFx0Y2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcblx0XHRkaXJ0eSxcblx0XHRza2lwX2JvdW5kOiBmYWxzZSxcblx0XHRyb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3Rcblx0fSk7XG5cdGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdCQkLmN0eCA9IGluc3RhbmNlXG5cdFx0PyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG5cdFx0XHRcdGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgKCQkLmN0eFtpXSA9IHZhbHVlKSkpIHtcblx0XHRcdFx0XHRpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pICQkLmJvdW5kW2ldKHZhbHVlKTtcblx0XHRcdFx0XHRpZiAocmVhZHkpIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdCAgfSlcblx0XHQ6IFtdO1xuXHQkJC51cGRhdGUoKTtcblx0cmVhZHkgPSB0cnVlO1xuXHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHQvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcblx0JCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuXHRpZiAob3B0aW9ucy50YXJnZXQpIHtcblx0XHRpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG5cdFx0XHRzdGFydF9oeWRyYXRpbmcoKTtcblx0XHRcdC8vIFRPRE86IHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBoZXJlP1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcblx0XHRcdG5vZGVzLmZvckVhY2goZGV0YWNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW50cm8pIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcblx0XHRtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuXHRcdGVuZF9oeWRyYXRpbmcoKTtcblx0XHRmbHVzaCgpO1xuXHR9XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGxldCBTdmVsdGVFbGVtZW50O1xuXG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3IgKi9cblx0XHQkJGN0b3I7XG5cdFx0LyoqIFNsb3RzICovXG5cdFx0JCRzO1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBpbnN0YW5jZSAqL1xuXHRcdCQkYztcblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGNvbm5lY3RlZCAqL1xuXHRcdCQkY24gPSBmYWxzZTtcblx0XHQvKiogQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10+fSBFdmVudCBsaXN0ZW5lcnMgKi9cblx0XHQkJGwgPSB7fTtcblx0XHQvKiogQHR5cGUge01hcDxGdW5jdGlvbiwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblxuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHQvLyBXZSBjYW4ndCBkZXRlcm1pbmUgdXBmcm9udCBpZiB0aGUgZXZlbnQgaXMgYSBjdXN0b20gZXZlbnQgb3Igbm90LCBzbyB3ZSBoYXZlIHRvXG5cdFx0XHQvLyBsaXN0ZW4gdG8gYm90aC4gSWYgc29tZW9uZSB1c2VzIGEgY3VzdG9tIGV2ZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhIHJlZ3VsYXJcblx0XHRcdC8vIGJyb3dzZXIgZXZlbnQsIHRoaXMgZmlyZXMgdHdpY2UgLSB3ZSBjYW4ndCBhdm9pZCB0aGF0LlxuXHRcdFx0dGhpcy4kJGxbdHlwZV0gPSB0aGlzLiQkbFt0eXBlXSB8fCBbXTtcblx0XHRcdHRoaXMuJCRsW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdH1cblx0XHRcdHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuIHx8IHRoaXMuJCRjKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdFx0XHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF0dHIobm9kZSwgJ25hbWUnLCBuYW1lKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2FuY2hvcl1cblx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXRhY2gobm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0JCRzbG90c1tuYW1lXSA9IFtjcmVhdGVfc2xvdChuYW1lKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBQb3J0IG92ZXIgcHJvcHMgdGhhdCB3ZXJlIHNldCBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSBjZSB3YXMgaW5pdGlhbGl6ZWRcblx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdGlmICghKGtleSBpbiB0aGlzLiQkZCkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0gPSB0aGlzW2tleV07IC8vIGRvbid0IHRyYW5zZm9ybSwgdGhlc2Ugd2VyZSBzZXQgdGhyb3VnaCBKYXZhU2NyaXB0XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpc1trZXldOyAvLyByZW1vdmUgdGhlIHByb3BlcnR5IHRoYXQgc2hhZG93cyB0aGUgZ2V0dGVyL3NldHRlclxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IG5ldyB0aGlzLiQkY3Rvcih7XG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnNoYWRvd1Jvb3QgfHwgdGhpcyxcblx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0Li4udGhpcy4kJGQsXG5cdFx0XHRcdFx0XHQkJHNsb3RzLFxuXHRcdFx0XHRcdFx0JCRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRjdHg6IFtdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZWZsZWN0IGNvbXBvbmVudCBwcm9wcyBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdGNvbnN0IHJlZmxlY3RfYXR0cmlidXRlcyA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjLiQkLmN0eFt0aGlzLiQkYy4kJC5wcm9wc1trZXldXTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLiQkcF9kW2tleV0ucmVmbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0sXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJHBfZCxcblx0XHRcdFx0XHRcdFx0XHQndG9BdHRyaWJ1dGUnXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVfdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSwgYXR0cmlidXRlX3ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLiQkYy4kJC5hZnRlcl91cGRhdGUucHVzaChyZWZsZWN0X2F0dHJpYnV0ZXMpO1xuXHRcdFx0XHRyZWZsZWN0X2F0dHJpYnV0ZXMoKTsgLy8gb25jZSBpbml0aWFsbHkgYmVjYXVzZSBhZnRlcl91cGRhdGUgaXMgYWRkZWQgdG9vIGxhdGUgZm9yIGZpcnN0IHJlbmRlclxuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24gJiYgdGhpcy4kJGMpIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0T2JqZWN0LmtleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50VHlwZX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2Nlc3NvcnMgIE90aGVyIGFjY2Vzc29ycyBiZXNpZGVzIHRoZSBvbmVzIGZvciBwcm9wcyB0aGUgY29tcG9uZW50IGhhc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRhY2Nlc3NvcnMsXG5cdHVzZV9zaGFkb3dfZG9tLFxuXHRleHRlbmRcbikge1xuXHRsZXQgQ2xhc3MgPSBjbGFzcyBleHRlbmRzIFN2ZWx0ZUVsZW1lbnQge1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0c3VwZXIoQ29tcG9uZW50LCBzbG90cywgdXNlX3NoYWRvd19kb20pO1xuXHRcdFx0dGhpcy4kJHBfZCA9IHByb3BzX2RlZmluaXRpb247XG5cdFx0fVxuXHRcdHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLm1hcCgoa2V5KSA9PlxuXHRcdFx0XHQocHJvcHNfZGVmaW5pdGlvbltrZXldLmF0dHJpYnV0ZSB8fCBrZXkpLnRvTG93ZXJDYXNlKClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5mb3JFYWNoKChwcm9wKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGMgJiYgcHJvcCBpbiB0aGlzLiQkYyA/IHRoaXMuJCRjW3Byb3BdIDogdGhpcy4kJGRbcHJvcF07XG5cdFx0XHR9LFxuXHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uKTtcblx0XHRcdFx0dGhpcy4kJGRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0YWNjZXNzb3JzLmZvckVhY2goKGFjY2Vzc29yKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYWNjZXNzb3IsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjPy5bYWNjZXNzb3JdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0aWYgKGV4dGVuZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBhc3NpZ25pbmcgaGVyZSBpcyBmaW5lXG5cdFx0Q2xhc3MgPSBleHRlbmQoQ2xhc3MpO1xuXHR9XG5cdENvbXBvbmVudC5lbGVtZW50ID0gLyoqIEB0eXBlIHthbnl9ICovIChDbGFzcyk7XG5cdHJldHVybiBDbGFzcztcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtQcm9wcz1hbnldXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudHM9YW55XVxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJCA9IHVuZGVmaW5lZDtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJHNldCA9IHVuZGVmaW5lZDtcblxuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdCRkZXN0cm95KCkge1xuXHRcdGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuXHRcdHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuXHR9XG5cblx0LyoqXG5cdCAqIEB0ZW1wbGF0ZSB7RXh0cmFjdDxrZXlvZiBFdmVudHMsIHN0cmluZz59IEtcblx0ICogQHBhcmFtIHtLfSB0eXBlXG5cdCAqIEBwYXJhbSB7KChlOiBFdmVudHNbS10pID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZH0gY2FsbGJhY2tcblx0ICogQHJldHVybnMgeygpID0+IHZvaWR9XG5cdCAqL1xuXHQkb24odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuXHRcdFx0cmV0dXJuIG5vb3A7XG5cdFx0fVxuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKTtcblx0XHRjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAtMSkgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BhcnRpYWw8UHJvcHM+fSBwcm9wc1xuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHRpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkocHJvcHMpKSB7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuXHRcdFx0dGhpcy4kJHNldChwcm9wcyk7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG4iLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1jb21waWxlciNzdmVsdGUtdmVyc2lvblxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4yLjE5JztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc0JztcbiIsImltcG9ydCB7IFBVQkxJQ19WRVJTSU9OIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3ZlcnNpb24uanMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG5cdC8vIEB0cy1pZ25vcmVcblx0KHdpbmRvdy5fX3N2ZWx0ZSB8fCAod2luZG93Ll9fc3ZlbHRlID0geyB2OiBuZXcgU2V0KCkgfSkpLnYuYWRkKFBVQkxJQ19WRVJTSU9OKTtcbiIsIi8qXG5BZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsXG5EaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvZWFzZXMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuKi9cbmV4cG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4LmpzJztcblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhY2tJbk91dCh0KSB7XG5cdGNvbnN0IHMgPSAxLjcwMTU4ICogMS41MjU7XG5cdGlmICgodCAqPSAyKSA8IDEpIHJldHVybiAwLjUgKiAodCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSk7XG5cdHJldHVybiAwLjUgKiAoKHQgLT0gMikgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAyKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhY2tJbih0KSB7XG5cdGNvbnN0IHMgPSAxLjcwMTU4O1xuXHRyZXR1cm4gdCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhY2tPdXQodCkge1xuXHRjb25zdCBzID0gMS43MDE1ODtcblx0cmV0dXJuIC0tdCAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDE7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuY2VPdXQodCkge1xuXHRjb25zdCBhID0gNC4wIC8gMTEuMDtcblx0Y29uc3QgYiA9IDguMCAvIDExLjA7XG5cdGNvbnN0IGMgPSA5LjAgLyAxMC4wO1xuXHRjb25zdCBjYSA9IDQzNTYuMCAvIDM2MS4wO1xuXHRjb25zdCBjYiA9IDM1NDQyLjAgLyAxODA1LjA7XG5cdGNvbnN0IGNjID0gMTYwNjEuMCAvIDE4MDUuMDtcblx0Y29uc3QgdDIgPSB0ICogdDtcblx0cmV0dXJuIHQgPCBhXG5cdFx0PyA3LjU2MjUgKiB0MlxuXHRcdDogdCA8IGJcblx0XHQ/IDkuMDc1ICogdDIgLSA5LjkgKiB0ICsgMy40XG5cdFx0OiB0IDwgY1xuXHRcdD8gY2EgKiB0MiAtIGNiICogdCArIGNjXG5cdFx0OiAxMC44ICogdCAqIHQgLSAyMC41MiAqIHQgKyAxMC43Mjtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvdW5jZUluT3V0KHQpIHtcblx0cmV0dXJuIHQgPCAwLjUgPyAwLjUgKiAoMS4wIC0gYm91bmNlT3V0KDEuMCAtIHQgKiAyLjApKSA6IDAuNSAqIGJvdW5jZU91dCh0ICogMi4wIC0gMS4wKSArIDAuNTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvdW5jZUluKHQpIHtcblx0cmV0dXJuIDEuMCAtIGJvdW5jZU91dCgxLjAgLSB0KTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNpcmNJbk91dCh0KSB7XG5cdGlmICgodCAqPSAyKSA8IDEpIHJldHVybiAtMC41ICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSk7XG5cdHJldHVybiAwLjUgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaXJjSW4odCkge1xuXHRyZXR1cm4gMS4wIC0gTWF0aC5zcXJ0KDEuMCAtIHQgKiB0KTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNpcmNPdXQodCkge1xuXHRyZXR1cm4gTWF0aC5zcXJ0KDEgLSAtLXQgKiB0KTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1YmljSW5PdXQodCkge1xuXHRyZXR1cm4gdCA8IDAuNSA/IDQuMCAqIHQgKiB0ICogdCA6IDAuNSAqIE1hdGgucG93KDIuMCAqIHQgLSAyLjAsIDMuMCkgKyAxLjA7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luKHQpIHtcblx0cmV0dXJuIHQgKiB0ICogdDtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1YmljT3V0KHQpIHtcblx0Y29uc3QgZiA9IHQgLSAxLjA7XG5cdHJldHVybiBmICogZiAqIGYgKyAxLjA7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGFzdGljSW5PdXQodCkge1xuXHRyZXR1cm4gdCA8IDAuNVxuXHRcdD8gMC41ICogTWF0aC5zaW4oKCgrMTMuMCAqIE1hdGguUEkpIC8gMikgKiAyLjAgKiB0KSAqIE1hdGgucG93KDIuMCwgMTAuMCAqICgyLjAgKiB0IC0gMS4wKSlcblx0XHQ6IDAuNSAqXG5cdFx0XHRcdE1hdGguc2luKCgoLTEzLjAgKiBNYXRoLlBJKSAvIDIpICogKDIuMCAqIHQgLSAxLjAgKyAxLjApKSAqXG5cdFx0XHRcdE1hdGgucG93KDIuMCwgLTEwLjAgKiAoMi4wICogdCAtIDEuMCkpICtcblx0XHRcdFx0MS4wO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxhc3RpY0luKHQpIHtcblx0cmV0dXJuIE1hdGguc2luKCgxMy4wICogdCAqIE1hdGguUEkpIC8gMikgKiBNYXRoLnBvdygyLjAsIDEwLjAgKiAodCAtIDEuMCkpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxhc3RpY091dCh0KSB7XG5cdHJldHVybiBNYXRoLnNpbigoLTEzLjAgKiAodCArIDEuMCkgKiBNYXRoLlBJKSAvIDIpICogTWF0aC5wb3coMi4wLCAtMTAuMCAqIHQpICsgMS4wO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwb0luT3V0KHQpIHtcblx0cmV0dXJuIHQgPT09IDAuMCB8fCB0ID09PSAxLjBcblx0XHQ/IHRcblx0XHQ6IHQgPCAwLjVcblx0XHQ/ICswLjUgKiBNYXRoLnBvdygyLjAsIDIwLjAgKiB0IC0gMTAuMClcblx0XHQ6IC0wLjUgKiBNYXRoLnBvdygyLjAsIDEwLjAgLSB0ICogMjAuMCkgKyAxLjA7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBvSW4odCkge1xuXHRyZXR1cm4gdCA9PT0gMC4wID8gdCA6IE1hdGgucG93KDIuMCwgMTAuMCAqICh0IC0gMS4wKSk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBvT3V0KHQpIHtcblx0cmV0dXJuIHQgPT09IDEuMCA/IHQgOiAxLjAgLSBNYXRoLnBvdygyLjAsIC0xMC4wICogdCk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFkSW5PdXQodCkge1xuXHR0IC89IDAuNTtcblx0aWYgKHQgPCAxKSByZXR1cm4gMC41ICogdCAqIHQ7XG5cdHQtLTtcblx0cmV0dXJuIC0wLjUgKiAodCAqICh0IC0gMikgLSAxKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YWRJbih0KSB7XG5cdHJldHVybiB0ICogdDtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YWRPdXQodCkge1xuXHRyZXR1cm4gLXQgKiAodCAtIDIuMCk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFydEluT3V0KHQpIHtcblx0cmV0dXJuIHQgPCAwLjUgPyArOC4wICogTWF0aC5wb3codCwgNC4wKSA6IC04LjAgKiBNYXRoLnBvdyh0IC0gMS4wLCA0LjApICsgMS4wO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhcnRJbih0KSB7XG5cdHJldHVybiBNYXRoLnBvdyh0LCA0LjApO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhcnRPdXQodCkge1xuXHRyZXR1cm4gTWF0aC5wb3codCAtIDEuMCwgMy4wKSAqICgxLjAgLSB0KSArIDEuMDtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1aW50SW5PdXQodCkge1xuXHRpZiAoKHQgKj0gMikgPCAxKSByZXR1cm4gMC41ICogdCAqIHQgKiB0ICogdCAqIHQ7XG5cdHJldHVybiAwLjUgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMik7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWludEluKHQpIHtcblx0cmV0dXJuIHQgKiB0ICogdCAqIHQgKiB0O1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVpbnRPdXQodCkge1xuXHRyZXR1cm4gLS10ICogdCAqIHQgKiB0ICogdCArIDE7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW5lSW5PdXQodCkge1xuXHRyZXR1cm4gLTAuNSAqIChNYXRoLmNvcyhNYXRoLlBJICogdCkgLSAxKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmVJbih0KSB7XG5cdGNvbnN0IHYgPSBNYXRoLmNvcyh0ICogTWF0aC5QSSAqIDAuNSk7XG5cdGlmIChNYXRoLmFicyh2KSA8IDFlLTE0KSByZXR1cm4gMTtcblx0ZWxzZSByZXR1cm4gMSAtIHY7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW5lT3V0KHQpIHtcblx0cmV0dXJuIE1hdGguc2luKCh0ICogTWF0aC5QSSkgLyAyKTtcbn1cbiIsImltcG9ydCB7IGN1YmljT3V0LCBjdWJpY0luT3V0LCBsaW5lYXIgfSBmcm9tICcuLi9lYXNpbmcvaW5kZXguanMnO1xuaW1wb3J0IHsgYXNzaWduLCBzcGxpdF9jc3NfdW5pdCwgaXNfZnVuY3Rpb24gfSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5qcyc7XG5cbi8qKlxuICogQW5pbWF0ZXMgYSBgYmx1cmAgZmlsdGVyIGFsb25nc2lkZSBhbiBlbGVtZW50J3Mgb3BhY2l0eS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtdHJhbnNpdGlvbiNibHVyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYycpLkJsdXJQYXJhbXN9IFtwYXJhbXNdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibHVyKFxuXHRub2RlLFxuXHR7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljSW5PdXQsIGFtb3VudCA9IDUsIG9wYWNpdHkgPSAwIH0gPSB7fVxuKSB7XG5cdGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0Y29uc3QgdGFyZ2V0X29wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcblx0Y29uc3QgZiA9IHN0eWxlLmZpbHRlciA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS5maWx0ZXI7XG5cdGNvbnN0IG9kID0gdGFyZ2V0X29wYWNpdHkgKiAoMSAtIG9wYWNpdHkpO1xuXHRjb25zdCBbdmFsdWUsIHVuaXRdID0gc3BsaXRfY3NzX3VuaXQoYW1vdW50KTtcblx0cmV0dXJuIHtcblx0XHRkZWxheSxcblx0XHRkdXJhdGlvbixcblx0XHRlYXNpbmcsXG5cdFx0Y3NzOiAoX3QsIHUpID0+IGBvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gb2QgKiB1fTsgZmlsdGVyOiAke2Z9IGJsdXIoJHt1ICogdmFsdWV9JHt1bml0fSk7YFxuXHR9O1xufVxuXG4vKipcbiAqIEFuaW1hdGVzIHRoZSBvcGFjaXR5IG9mIGFuIGVsZW1lbnQgZnJvbSAwIHRvIHRoZSBjdXJyZW50IG9wYWNpdHkgZm9yIGBpbmAgdHJhbnNpdGlvbnMgYW5kIGZyb20gdGhlIGN1cnJlbnQgb3BhY2l0eSB0byAwIGZvciBgb3V0YCB0cmFuc2l0aW9ucy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtdHJhbnNpdGlvbiNmYWRlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYycpLkZhZGVQYXJhbXN9IFtwYXJhbXNdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmYWRlKG5vZGUsIHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gbGluZWFyIH0gPSB7fSkge1xuXHRjb25zdCBvID0gK2dldENvbXB1dGVkU3R5bGUobm9kZSkub3BhY2l0eTtcblx0cmV0dXJuIHtcblx0XHRkZWxheSxcblx0XHRkdXJhdGlvbixcblx0XHRlYXNpbmcsXG5cdFx0Y3NzOiAodCkgPT4gYG9wYWNpdHk6ICR7dCAqIG99YFxuXHR9O1xufVxuXG4vKipcbiAqIEFuaW1hdGVzIHRoZSB4IGFuZCB5IHBvc2l0aW9ucyBhbmQgdGhlIG9wYWNpdHkgb2YgYW4gZWxlbWVudC4gYGluYCB0cmFuc2l0aW9ucyBhbmltYXRlIGZyb20gdGhlIHByb3ZpZGVkIHZhbHVlcywgcGFzc2VkIGFzIHBhcmFtZXRlcnMgdG8gdGhlIGVsZW1lbnQncyBkZWZhdWx0IHZhbHVlcy4gYG91dGAgdHJhbnNpdGlvbnMgYW5pbWF0ZSBmcm9tIHRoZSBlbGVtZW50J3MgZGVmYXVsdCB2YWx1ZXMgdG8gdGhlIHByb3ZpZGVkIHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtdHJhbnNpdGlvbiNmbHlcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljJykuRmx5UGFyYW1zfSBbcGFyYW1zXVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMnKS5UcmFuc2l0aW9uQ29uZmlnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx5KFxuXHRub2RlLFxuXHR7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0LCB4ID0gMCwgeSA9IDAsIG9wYWNpdHkgPSAwIH0gPSB7fVxuKSB7XG5cdGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0Y29uc3QgdGFyZ2V0X29wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcblx0Y29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcblx0Y29uc3Qgb2QgPSB0YXJnZXRfb3BhY2l0eSAqICgxIC0gb3BhY2l0eSk7XG5cdGNvbnN0IFt4VmFsdWUsIHhVbml0XSA9IHNwbGl0X2Nzc191bml0KHgpO1xuXHRjb25zdCBbeVZhbHVlLCB5VW5pdF0gPSBzcGxpdF9jc3NfdW5pdCh5KTtcblx0cmV0dXJuIHtcblx0XHRkZWxheSxcblx0XHRkdXJhdGlvbixcblx0XHRlYXNpbmcsXG5cdFx0Y3NzOiAodCwgdSkgPT4gYFxuXHRcdFx0dHJhbnNmb3JtOiAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7KDEgLSB0KSAqIHhWYWx1ZX0ke3hVbml0fSwgJHsoMSAtIHQpICogeVZhbHVlfSR7eVVuaXR9KTtcblx0XHRcdG9wYWNpdHk6ICR7dGFyZ2V0X29wYWNpdHkgLSBvZCAqIHV9YFxuXHR9O1xufVxuXG4vKipcbiAqIFNsaWRlcyBhbiBlbGVtZW50IGluIGFuZCBvdXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXRyYW5zaXRpb24jc2xpZGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljJykuU2xpZGVQYXJhbXN9IFtwYXJhbXNdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbGlkZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0LCBheGlzID0gJ3knIH0gPSB7fSkge1xuXHRjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGNvbnN0IG9wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcblx0Y29uc3QgcHJpbWFyeV9wcm9wZXJ0eSA9IGF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblx0Y29uc3QgcHJpbWFyeV9wcm9wZXJ0eV92YWx1ZSA9IHBhcnNlRmxvYXQoc3R5bGVbcHJpbWFyeV9wcm9wZXJ0eV0pO1xuXHRjb25zdCBzZWNvbmRhcnlfcHJvcGVydGllcyA9IGF4aXMgPT09ICd5JyA/IFsndG9wJywgJ2JvdHRvbSddIDogWydsZWZ0JywgJ3JpZ2h0J107XG5cdGNvbnN0IGNhcGl0YWxpemVkX3NlY29uZGFyeV9wcm9wZXJ0aWVzID0gc2Vjb25kYXJ5X3Byb3BlcnRpZXMubWFwKFxuXHRcdChlKSA9PiBgJHtlWzBdLnRvVXBwZXJDYXNlKCl9JHtlLnNsaWNlKDEpfWBcblx0KTtcblx0Y29uc3QgcGFkZGluZ19zdGFydF92YWx1ZSA9IHBhcnNlRmxvYXQoc3R5bGVbYHBhZGRpbmcke2NhcGl0YWxpemVkX3NlY29uZGFyeV9wcm9wZXJ0aWVzWzBdfWBdKTtcblx0Y29uc3QgcGFkZGluZ19lbmRfdmFsdWUgPSBwYXJzZUZsb2F0KHN0eWxlW2BwYWRkaW5nJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1sxXX1gXSk7XG5cdGNvbnN0IG1hcmdpbl9zdGFydF92YWx1ZSA9IHBhcnNlRmxvYXQoc3R5bGVbYG1hcmdpbiR7Y2FwaXRhbGl6ZWRfc2Vjb25kYXJ5X3Byb3BlcnRpZXNbMF19YF0pO1xuXHRjb25zdCBtYXJnaW5fZW5kX3ZhbHVlID0gcGFyc2VGbG9hdChzdHlsZVtgbWFyZ2luJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1sxXX1gXSk7XG5cdGNvbnN0IGJvcmRlcl93aWR0aF9zdGFydF92YWx1ZSA9IHBhcnNlRmxvYXQoXG5cdFx0c3R5bGVbYGJvcmRlciR7Y2FwaXRhbGl6ZWRfc2Vjb25kYXJ5X3Byb3BlcnRpZXNbMF19V2lkdGhgXVxuXHQpO1xuXHRjb25zdCBib3JkZXJfd2lkdGhfZW5kX3ZhbHVlID0gcGFyc2VGbG9hdChcblx0XHRzdHlsZVtgYm9yZGVyJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1sxXX1XaWR0aGBdXG5cdCk7XG5cdHJldHVybiB7XG5cdFx0ZGVsYXksXG5cdFx0ZHVyYXRpb24sXG5cdFx0ZWFzaW5nLFxuXHRcdGNzczogKHQpID0+XG5cdFx0XHQnb3ZlcmZsb3c6IGhpZGRlbjsnICtcblx0XHRcdGBvcGFjaXR5OiAke01hdGgubWluKHQgKiAyMCwgMSkgKiBvcGFjaXR5fTtgICtcblx0XHRcdGAke3ByaW1hcnlfcHJvcGVydHl9OiAke3QgKiBwcmltYXJ5X3Byb3BlcnR5X3ZhbHVlfXB4O2AgK1xuXHRcdFx0YHBhZGRpbmctJHtzZWNvbmRhcnlfcHJvcGVydGllc1swXX06ICR7dCAqIHBhZGRpbmdfc3RhcnRfdmFsdWV9cHg7YCArXG5cdFx0XHRgcGFkZGluZy0ke3NlY29uZGFyeV9wcm9wZXJ0aWVzWzFdfTogJHt0ICogcGFkZGluZ19lbmRfdmFsdWV9cHg7YCArXG5cdFx0XHRgbWFyZ2luLSR7c2Vjb25kYXJ5X3Byb3BlcnRpZXNbMF19OiAke3QgKiBtYXJnaW5fc3RhcnRfdmFsdWV9cHg7YCArXG5cdFx0XHRgbWFyZ2luLSR7c2Vjb25kYXJ5X3Byb3BlcnRpZXNbMV19OiAke3QgKiBtYXJnaW5fZW5kX3ZhbHVlfXB4O2AgK1xuXHRcdFx0YGJvcmRlci0ke3NlY29uZGFyeV9wcm9wZXJ0aWVzWzBdfS13aWR0aDogJHt0ICogYm9yZGVyX3dpZHRoX3N0YXJ0X3ZhbHVlfXB4O2AgK1xuXHRcdFx0YGJvcmRlci0ke3NlY29uZGFyeV9wcm9wZXJ0aWVzWzFdfS13aWR0aDogJHt0ICogYm9yZGVyX3dpZHRoX2VuZF92YWx1ZX1weDtgXG5cdH07XG59XG5cbi8qKlxuICogQW5pbWF0ZXMgdGhlIG9wYWNpdHkgYW5kIHNjYWxlIG9mIGFuIGVsZW1lbnQuIGBpbmAgdHJhbnNpdGlvbnMgYW5pbWF0ZSBmcm9tIGFuIGVsZW1lbnQncyBjdXJyZW50IChkZWZhdWx0KSB2YWx1ZXMgdG8gdGhlIHByb3ZpZGVkIHZhbHVlcywgcGFzc2VkIGFzIHBhcmFtZXRlcnMuIGBvdXRgIHRyYW5zaXRpb25zIGFuaW1hdGUgZnJvbSB0aGUgcHJvdmlkZWQgdmFsdWVzIHRvIGFuIGVsZW1lbnQncyBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtdHJhbnNpdGlvbiNzY2FsZVxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMnKS5TY2FsZVBhcmFtc30gW3BhcmFtc11cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKFxuXHRub2RlLFxuXHR7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0LCBzdGFydCA9IDAsIG9wYWNpdHkgPSAwIH0gPSB7fVxuKSB7XG5cdGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0Y29uc3QgdGFyZ2V0X29wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcblx0Y29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcblx0Y29uc3Qgc2QgPSAxIC0gc3RhcnQ7XG5cdGNvbnN0IG9kID0gdGFyZ2V0X29wYWNpdHkgKiAoMSAtIG9wYWNpdHkpO1xuXHRyZXR1cm4ge1xuXHRcdGRlbGF5LFxuXHRcdGR1cmF0aW9uLFxuXHRcdGVhc2luZyxcblx0XHRjc3M6IChfdCwgdSkgPT4gYFxuXHRcdFx0dHJhbnNmb3JtOiAke3RyYW5zZm9ybX0gc2NhbGUoJHsxIC0gc2QgKiB1fSk7XG5cdFx0XHRvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gb2QgKiB1fVxuXHRcdGBcblx0fTtcbn1cblxuLyoqXG4gKiBBbmltYXRlcyB0aGUgc3Ryb2tlIG9mIGFuIFNWRyBlbGVtZW50LCBsaWtlIGEgc25ha2UgaW4gYSB0dWJlLiBgaW5gIHRyYW5zaXRpb25zIGJlZ2luIHdpdGggdGhlIHBhdGggaW52aXNpYmxlIGFuZCBkcmF3IHRoZSBwYXRoIHRvIHRoZSBzY3JlZW4gb3ZlciB0aW1lLiBgb3V0YCB0cmFuc2l0aW9ucyBzdGFydCBpbiBhIHZpc2libGUgc3RhdGUgYW5kIGdyYWR1YWxseSBlcmFzZSB0aGUgcGF0aC4gYGRyYXdgIG9ubHkgd29ya3Mgd2l0aCBlbGVtZW50cyB0aGF0IGhhdmUgYSBgZ2V0VG90YWxMZW5ndGhgIG1ldGhvZCwgbGlrZSBgPHBhdGg+YCBhbmQgYDxwb2x5bGluZT5gLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS10cmFuc2l0aW9uI2RyYXdcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudCAmIHsgZ2V0VG90YWxMZW5ndGgoKTogbnVtYmVyIH19IG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYycpLkRyYXdQYXJhbXN9IFtwYXJhbXNdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3KG5vZGUsIHsgZGVsYXkgPSAwLCBzcGVlZCwgZHVyYXRpb24sIGVhc2luZyA9IGN1YmljSW5PdXQgfSA9IHt9KSB7XG5cdGxldCBsZW4gPSBub2RlLmdldFRvdGFsTGVuZ3RoKCk7XG5cdGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0aWYgKHN0eWxlLnN0cm9rZUxpbmVjYXAgIT09ICdidXR0Jykge1xuXHRcdGxlbiArPSBwYXJzZUludChzdHlsZS5zdHJva2VXaWR0aCk7XG5cdH1cblx0aWYgKGR1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoc3BlZWQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZHVyYXRpb24gPSA4MDA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGR1cmF0aW9uID0gbGVuIC8gc3BlZWQ7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGR1cmF0aW9uID0gZHVyYXRpb24obGVuKTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdGRlbGF5LFxuXHRcdGR1cmF0aW9uLFxuXHRcdGVhc2luZyxcblx0XHRjc3M6IChfLCB1KSA9PiBgXG5cdFx0XHRzdHJva2UtZGFzaGFycmF5OiAke2xlbn07XG5cdFx0XHRzdHJva2UtZGFzaG9mZnNldDogJHt1ICogbGVufTtcblx0XHRgXG5cdH07XG59XG5cbi8qKlxuICogVGhlIGBjcm9zc2ZhZGVgIGZ1bmN0aW9uIGNyZWF0ZXMgYSBwYWlyIG9mIFt0cmFuc2l0aW9uc10oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjdGVtcGxhdGUtc3ludGF4LWVsZW1lbnQtZGlyZWN0aXZlcy10cmFuc2l0aW9uLWZuKSBjYWxsZWQgYHNlbmRgIGFuZCBgcmVjZWl2ZWAuIFdoZW4gYW4gZWxlbWVudCBpcyAnc2VudCcsIGl0IGxvb2tzIGZvciBhIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBiZWluZyAncmVjZWl2ZWQnLCBhbmQgZ2VuZXJhdGVzIGEgdHJhbnNpdGlvbiB0aGF0IHRyYW5zZm9ybXMgdGhlIGVsZW1lbnQgdG8gaXRzIGNvdW50ZXJwYXJ0J3MgcG9zaXRpb24gYW5kIGZhZGVzIGl0IG91dC4gV2hlbiBhbiBlbGVtZW50IGlzICdyZWNlaXZlZCcsIHRoZSByZXZlcnNlIGhhcHBlbnMuIElmIHRoZXJlIGlzIG5vIGNvdW50ZXJwYXJ0LCB0aGUgYGZhbGxiYWNrYCB0cmFuc2l0aW9uIGlzIHVzZWQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXRyYW5zaXRpb24jY3Jvc3NmYWRlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMnKS5Dcm9zc2ZhZGVQYXJhbXMgJiB7XG4gKiBcdGZhbGxiYWNrPzogKG5vZGU6IEVsZW1lbnQsIHBhcmFtczogaW1wb3J0KCcuL3B1YmxpYycpLkNyb3NzZmFkZVBhcmFtcywgaW50cm86IGJvb2xlYW4pID0+IGltcG9ydCgnLi9wdWJsaWMnKS5UcmFuc2l0aW9uQ29uZmlnO1xuICogfX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7Wyhub2RlOiBhbnksIHBhcmFtczogaW1wb3J0KCcuL3B1YmxpYycpLkNyb3NzZmFkZVBhcmFtcyAmIHsga2V5OiBhbnk7IH0pID0+ICgpID0+IGltcG9ydCgnLi9wdWJsaWMnKS5UcmFuc2l0aW9uQ29uZmlnLCAobm9kZTogYW55LCBwYXJhbXM6IGltcG9ydCgnLi9wdWJsaWMnKS5Dcm9zc2ZhZGVQYXJhbXMgJiB7IGtleTogYW55OyB9KSA9PiAoKSA9PiBpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcm9zc2ZhZGUoeyBmYWxsYmFjaywgLi4uZGVmYXVsdHMgfSkge1xuXHQvKiogQHR5cGUge01hcDxhbnksIEVsZW1lbnQ+fSAqL1xuXHRjb25zdCB0b19yZWNlaXZlID0gbmV3IE1hcCgpO1xuXHQvKiogQHR5cGUge01hcDxhbnksIEVsZW1lbnQ+fSAqL1xuXHRjb25zdCB0b19zZW5kID0gbmV3IE1hcCgpO1xuXHQvKipcblx0ICogQHBhcmFtIHtFbGVtZW50fSBmcm9tX25vZGVcblx0ICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYycpLkNyb3NzZmFkZVBhcmFtc30gcGFyYW1zXG5cdCAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ31cblx0ICovXG5cdGZ1bmN0aW9uIGNyb3NzZmFkZShmcm9tX25vZGUsIG5vZGUsIHBhcmFtcykge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gKGQpID0+IE1hdGguc3FydChkKSAqIDMwLFxuXHRcdFx0ZWFzaW5nID0gY3ViaWNPdXRcblx0XHR9ID0gYXNzaWduKGFzc2lnbih7fSwgZGVmYXVsdHMpLCBwYXJhbXMpO1xuXHRcdGNvbnN0IGZyb20gPSBmcm9tX25vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IGR4ID0gZnJvbS5sZWZ0IC0gdG8ubGVmdDtcblx0XHRjb25zdCBkeSA9IGZyb20udG9wIC0gdG8udG9wO1xuXHRcdGNvbnN0IGR3ID0gZnJvbS53aWR0aCAvIHRvLndpZHRoO1xuXHRcdGNvbnN0IGRoID0gZnJvbS5oZWlnaHQgLyB0by5oZWlnaHQ7XG5cdFx0Y29uc3QgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cdFx0Y29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRcdGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG5cdFx0Y29uc3Qgb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuXHRcdHJldHVybiB7XG5cdFx0XHRkZWxheSxcblx0XHRcdGR1cmF0aW9uOiBpc19mdW5jdGlvbihkdXJhdGlvbikgPyBkdXJhdGlvbihkKSA6IGR1cmF0aW9uLFxuXHRcdFx0ZWFzaW5nLFxuXHRcdFx0Y3NzOiAodCwgdSkgPT4gYFxuXHRcdFx0XHRvcGFjaXR5OiAke3QgKiBvcGFjaXR5fTtcblx0XHRcdFx0dHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XG5cdFx0XHRcdHRyYW5zZm9ybTogJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke3UgKiBkeH1weCwke3UgKiBkeX1weCkgc2NhbGUoJHt0ICsgKDEgLSB0KSAqIGR3fSwgJHtcblx0XHRcdFx0dCArICgxIC0gdCkgKiBkaFxuXHRcdFx0fSk7XG5cdFx0XHRgXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge01hcDxhbnksIEVsZW1lbnQ+fSBpdGVtc1xuXHQgKiBAcGFyYW0ge01hcDxhbnksIEVsZW1lbnQ+fSBjb3VudGVycGFydHNcblx0ICogQHBhcmFtIHtib29sZWFufSBpbnRyb1xuXHQgKiBAcmV0dXJucyB7KG5vZGU6IGFueSwgcGFyYW1zOiBpbXBvcnQoJy4vcHVibGljJykuQ3Jvc3NmYWRlUGFyYW1zICYgeyBrZXk6IGFueTsgfSkgPT4gKCkgPT4gaW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWd9XG5cdCAqL1xuXHRmdW5jdGlvbiB0cmFuc2l0aW9uKGl0ZW1zLCBjb3VudGVycGFydHMsIGludHJvKSB7XG5cdFx0cmV0dXJuIChub2RlLCBwYXJhbXMpID0+IHtcblx0XHRcdGl0ZW1zLnNldChwYXJhbXMua2V5LCBub2RlKTtcblx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdGlmIChjb3VudGVycGFydHMuaGFzKHBhcmFtcy5rZXkpKSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3RoZXJfbm9kZSA9IGNvdW50ZXJwYXJ0cy5nZXQocGFyYW1zLmtleSk7XG5cdFx0XHRcdFx0Y291bnRlcnBhcnRzLmRlbGV0ZShwYXJhbXMua2V5KTtcblx0XHRcdFx0XHRyZXR1cm4gY3Jvc3NmYWRlKG90aGVyX25vZGUsIG5vZGUsIHBhcmFtcyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gaWYgdGhlIG5vZGUgaXMgZGlzYXBwZWFyaW5nIGFsdG9nZXRoZXJcblx0XHRcdFx0Ly8gKGkuZS4gd2Fzbid0IGNsYWltZWQgYnkgdGhlIG90aGVyIGxpc3QpXG5cdFx0XHRcdC8vIHRoZW4gd2UgbmVlZCB0byBzdXBwbHkgYW4gb3V0cm9cblx0XHRcdFx0aXRlbXMuZGVsZXRlKHBhcmFtcy5rZXkpO1xuXHRcdFx0XHRyZXR1cm4gZmFsbGJhY2sgJiYgZmFsbGJhY2sobm9kZSwgcGFyYW1zLCBpbnRybyk7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH1cblx0cmV0dXJuIFt0cmFuc2l0aW9uKHRvX3NlbmQsIHRvX3JlY2VpdmUsIGZhbHNlKSwgdHJhbnNpdGlvbih0b19yZWNlaXZlLCB0b19zZW5kLCB0cnVlKV07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VNYXJrZG93bihcblx0aW5wdXQ6IHN0cmluZyxcblx0bXV0ZWQgPSBmYWxzZSxcblx0Y2xhc3NOYW1lczogeyBwPzogc3RyaW5nIH0gPSB7IHA6IFwidGV4dC1iYXNlXCIgfSxcbik6IHN0cmluZyB7XG5cdGlmICghaW5wdXQpIHJldHVybiBpbnB1dDtcblxuXHRjb25zdCBlc2NhcGVIVE1MID0gKHN0cjogc3RyaW5nKSA9PiB7XG5cdFx0cmV0dXJuIHN0clxuXHRcdFx0LnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKVxuXHRcdFx0LnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpXG5cdFx0XHQucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcblx0XHRcdC5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKVxuXHRcdFx0LnJlcGxhY2UoLycvZywgXCImIzAzOTtcIik7XG5cdH07XG5cblx0Y29uc3QgbGlua0NsYXNzTmFtZSA9IGB1bmRlcmxpbmUgdGV4dC0ke1xuXHRcdG11dGVkID8gXCJtdXRlZFwiIDogXCJwcmltYXJ5XCJcblx0fS1mb3JlZ3JvdW5kIGlubGluZSBmb250LWJvbGQgcC0wIHRyYW5zaXRpb24tY29sb3JzIGhvdmVyOnVuZGVybGluZSBob3ZlcjpvdXRsaW5lLW5vbmUgZGVjb3JhdGlvbi0xIGRlY29yYXRpb24tc2tpcC1pbmstbm9uZSB1bmRlcmxpbmUtb2Zmc2V0LVswLjI1ZW1dIGhvdmVyOmRlY29yYXRpb24tMmA7XG5cblx0Ly8gUHJlLXByb2Nlc3MgY29kZSBibG9ja3Ncblx0Y29uc3QgY29kZUJsb2Nrczogc3RyaW5nW10gPSBbXTtcblx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9gYGAoW1xcc1xcU10qPylgYGAvZywgKG1hdGNoLCBjb2RlKSA9PiB7XG5cdFx0Y29kZUJsb2Nrcy5wdXNoKGNvZGUpO1xuXHRcdHJldHVybiBge3tDT0RFQkxPQ0ske2NvZGVCbG9ja3MubGVuZ3RoIC0gMX19fWA7XG5cdH0pO1xuXG5cdC8vIFByZS1wcm9jZXNzIGlubGluZSBjb2RlXG5cdGNvbnN0IGlubGluZUNvZGU6IHN0cmluZ1tdID0gW107XG5cdGlucHV0ID0gaW5wdXQucmVwbGFjZSgvYChbXmBdKylgL2csIChtYXRjaCwgY29kZSkgPT4ge1xuXHRcdGlubGluZUNvZGUucHVzaChjb2RlKTtcblx0XHRyZXR1cm4gYHt7SU5MSU5FQ09ERSR7aW5saW5lQ29kZS5sZW5ndGggLSAxfX19YDtcblx0fSk7XG5cblx0bGV0IGh0bWwgPSBpbnB1dFxuXHRcdC5yZXBsYWNlKC9cXFxcXFxcXC9nLCBcIlxcXFxcIilcblx0XHQucmVwbGFjZSgvXFxcXG4vZywgXCJcXG5cIilcblx0XHQucmVwbGFjZSgvPHN1bW1hcnk+L2csIFwiKipTdW1tYXJ5OioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvc3VtbWFyeT4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPHF1ZXN0aW9ucz4vZywgXCIqKlF1ZXN0aW9uczoqKiBcIilcblx0XHQucmVwbGFjZSgvPFxcL3F1ZXN0aW9ucz4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPHF1ZXN0aW9uPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88XFwvcXVlc3Rpb24+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxhbnN3ZXI+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC9hbnN3ZXI+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxwcm9tcHRfYW5hbHlzaXM+L2csIFwiKipBbmFseXNpczoqKiBcIilcblx0XHQucmVwbGFjZSgvPFxcL3Byb21wdF9hbmFseXNpcz4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPGFuYWx5c2lzPi9nLCBcIioqQW5hbHlzaXM6KiogXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC9hbmFseXNpcz4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPHRob3VnaHQ+L2csIFwiKipUaG91Z2h0OioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvdGhvdWdodD4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPGFjdGlvbj4vZywgXCIqKkFjdGlvbjoqKiBcIilcblx0XHQucmVwbGFjZSgvPFxcL2FjdGlvbj4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPHVuY2xlYXJfcGFydHM+L2csIFwiKipVbnN1cmUgYWJvdXQ6KiogXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC91bmNsZWFyX3BhcnRzPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88a2V5X2VsZW1lbnRzPi9nLCBcIioqS2V5IEVsZW1lbnRzOioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwva2V5X2VsZW1lbnRzPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88a2V5X2VsZW1lbnRzX21pc3Npbmc+L2csIFwiKipLZXkgRWxlbWVudHMgTWlzc2luZzoqKiBcIilcblx0XHQucmVwbGFjZSgvPFxcL2tleV9lbGVtZW50c19taXNzaW5nPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88c3VnZ2VzdGlvbnM+L2csIFwiKipTdWdnZXN0aW9uczoqKiBcIilcblx0XHQucmVwbGFjZSgvPFxcL3N1Z2dlc3Rpb25zPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88c3VnZ2VzdGlvbj4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPFxcL3N1Z2dlc3Rpb24+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxyZXZpc2VkX3Byb21wdD4vZywgXCIqKlJldmlzZWQgUHJvbXB0OioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvcmV2aXNlZF9wcm9tcHQ+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxwcm9ibGVtX2JyZWFrZG93bj4vZywgXCIqKlByb2JsZW0gQnJlYWtkb3duOioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvcHJvYmxlbV9icmVha2Rvd24+L2csIFwiXCIpO1xuXG5cdGh0bWwgPSBlc2NhcGVIVE1MKGh0bWwpXG5cdFx0Ly8gSGVhZGVyc1xuXHRcdC5yZXBsYWNlKC9eIyMjICguKj8pJC9nbSwgXCI8aDM+JDE8L2gzPlxcblwiKVxuXHRcdC5yZXBsYWNlKC9eIyMgKC4qPykkL2dtLCBcIjxoMj4kMTwvaDI+XFxuXCIpXG5cdFx0LnJlcGxhY2UoL14jICguKj8pJC9nbSwgXCI8aDE+JDE8L2gxPlxcblwiKVxuXG5cdFx0Ly8gQm9sZFxuXHRcdC5yZXBsYWNlKC9cXCpcXCooLio/KVxcKlxcKi9nLCBcIjxzdHJvbmc+JDE8L3N0cm9uZz5cIilcblx0XHQucmVwbGFjZSgvX18oLio/KV9fL2csIFwiPHN0cm9uZz4kMTwvc3Ryb25nPlwiKVxuXG5cdFx0Ly8gSXRhbGljXG5cdFx0LnJlcGxhY2UoL1xcKiguKj8pXFwqL2csIFwiPGVtPiQxPC9lbT5cIilcblx0XHQucmVwbGFjZSgvXyguKj8pXy9nLCBcIjxlbT4kMTwvZW0+XCIpXG5cblx0XHQvLyBJbWFnZXNcblx0XHQucmVwbGFjZShcblx0XHRcdC8hXFxbKC4qPylcXF1cXCgoLio/KVxcKS9nLFxuXHRcdFx0JzxpbWcgc3JjPVwiJDJcIiBhbHQ9XCIkMVwiIGNsYXNzPVwicm91bmRlZC1sZyBtYXgtdy1mdWxsIGgtYXV0byBteS00XCIgbG9hZGluZz1cImxhenlcIiAvPicsXG5cdFx0KVxuXG5cdFx0Ly8gTGlua3Ncblx0XHQucmVwbGFjZShcblx0XHRcdC9cXFsoW15cXF1dKylcXF1cXCgoW14pXSspXFwpL2csXG5cdFx0XHRgPGEgaHJlZj1cIiQyXCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiIGNsYXNzPVwiJHtsaW5rQ2xhc3NOYW1lfVwiPiQxPC9hPmAsXG5cdFx0KVxuXG5cdFx0Ly8gSGFuZGxlIE9ic2lkaWFuLXN0eWxlIGludGVybmFsIGxpbmtzXG5cdFx0LnJlcGxhY2UoXG5cdFx0XHQvXFxbXFxbKC4qPylcXF1cXF0vZyxcblx0XHRcdGA8YSBocmVmPVwiJDFcIiBjbGFzcz1cImludGVybmFsLWxpbmsgJHtsaW5rQ2xhc3NOYW1lfVwiPiQxPC9hPmAsXG5cdFx0KVxuXG5cdFx0Ly8gVW5vcmRlcmVkIGxpc3RzXG5cdFx0LnJlcGxhY2UoL14oXFxzKlstKitdXFxzKy4qKD86XFxuKD8hXFxzKlstKitdfFxccypcXGQrXFwuKS4qKSopKy9nbSwgKG1hdGNoKSA9PiB7XG5cdFx0XHRjb25zdCBpdGVtcyA9IG1hdGNoXG5cdFx0XHRcdC5zcGxpdChcIlxcblwiKVxuXHRcdFx0XHQubWFwKChsaW5lKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgY29udGVudCA9IGxpbmUucmVwbGFjZSgvXlxccypbLSorXVxccysvLCBcIlwiKS50cmltKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRlbnQgPyBgPGxpPiR7Y29udGVudH08L2xpPmAgOiBcIlwiO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmlsdGVyKEJvb2xlYW4pXG5cdFx0XHRcdC5qb2luKFwiXFxuXCIpO1xuXHRcdFx0cmV0dXJuIGA8dWwgY2xhc3M9XCJsaXN0LWRpc2NcIj4ke2l0ZW1zfTwvdWw+YDtcblx0XHR9KVxuXG5cdFx0Ly8gT3JkZXJlZCBsaXN0c1xuXHRcdC5yZXBsYWNlKC9eKFxccypcXGQrXFwuXFxzKy4qKD86XFxuKD8hXFxzKlstKitdfFxccypcXGQrXFwuKS4qKSopKy9nbSwgKG1hdGNoKSA9PiB7XG5cdFx0XHRjb25zdCBpdGVtcyA9IG1hdGNoXG5cdFx0XHRcdC5zcGxpdChcIlxcblwiKVxuXHRcdFx0XHQubWFwKChsaW5lKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgY29udGVudCA9IGxpbmUucmVwbGFjZSgvXlxccypcXGQrXFwuXFxzKy8sIFwiXCIpLnRyaW0oKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGVudCA/IGA8bGk+JHtjb250ZW50fTwvbGk+YCA6IFwiXCI7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5maWx0ZXIoQm9vbGVhbilcblx0XHRcdFx0LmpvaW4oXCJcXG5cIik7XG5cdFx0XHRyZXR1cm4gYDxvbCBjbGFzcz1cImxpc3QtZGVjaW1hbFwiPiR7aXRlbXN9PC9vbD5gO1xuXHRcdH0pXG5cblx0XHQvLyBCbG9ja3F1b3Rlc1xuXHRcdC5yZXBsYWNlKFxuXHRcdFx0L14oPlxccysuKig/Olxcbig/IT4pLiopKikrL2dtLFxuXHRcdFx0KG1hdGNoKSA9PiBgPGJsb2NrcXVvdGU+JHttYXRjaC5yZXBsYWNlKC9ePlxccysvZ20sIFwiXCIpfTwvYmxvY2txdW90ZT5gLFxuXHRcdClcblxuXHRcdC8vIEhvcml6b250YWwgcnVsZXNcblx0XHQucmVwbGFjZSgvXig/Oi0tLXxcXCpcXCpcXCp8X19fKVxccyokL2dtLCBcIjxocj5cIilcblxuXHRcdC8vIFBhcmFncmFwaHNcblx0XHQucmVwbGFjZShcblx0XHRcdC9eKD8hPFtob3VsXXw8Ymx8PGhyKVteXFxuXSsoPzpcXG4oPyE8W2hvdWxdfDxibHw8aHIpW15cXG5dKykqL2dtLFxuXHRcdFx0KG1hdGNoKSA9PlxuXHRcdFx0XHRgPHAgY2xhc3M9XCIke2NsYXNzTmFtZXMucCB8fCBcInRleHQtYmFzZVwifVwiPiR7bWF0Y2gucmVwbGFjZShcblx0XHRcdFx0XHQvXFxuL2csXG5cdFx0XHRcdFx0XCI8YnIgLz5cIixcblx0XHRcdFx0KX08L3A+YCxcblx0XHQpO1xuXG5cdC8vIFJlc3RvcmUgY29kZSBibG9ja3Mgd2l0aCBwcm9wZXIgZm9ybWF0dGluZ1xuXHRodG1sID0gaHRtbC5yZXBsYWNlKC97e0NPREVCTE9DSyhcXGQrKX19L2csIChfLCBpbmRleCkgPT4ge1xuXHRcdGNvbnN0IGNvZGUgPSBjb2RlQmxvY2tzW3BhcnNlSW50KGluZGV4KV07XG5cdFx0aWYgKCFjb2RlKSByZXR1cm4gXCJcIjtcblx0XHRjb25zdCBsaW5lcyA9IGNvZGUuc3BsaXQoXCJcXG5cIik7XG5cdFx0Y29uc3QgZmlyc3RMaW5lID0gbGluZXNbMF0/LnRyaW0oKSB8fCBcIlwiO1xuXHRcdGNvbnN0IGhhc0xhbmcgPSAvXlthLXpBLVowLTldKyQvLnRlc3QoZmlyc3RMaW5lKTtcblx0XHRjb25zdCBsYW5nID0gaGFzTGFuZyA/IGZpcnN0TGluZSA6IFwiXCI7XG5cdFx0Y29uc3QgY29udGVudCA9IGhhc0xhbmcgPyBsaW5lcy5zbGljZSgxKS5qb2luKFwiXFxuXCIpLnRyaW0oKSA6IGNvZGU7XG5cdFx0cmV0dXJuIGA8cHJlPjxjb2RlJHtcblx0XHRcdGxhbmcgPyBgIGNsYXNzPVwibGFuZ3VhZ2UtJHtsYW5nfVwiYCA6IFwiXCJcblx0XHR9PiR7ZXNjYXBlSFRNTChjb250ZW50KX08L2NvZGU+PC9wcmU+YDtcblx0fSk7XG5cblx0Ly8gUmVzdG9yZSBpbmxpbmUgY29kZSB3aXRoIHByb3BlciBmb3JtYXR0aW5nXG5cdGh0bWwgPSBodG1sLnJlcGxhY2UoL3t7SU5MSU5FQ09ERShcXGQrKX19L2csIChfLCBpbmRleCkgPT4ge1xuXHRcdGNvbnN0IGNvZGUgPSBpbmxpbmVDb2RlW3BhcnNlSW50KGluZGV4KV07XG5cdFx0aWYgKCFjb2RlKSByZXR1cm4gXCJcIjtcblx0XHRyZXR1cm4gYDxjb2RlPiR7ZXNjYXBlSFRNTChjb2RlKX08L2NvZGU+YDtcblx0fSk7XG5cblx0cmV0dXJuIGh0bWw7XG59XG4iLCI8IS0tIFNvdXJjZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2x1Y2lkZS1pY29ucy9sdWNpZGUvdHJlZS9tYWluL2ljb25zIC0tPlxuPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwibHVjaWRlIGx1Y2lkZS1jbGlwYm9hcmQtY29weVwiPjxyZWN0IHdpZHRoPVwiOFwiIGhlaWdodD1cIjRcIiB4PVwiOFwiIHk9XCIyXCIgcng9XCIxXCIgcnk9XCIxXCIvPjxwYXRoIGQ9XCJNOCA0SDZhMiAyIDAgMCAwLTIgMnYxNGEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJ2LTJcIi8+PHBhdGggZD1cIk0xNiA0aDJhMiAyIDAgMCAxIDIgMnY0XCIvPjxwYXRoIGQ9XCJNMjEgMTRIMTFcIi8+PHBhdGggZD1cIm0xNSAxMC00IDQgNCA0XCIvPjwvc3ZnPiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHsgZmFkZSwgZmx5IH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XG4gICAgaW1wb3J0IHsgYWZ0ZXJVcGRhdGUgfSBmcm9tICdzdmVsdGUnO1xuXG4gICAgaW1wb3J0IHR5cGUgeyBNZXNzYWdlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG4gICAgaW1wb3J0IHsgcGFyc2VNYXJrZG93biB9IGZyb20gXCIuLi91dGlscy9tYXJrZG93bi1wYXJzZXJcIjtcbiAgICBpbXBvcnQgQ29weSBmcm9tIFwiLi9pY29ucy9jb3B5LnN2ZWx0ZVwiO1xuXG4gICAgZXhwb3J0IGxldCBtZXNzYWdlczogTWVzc2FnZVtdID0gW107XG4gICAgZXhwb3J0IGxldCBvbkNvcHlNZXNzYWdlOiAobWVzc2FnZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIGV4cG9ydCBsZXQgaXNQcm9jZXNzaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBzdHJlYW1pbmdDb250ZW50OiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgbGV0IG1lc3NhZ2VzQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcbiAgICBsZXQgdXNlckhhc1Njcm9sbGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG4gICAgICAgIGlmICghbWVzc2FnZXNDb250YWluZXIpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodCB9ID0gbWVzc2FnZXNDb250YWluZXI7XG4gICAgICAgIGNvbnN0IGlzQXRCb3R0b20gPSBzY3JvbGxIZWlnaHQgLSBzY3JvbGxUb3AgLSBjbGllbnRIZWlnaHQgPCAxMDtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNBdEJvdHRvbSkge1xuICAgICAgICAgICAgdXNlckhhc1Njcm9sbGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJIYXNTY3JvbGxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWZ0ZXJVcGRhdGUoKCkgPT4ge1xuICAgICAgICBpZiAobWVzc2FnZXNDb250YWluZXIgJiYgIXVzZXJIYXNTY3JvbGxlZCkge1xuICAgICAgICAgICAgbWVzc2FnZXNDb250YWluZXIuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgICAgIHRvcDogbWVzc2FnZXNDb250YWluZXIuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG48L3NjcmlwdD5cblxueyNpZiBtZXNzYWdlcy5sZW5ndGggPD0gMH1cbiAgICA8ZGl2IGNsYXNzPVwid2VsY29tZS1tZXNzYWdlXCI+XG4gICAgICAgIDxoMz5XZWxjb21lIHRvIHRoZSBDaGF0IPCfkYs8L2gzPlxuICAgICAgICA8cD5Bc2sgbWUgYW55dGhpbmcgYWJvdXQgeW91ciBub3Rlcywgb3IganVzdCBnZW5lcmFsIHF1ZXN0aW9ucy48L3A+XG4gICAgPC9kaXY+XG57L2lmfVxuXG48ZGl2IGNsYXNzPVwibWVzc2FnZXNcIiBcbiAgICBiaW5kOnRoaXM9e21lc3NhZ2VzQ29udGFpbmVyfSBcbiAgICBvbjpzY3JvbGw9e2hhbmRsZVNjcm9sbH1cbiAgICByb2xlPVwibG9nXCIgXG4gICAgYXJpYS1saXZlPVwicG9saXRlXCI+XG4gICAgeyNlYWNoIG1lc3NhZ2VzLmZpbHRlcigobSkgPT4gbS5yb2xlICE9PSBcInN5c3RlbVwiKSBhcyBtZXNzYWdlLCBpIChpKX1cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2Utd3JhcHBlciB7bWVzc2FnZS5yb2xlfVwiIHJvbGU9XCJhcnRpY2xlXCIgXG4gICAgICAgICAgICBpbjpmbHk9e3sgeTogMjAsIGR1cmF0aW9uOiAzMDAgfX0gb3V0OmZhZGU9e3sgZHVyYXRpb246IDIwMCB9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2UtY29udGVudC13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9sZS1pbmRpY2F0b3JcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIgPyBcIvCfpJZcIiA6IFwi8J+RpFwifVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXNzYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXNzYWdlLWNvbnRlbnQtaW5uZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGh0bWwgcGFyc2VNYXJrZG93bihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBtZXNzYWdlcy5sZW5ndGggLSAxICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Byb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3RyZWFtaW5nQ29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgbWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBtZXNzYWdlcy5sZW5ndGggLSAxICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Byb2Nlc3Npbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgc3RyZWFtaW5nQ29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY3Vyc29yXCI+4paLPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidHlwaW5nLWluZGljYXRvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2UtYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjb3B5LWJ1dHRvblwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gb25Db3B5TWVzc2FnZShtZXNzYWdlLmNvbnRlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ29weSBtZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb3B5IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPkNvcHkgbWVzc2FnZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICB7L2VhY2h9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5tZXNzYWdlcyB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAxcmVtO1xuICAgIH1cblxuICAgIC53ZWxjb21lLW1lc3NhZ2Uge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZ2FwOiAwLjVyZW07XG4gICAgfVxuXG4gICAgLndlbGNvbWUtbWVzc2FnZSBoMyB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICB9XG5cbiAgICAubWVzc2FnZS13cmFwcGVyIHtcbiAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgfVxuXG4gICAgLm1lc3NhZ2Utd3JhcHBlci5hc3Npc3RhbnQge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpO1xuICAgIH1cblxuICAgIC5tZXNzYWdlIHtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nOiAwcHg7XG4gICAgfVxuXG4gICAgLm1lc3NhZ2UtY29udGVudC13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAwLjc1cmVtO1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICB9XG5cbiAgICAucm9sZS1pbmRpY2F0b3Ige1xuICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICB9XG5cbiAgICAubWVzc2FnZS1jb250ZW50IHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgfVxuICAgIFxuICAgIC5tZXNzYWdlLWNvbnRlbnQgLmNvcHktYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gICAgLm1lc3NhZ2UtY29udGVudCAuY29weS1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpO1xuICAgIH1cblxuICAgIC5tZXNzYWdlLWNvbnRlbnQgLmNvcHktYnV0dG9uIDpnbG9iYWwoc3ZnKSB7XG4gICAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgfVxuXG5cbiAgICAubWVzc2FnZS1jb250ZW50IDpnbG9iYWwocDpmaXJzdC1jaGlsZCksXG4gICAgLm1lc3NhZ2UtY29udGVudCA6Z2xvYmFsKGgyOmZpcnN0LWNoaWxkKSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgfVxuXG5cdC5tZXNzYWdlLWNvbnRlbnQgOmdsb2JhbCh1bCkge1xuXHRcdG1hcmdpbi1sZWZ0OiAwO1xuXHRcdHBhZGRpbmctbGVmdDogMDtcblx0fVxuXG5cdC5tZXNzYWdlLWNvbnRlbnQgOmdsb2JhbChjb2RlKSB7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCk7XG5cdFx0cGFkZGluZzogMC4yZW0gMC40ZW07XG5cdFx0Ym9yZGVyLXJhZGl1czogM3B4O1xuXHRcdGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XG5cdH1cblxuXHQubWVzc2FnZS1jb250ZW50IDpnbG9iYWwocHJlKSB7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCk7XG5cdFx0cGFkZGluZzogMWVtO1xuXHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRvdmVyZmxvdy14OiBhdXRvO1xuXHR9XG5cblx0Lm1lc3NhZ2UtY29udGVudCA6Z2xvYmFsKGgxKSxcblx0Lm1lc3NhZ2UtY29udGVudCA6Z2xvYmFsKGgyKSxcblx0Lm1lc3NhZ2UtY29udGVudCA6Z2xvYmFsKGgzKSB7XG5cdFx0bWFyZ2luOiAwLjVlbSAwO1xuXHR9XG5cblx0Lm1lc3NhZ2UtY29udGVudCA6Z2xvYmFsKGxpKSB7XG5cdFx0bWFyZ2luLWxlZnQ6IDEuNWVtO1xuXHR9XG5cbiAgICAudHlwaW5nLWluZGljYXRvciB7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMC40cmVtO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAudHlwaW5nLWluZGljYXRvciBzcGFuIHtcbiAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBhbmltYXRpb246IGJvdW5jZSAxLjRzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIC50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDEpIHtcbiAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAtMC4zMnM7XG4gICAgfVxuICAgIC50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDIpIHtcbiAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAtMC4xNnM7XG4gICAgfVxuXG4gICAgQGtleWZyYW1lcyBib3VuY2Uge1xuICAgICAgICAwJSxcbiAgICAgICAgODAlLFxuICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7XG4gICAgICAgIH1cbiAgICAgICAgNDAlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuY3Vyc29yIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICB3aWR0aDogMC42ZW07XG4gICAgICAgIGFuaW1hdGlvbjogYmxpbmsgMXMgc3RlcC1lbmQgaW5maW5pdGU7XG4gICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICB9XG5cbiAgICBAa2V5ZnJhbWVzIGJsaW5rIHtcbiAgICAgICAgMCUsIDEwMCUgeyBvcGFjaXR5OiAwOyB9XG4gICAgICAgIDUwJSB7IG9wYWNpdHk6IDE7IH1cbiAgICB9XG48L3N0eWxlPlxuIiwiPCEtLSBTb3VyY2VkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9sdWNpZGUtaWNvbnMvbHVjaWRlL3RyZWUvbWFpbi9pY29ucyAtLT5cbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImx1Y2lkZSBsdWNpZGUtc2VuZFwiPjxwYXRoIGQ9XCJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6XCIvPjxwYXRoIGQ9XCJtMjEuODU0IDIuMTQ3LTEwLjk0IDEwLjkzOVwiLz48L3N2Zz4iLCI8IS0tIFNvdXJjZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2x1Y2lkZS1pY29ucy9sdWNpZGUvdHJlZS9tYWluL2ljb25zIC0tPlxuPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwibHVjaWRlIGx1Y2lkZS1maWx0ZXJcIj48cG9seWdvbiBwb2ludHM9XCIyMiAzIDIgMyAxMCAxMi40NiAxMCAxOSAxNCAyMSAxNCAxMi40NiAyMiAzXCIvPjwvc3ZnPiIsIjwhLS0gU291cmNlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbHVjaWRlLWljb25zL2x1Y2lkZS90cmVlL21haW4vaWNvbnMgLS0+XG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJsdWNpZGUgbHVjaWRlLWVyYXNlclwiPjxwYXRoIGQ9XCJtNyAyMS00LjMtNC4zYy0xLTEtMS0yLjUgMC0zLjRsOS42LTkuNmMxLTEgMi41LTEgMy40IDBsNS42IDUuNmMxIDEgMSAyLjUgMCAzLjRMMTMgMjFcIi8+PHBhdGggZD1cIk0yMiAyMUg3XCIvPjxwYXRoIGQ9XCJtNSAxMSA5IDlcIi8+PC9zdmc+IiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCB7IGZhZGUgfSBmcm9tIFwic3ZlbHRlL3RyYW5zaXRpb25cIjtcblxuICAgIGltcG9ydCBTZW5kIGZyb20gXCIuL2ljb25zL3NlbmQuc3ZlbHRlXCI7XG4gICAgaW1wb3J0IEZpbHRlciBmcm9tIFwiLi9pY29ucy9maWx0ZXIuc3ZlbHRlXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBWZWN0b3JpemVGaWx0ZXIsIEZpbHRlck9wZXJhdG9yLCBNZXNzYWdlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG4gICAgaW1wb3J0IENsZWFuIGZyb20gXCIuL2ljb25zL2NsZWFuLnN2ZWx0ZVwiO1xuICAgIGltcG9ydCBDb3B5IGZyb20gXCIuL2ljb25zL2NvcHkuc3ZlbHRlXCI7XG5cbiAgICBleHBvcnQgbGV0IGlzUHJvY2Vzc2luZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGV4cG9ydCBsZXQgbWVzc2FnZXM6IE1lc3NhZ2VbXSA9IFtdO1xuICAgIGV4cG9ydCBsZXQgb25TZW5kTWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZywgZmlsdGVyczogVmVjdG9yaXplRmlsdGVyKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIGV4cG9ydCBsZXQgb25DbGVhck1lc3NhZ2VzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIGV4cG9ydCBsZXQgb25Db3B5Q29udmVyc2F0aW9uOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gICAgbGV0IGlucHV0VGV4dCA9IFwiXCI7XG4gICAgbGV0IHRleHRBcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIGxldCBmaWx0ZXJzOiBWZWN0b3JpemVGaWx0ZXIgPSB7fTtcbiAgICBsZXQgc2hvd0ZpbHRlcnMgPSBmYWxzZTtcbiAgICBsZXQgaW5wdXRDb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xuXG4gICAgY29uc3QgZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAgeyBmaWVsZDogXCJjcmVhdGVkWWVhclwiLCB0eXBlOiBcIm51bWJlclwiLCBsYWJlbDogXCJDcmVhdGVkIFllYXJcIiB9LFxuICAgICAgICB7IGZpZWxkOiBcImNyZWF0ZWRNb250aFwiLCB0eXBlOiBcIm51bWJlclwiLCBsYWJlbDogXCJDcmVhdGVkIE1vbnRoXCIgfSxcbiAgICAgICAgeyBmaWVsZDogXCJtb2RpZmllZFllYXJcIiwgdHlwZTogXCJudW1iZXJcIiwgbGFiZWw6IFwiTW9kaWZpZWQgWWVhclwiIH0sXG4gICAgICAgIHsgZmllbGQ6IFwibW9kaWZpZWRNb250aFwiLCB0eXBlOiBcIm51bWJlclwiLCBsYWJlbDogXCJNb2RpZmllZCBNb250aFwiIH0sXG4gICAgICAgIHsgZmllbGQ6IFwiZXh0ZW5zaW9uXCIsIHR5cGU6IFwic3RyaW5nXCIsIGxhYmVsOiBcIkZpbGUgVHlwZVwiIH0sXG4gICAgXSBhcyBjb25zdDtcblxuICAgIGNvbnN0IGFkanVzdFRleHRBcmVhSGVpZ2h0ID0gKCkgPT4ge1xuICAgICAgICBpZiAodGV4dEFyZWEpIHtcbiAgICAgICAgICAgIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9IFwiMjRweFwiO1xuICAgICAgICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5tYXgodGV4dEFyZWEuc2Nyb2xsSGVpZ2h0LCAyNCksIDIwMCk7XG4gICAgICAgICAgICB0ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xuICAgICAgICAgICAgaWYgKGlucHV0Q29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7bmV3SGVpZ2h0ICsgNjZ9cHhgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIG9uTW91bnQoKCkgPT4ge1xuICAgICAgICBpZiAodGV4dEFyZWEpIHtcbiAgICAgICAgICAgIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9IFwiMjRweFwiO1xuICAgICAgICAgICAgaW5wdXRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCI5MHB4XCI7XG4gICAgICAgICAgICBhZGp1c3RUZXh0QXJlYUhlaWdodCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChpbnB1dFRleHQudHJpbSgpICYmICFpc1Byb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VUb1NlbmQgPSBpbnB1dFRleHQudHJpbSgpO1xuICAgICAgICAgICAgaW5wdXRUZXh0ID0gXCJcIjtcbiAgICAgICAgICAgIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9IFwiMjRweFwiO1xuICAgICAgICAgICAgaW5wdXRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCI5MHB4XCI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgb25TZW5kTWVzc2FnZShtZXNzYWdlVG9TZW5kLCBmaWx0ZXJzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNlbmRpbmcgbWVzc2FnZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGlucHV0VGV4dCA9IG1lc3NhZ2VUb1NlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVGb3JtQ2hhbmdlKGU6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBlLnRhcmdldCBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0uY2xvc2VzdChcImZvcm1cIikgfHwgZm9ybSk7XG5cbiAgICAgICAgZmlsdGVyT3B0aW9ucy5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZm9ybURhdGEuZ2V0KG9wdGlvbi5maWVsZCk7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbb3B0aW9uLmZpZWxkXTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb24udHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gKGZvcm1EYXRhLmdldChgJHtvcHRpb24uZmllbGR9LW9wYCkgYXMgRmlsdGVyT3BlcmF0b3IpIHx8IFwiJGVxXCI7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tvcHRpb24uZmllbGRdID0geyBbb3BdOiBOdW1iZXIodmFsdWUpIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbb3B0aW9uLmZpZWxkXSA9IHsgJGVxOiBTdHJpbmcodmFsdWUpIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiaW5wdXQtd3JhcHBlclwiPlxuICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1jb250YWluZXJcIiBiaW5kOnRoaXM9e2lucHV0Q29udGFpbmVyfT5cbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICBiaW5kOnRoaXM9e3RleHRBcmVhfVxuICAgICAgICAgICAgYmluZDp2YWx1ZT17aW5wdXRUZXh0fVxuICAgICAgICAgICAgb246aW5wdXQ9e2FkanVzdFRleHRBcmVhSGVpZ2h0fVxuICAgICAgICAgICAgb246a2V5ZG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB5b3VyIG1lc3NhZ2UgaGVyZS4uLlwiXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nfVxuICAgICAgICAgICAgcm93cz1cIjFcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk1lc3NhZ2UgaW5wdXRcIlxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVmdC1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFjdGlvbi1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gKHNob3dGaWx0ZXJzID0gIXNob3dGaWx0ZXJzKX1cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD17c2hvd0ZpbHRlcnN9XG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3Nob3dGaWx0ZXJzID8gXCJIaWRlIFJBRyBGaWx0ZXJzXCIgOiBcIlNob3cgUkFHIEZpbHRlcnNcIn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGaWx0ZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2hvd0ZpbHRlcnMgPyBcIkhpZGUgUkFHIEZpbHRlcnNcIiA6IFwiU2hvdyBSQUcgRmlsdGVyc1wifVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgeyNpZiBtZXNzYWdlcz8ubGVuZ3RoID4gMH1cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idXR0b25cIiBvbjpjbGljaz17b25DbGVhck1lc3NhZ2VzfSBhcmlhLWxhYmVsPVwiQ2xlYXIgQ2hhdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENsZWFuIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5DbGVhciBDaGF0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJhY3Rpb24tYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXtvbkNvcHlDb252ZXJzYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ29weSBDb252ZXJzYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29weSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Q29weSBDb252ZXJzYXRpb248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImFkZGl0aW9uYWwtYWN0aW9uc1wiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwic2VuZC1idXR0b25cIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1Byb2Nlc3NpbmcgfHwgIWlucHV0VGV4dC50cmltKCl9XG4gICAgICAgICAgICAgICAgb246Y2xpY2s9e2hhbmRsZVN1Ym1pdH1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2VuZCBtZXNzYWdlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VuZCAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPlNlbmQ8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICB7I2lmIHNob3dGaWx0ZXJzfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyc1wiIGluOmZhZGU9e3sgZHVyYXRpb246IDIwMCB9fSBvdXQ6ZmFkZT17eyBkdXJhdGlvbjogMjAwIH19PlxuICAgICAgICAgICAgPGZvcm0gb246Y2hhbmdlPXtoYW5kbGVGb3JtQ2hhbmdlfT5cbiAgICAgICAgICAgICAgICB7I2VhY2ggZmlsdGVyT3B0aW9ucyBhcyBvcHRpb259XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPXtvcHRpb24uZmllbGR9PntvcHRpb24ubGFiZWx9PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgb3B0aW9uLnR5cGUgPT09IFwibnVtYmVyXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1pbnB1dHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPXtgJHtvcHRpb24uZmllbGR9LW9wYH0gY2xhc3M9XCJvcGVyYXRvci1zZWxlY3RcIiBhcmlhLWxhYmVsPVwiRmlsdGVyIG9wZXJhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJGVxXCI+PTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiRndGVcIj57YD49YH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIkbHRlXCI+e2A8PWB9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9e29wdGlvbi5maWVsZH0gY2xhc3M9XCJ2YWx1ZS1zZWxlY3RcIiBhcmlhLWxhYmVsPVwiRmlsdGVyIHZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+QW55PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIG9wdGlvbi5maWVsZC5pbmNsdWRlcyhcIlllYXJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIEFycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgKF8sIGkpID0+IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIGkpIGFzIHllYXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e3llYXJ9Pnt5ZWFyfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggQXJyYXkuZnJvbSh7IGxlbmd0aDogMTIgfSwgKF8sIGkpID0+IGkgKyAxKSBhcyBtb250aH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17bW9udGh9Pnttb250aH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9e29wdGlvbi5maWVsZH0gY2xhc3M9XCJmdWxsLXdpZHRoXCIgYXJpYS1sYWJlbD1cIkZpbHRlciB2YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+QW55PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtZFwiPk1hcmtkb3duPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5pbnB1dC13cmFwcGVyIHtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICAgICAgcGFkZGluZy10b3A6IDFyZW07XG4gICAgfVxuXG4gICAgLmlucHV0LWNvbnRhaW5lciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBwYWRkaW5nOiAwLjc1cmVtO1xuICAgICAgICBtaW4taGVpZ2h0OiA1NnB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDAuNzVyZW07XG4gICAgfVxuXG4gICAgdGV4dGFyZWEge1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICByZXNpemU6IG5vbmU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xuICAgICAgICBtaW4taGVpZ2h0OiAyNHB4O1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMC43NXJlbTtcbiAgICB9XG5cbiAgICB0ZXh0YXJlYTpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgfVxuXG4gICAgLmFjdGlvbnMtY29udGFpbmVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDAuNzVyZW07XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICB9XG5cbiAgICAubGVmdC1hY3Rpb25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAwLjc1cmVtO1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgfVxuXG4gICAgLmFjdGlvbi1idXR0b24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNik7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbSAwLjc1cmVtO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB9XG5cbiAgICAuYWN0aW9uLWJ1dHRvbiA6Z2xvYmFsKHN2Zykge1xuICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgIH1cblxuICAgIC5hY3Rpb24tYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgIH1cblxuICAgIC5zZW5kLWJ1dHRvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYig5OSwgODIsIDE3MSk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbSAwLjc1cmVtO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIG1pbi13aWR0aDogODBweDtcbiAgICB9XG5cbiAgICAuc2VuZC1idXR0b24gOmdsb2JhbChzdmcpIHtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICB9XG5cbiAgICAuc2VuZC1idXR0b246ZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgfVxuXG4gICAgLmZpbHRlcnMge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgbWFyZ2luLXRvcDogMC41cmVtO1xuICAgIH1cblxuICAgIC5maWx0ZXItcm93IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjc1cmVtO1xuICAgIH1cblxuICAgIC5maWx0ZXItcm93Omxhc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIH1cblxuICAgIC5maWx0ZXItaW5wdXRzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAwLjVyZW07XG4gICAgfVxuXG4gICAgc2VsZWN0IHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgICAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTtcbiAgICB9XG5cbiAgICAub3BlcmF0b3Itc2VsZWN0IHtcbiAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgfVxuXG4gICAgLnZhbHVlLXNlbGVjdCB7XG4gICAgICAgIHdpZHRoOiAxMDBweDtcbiAgICB9XG5cbiAgICBzZWxlY3QuZnVsbC13aWR0aCB7XG4gICAgICAgIHdpZHRoOiAxNThweDtcbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgICAgICAgLmZpbHRlci1yb3cge1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgICAgICAgZ2FwOiAwLjVyZW07XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsdGVyLWlucHV0cyB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC52YWx1ZS1zZWxlY3QsXG4gICAgICAgIHNlbGVjdC5mdWxsLXdpZHRoIHtcbiAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAuYWN0aW9ucy1jb250YWluZXIge1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgLmxlZnQtYWN0aW9ucyB7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0cmV0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICAuYWN0aW9uLWJ1dHRvbixcbiAgICAgICAgLnNlbmQtYnV0dG9uIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgfVxuPC9zdHlsZT5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB0eXBlIHsgTWVzc2FnZSwgVmVjdG9yaXplRmlsdGVyIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cdGltcG9ydCBNZXNzYWdlTGlzdCBmcm9tIFwiLi9NZXNzYWdlTGlzdC5zdmVsdGVcIjtcblx0aW1wb3J0IENoYXRJbnB1dCBmcm9tIFwiLi9DaGF0SW5wdXQuc3ZlbHRlXCI7XG5cblx0ZXhwb3J0IGxldCBtZXNzYWdlczogTWVzc2FnZVtdID0gW107XG5cdGV4cG9ydCBsZXQgaXNQcm9jZXNzaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBzdHJlYW1pbmdDb250ZW50OiBzdHJpbmcgPSBcIlwiO1xuXHRleHBvcnQgbGV0IG9uU2VuZE1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcsIGZpbHRlcnM6IFZlY3Rvcml6ZUZpbHRlcikgPT4gUHJvbWlzZTx2b2lkPjtcblx0ZXhwb3J0IGxldCBvbkNsZWFyTWVzc2FnZXM6ICgpID0+IFByb21pc2U8dm9pZD47XG5cdGV4cG9ydCBsZXQgb25Db3B5Q29udmVyc2F0aW9uOiAoY29udGVudDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuXHRleHBvcnQgbGV0IG9uQ29weU1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImNoYXQtbW9kYWxcIj5cbiAgICA8TWVzc2FnZUxpc3RcbiAgICAgICAge2lzUHJvY2Vzc2luZ31cbiAgICAgICAge21lc3NhZ2VzfVxuICAgICAgICB7c3RyZWFtaW5nQ29udGVudH1cbiAgICAgICAge29uQ29weU1lc3NhZ2V9XG4gICAgLz5cbiAgICA8Q2hhdElucHV0IFxuICAgICAgICB7aXNQcm9jZXNzaW5nfVxuICAgICAgICB7bWVzc2FnZXN9XG4gICAgICAgIHtvblNlbmRNZXNzYWdlfVxuICAgICAgICB7b25DbGVhck1lc3NhZ2VzfVxuICAgICAgICB7b25Db3B5Q29udmVyc2F0aW9ufVxuICAgIC8+XG48L2Rpdj5cblxuPHN0eWxlPlxuXHQuY2hhdC1tb2RhbCB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRjb2xvcjogI2ZmZjtcblx0XHRmb250LWZhbWlseTpcblx0XHRcdHN5c3RlbS11aSxcblx0XHRcdC1hcHBsZS1zeXN0ZW0sXG5cdFx0XHRCbGlua01hY1N5c3RlbUZvbnQsXG5cdFx0XHRcIlNlZ29lIFVJXCIsXG5cdFx0XHRzYW5zLXNlcmlmO1xuXHR9XG48L3N0eWxlPlxuIiwiaW1wb3J0IHsgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgU3ZlbHRlQ29tcG9uZW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuXG5pbXBvcnQgeyBCYXNlQ2hhdCB9IGZyb20gXCIuLi9zaGFyZWQvYmFzZS1jaGF0XCI7XG5pbXBvcnQgQ2hhdE1vZGFsQ29tcG9uZW50IGZyb20gXCIuLi9jb21wb25lbnRzL0NoYXRNb2RhbC5zdmVsdGVcIjtcblxuY2xhc3MgQ29uY3JldGVDaGF0IGV4dGVuZHMgQmFzZUNoYXQge31cblxuZXhwb3J0IGNsYXNzIENoYXRNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cHJpdmF0ZSBjaGF0OiBDb25jcmV0ZUNoYXQ7XG5cblx0Y29uc3RydWN0b3IoLi4uYXJnczogQ29uc3RydWN0b3JQYXJhbWV0ZXJzPHR5cGVvZiBCYXNlQ2hhdD4pIHtcblx0XHRzdXBlcihhcmdzWzBdKTtcblx0XHR0aGlzLmNoYXQgPSBuZXcgQ29uY3JldGVDaGF0KC4uLmFyZ3MpO1xuXHRcdHRoaXMuY2hhdC5jb250ZW50RWwgPSB0aGlzLmNvbnRlbnRFbDtcblx0fVxuXG5cdG9uT3BlbigpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0XHRjb250ZW50RWwuYWRkQ2xhc3MoXCJjaGF0LW1vZGFsXCIpO1xuXHRcdHRoaXMuY2hhdC5pbml0aWFsaXplQ29tcG9uZW50KFxuXHRcdFx0Y29udGVudEVsLFxuXHRcdFx0Q2hhdE1vZGFsQ29tcG9uZW50IGFzIHR5cGVvZiBTdmVsdGVDb21wb25lbnQsXG5cdFx0KTtcblx0fVxuXG5cdG9uQ2xvc2UoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0dGhpcy5jaGF0LmNsZWFudXAoKTtcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0XHRjb250ZW50RWwucmVtb3ZlQ2xhc3MoXCJjaGF0LW1vZGFsXCIpO1xuXHR9XG59XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB0eXBlIHsgTWVzc2FnZSwgVmVjdG9yaXplRmlsdGVyIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG4gICAgaW1wb3J0IE1lc3NhZ2VMaXN0IGZyb20gXCIuL01lc3NhZ2VMaXN0LnN2ZWx0ZVwiO1xuICAgIGltcG9ydCBDaGF0SW5wdXQgZnJvbSBcIi4vQ2hhdElucHV0LnN2ZWx0ZVwiO1xuXG4gICAgZXhwb3J0IGxldCBtZXNzYWdlczogTWVzc2FnZVtdID0gW107XG4gICAgZXhwb3J0IGxldCBpc1Byb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IHN0cmVhbWluZ0NvbnRlbnQ6IHN0cmluZyA9IFwiXCI7XG4gICAgZXhwb3J0IGxldCBvblNlbmRNZXNzYWdlOiAobWVzc2FnZTogc3RyaW5nLCBmaWx0ZXJzOiBWZWN0b3JpemVGaWx0ZXIpID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCBvbkNsZWFyTWVzc2FnZXM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCBvbkNvcHlDb252ZXJzYXRpb246IChjb250ZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCBvbkNvcHlNZXNzYWdlOiAobWVzc2FnZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJjaGF0LXZpZXdcIj5cbiAgICA8TWVzc2FnZUxpc3RcbiAgICAgICAge2lzUHJvY2Vzc2luZ31cbiAgICAgICAge21lc3NhZ2VzfVxuICAgICAgICB7c3RyZWFtaW5nQ29udGVudH1cbiAgICAgICAge29uQ29weU1lc3NhZ2V9XG4gICAgLz5cbiAgICA8Q2hhdElucHV0IFxuICAgICAgICB7aXNQcm9jZXNzaW5nfVxuICAgICAgICB7bWVzc2FnZXN9XG4gICAgICAgIHtvblNlbmRNZXNzYWdlfVxuICAgICAgICB7b25DbGVhck1lc3NhZ2VzfVxuICAgICAgICB7b25Db3B5Q29udmVyc2F0aW9ufVxuICAgIC8+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5jaGF0LXZpZXcge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG5cdFx0Y29sb3I6ICNmZmY7XG5cdFx0Zm9udC1mYW1pbHk6XG5cdFx0XHRzeXN0ZW0tdWksXG5cdFx0XHQtYXBwbGUtc3lzdGVtLFxuXHRcdFx0QmxpbmtNYWNTeXN0ZW1Gb250LFxuXHRcdFx0XCJTZWdvZSBVSVwiLFxuXHRcdFx0c2Fucy1zZXJpZjtcbiAgICB9XG48L3N0eWxlPiIsImltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSB7IFN2ZWx0ZUNvbXBvbmVudCB9IGZyb20gXCJzdmVsdGVcIjtcblxuaW1wb3J0IHsgUExVR0lOX1BSRUZJWCB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEJhc2VDaGF0IH0gZnJvbSBcIi4uL3NoYXJlZC9iYXNlLWNoYXRcIjtcbmltcG9ydCBDaGF0Vmlld0NvbXBvbmVudCBmcm9tIFwiLi4vY29tcG9uZW50cy9DaGF0Vmlldy5zdmVsdGVcIjtcblxuY2xhc3MgQ29uY3JldGVDaGF0IGV4dGVuZHMgQmFzZUNoYXQge31cblxuZXhwb3J0IGNsYXNzIENoYXRWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRwcml2YXRlIGNoYXQ6IENvbmNyZXRlQ2hhdDtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRsZWFmOiBXb3Jrc3BhY2VMZWFmLFxuXHRcdC4uLmFyZ3M6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgQmFzZUNoYXQ+XG5cdCkge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMuY2hhdCA9IG5ldyBDb25jcmV0ZUNoYXQoLi4uYXJncyk7XG5cdFx0dGhpcy5jaGF0LmNvbnRlbnRFbCA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQ7XG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBQTFVHSU5fUFJFRklYO1xuXHR9XG5cblx0Z2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gXCJBSSBDaGF0XCI7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHR0aGlzLmNoYXQuaW5pdGlhbGl6ZUNvbXBvbmVudChcblx0XHRcdGNvbnRhaW5lcixcblx0XHRcdENoYXRWaWV3Q29tcG9uZW50IGFzIHR5cGVvZiBTdmVsdGVDb21wb25lbnQsXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblx0XHR0aGlzLmNoYXQuY2xlYW51cCgpO1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSB7IFRlbXBsYXRlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBUZXh0R2VuZXJhdG9yTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdHByaXZhdGUgdmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cdHByaXZhdGUgb25TdWJtaXRDYWxsYmFjaz86IChcblx0XHR2YXJpYWJsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG5cdCkgPT4gUHJvbWlzZTx2b2lkPjtcblx0cHJpdmF0ZSBpbnB1dFNldHRpbmdzOiBTZXR0aW5nW10gPSBbXTtcblx0cHJpdmF0ZSBnZW5lcmF0ZUJ1dHRvbj86IFNldHRpbmc7XG5cdHByaXZhdGUgaXNHZW5lcmF0aW5nID0gZmFsc2U7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHByaXZhdGUgdGVtcGxhdGU6IFRlbXBsYXRlKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCwgdGl0bGVFbCB9ID0gdGhpcztcblx0XHR0aXRsZUVsLnNldFRleHQodGhpcy50ZW1wbGF0ZS5uYW1lKTtcblxuXHRcdGlmICh0aGlzLnRlbXBsYXRlLmRlc2NyaXB0aW9uKSB7XG5cdFx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJwXCIsIHsgdGV4dDogdGhpcy50ZW1wbGF0ZS5kZXNjcmlwdGlvbiB9KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy50ZW1wbGF0ZS52YXJpYWJsZXMpIHtcblx0XHRcdHRoaXMudGVtcGxhdGUudmFyaWFibGVzLmZvckVhY2goKHZhcmlhYmxlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50RWwpXG5cdFx0XHRcdFx0LnNldE5hbWUodmFyaWFibGUpXG5cdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKGBFbnRlciAke3ZhcmlhYmxlfWApLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnZhcmlhYmxlc1t2YXJpYWJsZV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdHRoaXMuaW5wdXRTZXR0aW5ncy5wdXNoKHNldHRpbmcpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaXNHZW5lcmF0aW5nKSB7XG5cdFx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJwXCIsIHsgdGV4dDogXCJHZW5lcmF0aW5nLi4uXCIgfSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5nZW5lcmF0ZUJ1dHRvbiA9IG5ldyBTZXR0aW5nKGNvbnRlbnRFbCkuYWRkQnV0dG9uKChidG4pID0+XG5cdFx0XHRidG5cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoXCJHZW5lcmF0ZVwiKVxuXHRcdFx0XHQuc2V0Q3RhKClcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2V0R2VuZXJhdGluZyh0cnVlKTtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5vblN1Ym1pdENhbGxiYWNrPy4odGhpcy52YXJpYWJsZXMpO1xuXHRcdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldEdlbmVyYXRpbmcoZmFsc2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSksXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgc2V0R2VuZXJhdGluZyhnZW5lcmF0aW5nOiBib29sZWFuKSB7XG5cdFx0dGhpcy5pc0dlbmVyYXRpbmcgPSBnZW5lcmF0aW5nO1xuXHRcdHRoaXMuaW5wdXRTZXR0aW5ncy5mb3JFYWNoKChzZXR0aW5nKSA9PiBzZXR0aW5nLnNldERpc2FibGVkKGdlbmVyYXRpbmcpKTtcblx0XHR0aGlzLmdlbmVyYXRlQnV0dG9uPy5zZXREaXNhYmxlZChnZW5lcmF0aW5nKTtcblx0XHRjb25zdCBidG5FbCA9IHRoaXMuZ2VuZXJhdGVCdXR0b24/LmNvbnRyb2xFbC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpO1xuXHRcdGlmIChidG5FbCkge1xuXHRcdFx0YnRuRWwudGV4dENvbnRlbnQgPSBnZW5lcmF0aW5nID8gXCJHZW5lcmF0aW5nLi4uXCIgOiBcIkdlbmVyYXRlXCI7XG5cdFx0fVxuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxuXG5cdG9uU3VibWl0KGNhbGxiYWNrOiAodmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSA9PiBQcm9taXNlPHZvaWQ+KSB7XG5cdFx0dGhpcy5vblN1Ym1pdENhbGxiYWNrID0gY2FsbGJhY2s7XG5cdH1cbn1cbiIsImltcG9ydCB7IE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgeyBBcHAsIEVkaXRvciwgRWRpdG9yUG9zaXRpb24gfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHR5cGUgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuaW1wb3J0IHR5cGUgeyBDbG91ZGZsYXJlQUlHYXRld2F5IH0gZnJvbSBcIi4vY2xvdWRmbGFyZS1haS1nYXRld2F5XCI7XG5pbXBvcnQgdHlwZSB7IENsb3VkZmxhcmVBSVBsdWdpblNldHRpbmdzLCBUZW1wbGF0ZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBUZW1wbGF0ZU1hbmFnZXIgfSBmcm9tIFwiLi90ZW1wbGF0ZS1tYW5hZ2VyXCI7XG5pbXBvcnQgeyBUZXh0R2VuZXJhdG9yTW9kYWwgfSBmcm9tIFwiLi4vbW9kYWxzL2dlbmVyYXRlLXRleHRcIjtcblxuZXhwb3J0IGNsYXNzIFRleHRHZW5lcmF0aW9uU2VydmljZSB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgYXBwOiBBcHAsXG5cdFx0cHJpdmF0ZSBsb2dnZXI6IExvZ2dlcixcblx0XHRwcml2YXRlIGdhdGV3YXk6IENsb3VkZmxhcmVBSUdhdGV3YXksXG5cdFx0cHJpdmF0ZSBzZXR0aW5nczogQ2xvdWRmbGFyZUFJUGx1Z2luU2V0dGluZ3MsXG5cdFx0cHJpdmF0ZSB0ZW1wbGF0ZU1hbmFnZXI6IFRlbXBsYXRlTWFuYWdlcixcblx0KSB7fVxuXG5cdGFzeW5jIGdlbmVyYXRlRnJvbVRlbXBsYXRlKFxuXHRcdHRlbXBsYXRlOiBUZW1wbGF0ZSxcblx0XHR2YXJpYWJsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG5cdCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0Y29uc3QgcHJvbXB0ID0gYXdhaXQgdGhpcy50ZW1wbGF0ZU1hbmFnZXIuYXBwbHlUZW1wbGF0ZShcblx0XHRcdHRlbXBsYXRlLFxuXHRcdFx0dmFyaWFibGVzLFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZVRleHQoe1xuXHRcdFx0cHJvbXB0LFxuXHRcdFx0bWF4VG9rZW5zOiB0aGlzLnNldHRpbmdzLm1heFRva2Vucyxcblx0XHRcdHRlbXBlcmF0dXJlOiB0aGlzLnNldHRpbmdzLnRlbXBlcmF0dXJlLFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgZ2VuZXJhdGVJbkVkaXRvcihcblx0XHRlZGl0b3I6IEVkaXRvcixcblx0XHRvcHRpb25zOiB7XG5cdFx0XHR0ZW1wbGF0ZU5hbWU/OiBzdHJpbmc7XG5cdFx0XHRpbnNlcnRBdEN1cnNvcj86IGJvb2xlYW47XG5cdFx0XHRyZXBsYWNlU2VsZWN0aW9uPzogYm9vbGVhbjtcblx0XHRcdHBvc2l0aW9uPzogeyBsaW5lOiBudW1iZXI7IGNoOiBudW1iZXIgfTtcblx0XHRcdHByZXBlbmRIYXNoPzogYm9vbGVhbjtcblx0XHRcdHJlcGxhY2VFeGlzdGluZz86IGJvb2xlYW47XG5cdFx0XHRyZXBsYWNlTGluZT86IG51bWJlcjtcblx0XHRcdGFkZE5ld2xpbmU/OiBib29sZWFuO1xuXHRcdFx0dGV4dD86IHN0cmluZztcblx0XHR9ID0ge30sXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRjb25zdCBjdXJzb3IgPSBvcHRpb25zLnBvc2l0aW9uIHx8IGVkaXRvci5nZXRDdXJzb3IoKTtcblx0XHRjb25zdCBsb2FkaW5nVGV4dCA9IFwi8J+kliBHZW5lcmF0aW5nLi4uXCI7XG5cdFx0bGV0IGxvYWRpbmdQb3NpdGlvbjogRWRpdG9yUG9zaXRpb24gfCB1bmRlZmluZWQ7XG5cblx0XHR0cnkge1xuXHRcdFx0aWYgKG9wdGlvbnMucmVwbGFjZUxpbmUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBsaW5lID0gZWRpdG9yLmdldExpbmUob3B0aW9ucy5yZXBsYWNlTGluZSk7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UoXG5cdFx0XHRcdFx0bG9hZGluZ1RleHQsXG5cdFx0XHRcdFx0eyBsaW5lOiBvcHRpb25zLnJlcGxhY2VMaW5lLCBjaDogMCB9LFxuXHRcdFx0XHRcdHsgbGluZTogb3B0aW9ucy5yZXBsYWNlTGluZSwgY2g6IGxpbmUubGVuZ3RoIH0sXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGxvYWRpbmdQb3NpdGlvbiA9IHsgbGluZTogb3B0aW9ucy5yZXBsYWNlTGluZSwgY2g6IDAgfTtcblx0XHRcdH0gZWxzZSBpZiAob3B0aW9ucy5yZXBsYWNlU2VsZWN0aW9uICYmIGVkaXRvci5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG5cdFx0XHRcdGNvbnN0IGZyb20gPSBlZGl0b3IuZ2V0Q3Vyc29yKFwiZnJvbVwiKTtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24obG9hZGluZ1RleHQpO1xuXHRcdFx0XHRsb2FkaW5nUG9zaXRpb24gPSBmcm9tO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShsb2FkaW5nVGV4dCwgY3Vyc29yKTtcblx0XHRcdFx0bG9hZGluZ1Bvc2l0aW9uID0gY3Vyc29yO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXcgTm90aWNlKGBHZW5lcmF0aW5nICR7b3B0aW9ucy50ZW1wbGF0ZU5hbWUgfHwgXCJ0ZXh0XCJ9Li4uYCk7XG5cblx0XHRcdGxldCB0ZXh0OiBzdHJpbmc7XG5cdFx0XHRpZiAob3B0aW9ucy50ZW1wbGF0ZU5hbWUpIHtcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShvcHRpb25zLnRlbXBsYXRlTmFtZSk7XG5cdFx0XHRcdGlmICghdGVtcGxhdGUpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFRlbXBsYXRlICR7b3B0aW9ucy50ZW1wbGF0ZU5hbWV9IG5vdCBmb3VuZGApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGV4dCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHtcblx0XHRcdFx0XHR0ZXh0OiBvcHRpb25zLnRleHQgfHwgc2VsZWN0aW9uIHx8IGVkaXRvci5nZXRWYWx1ZSgpLFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAob3B0aW9ucy5wcmVwZW5kSGFzaCAmJiAhdGV4dC5zdGFydHNXaXRoKFwiI1wiKSkge1xuXHRcdFx0XHRcdHRleHQgPSBcIiMgXCIgKyB0ZXh0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG9wdGlvbnMuYWRkTmV3bGluZSkge1xuXHRcdFx0XHRcdHRleHQgPSBgXFxuXFxuJHt0ZXh0fWA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlVGV4dCh7XG5cdFx0XHRcdFx0cHJvbXB0OiBzZWxlY3Rpb24sXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsb2FkaW5nRW5kUG9zaXRpb24gPSB7XG5cdFx0XHRcdGxpbmU6IGxvYWRpbmdQb3NpdGlvbi5saW5lLFxuXHRcdFx0XHRjaDogbG9hZGluZ1Bvc2l0aW9uLmNoICsgbG9hZGluZ1RleHQubGVuZ3RoLFxuXHRcdFx0fTtcblx0XHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UodGV4dCwgbG9hZGluZ1Bvc2l0aW9uLCBsb2FkaW5nRW5kUG9zaXRpb24pO1xuXG5cdFx0XHRuZXcgTm90aWNlKFwiR2VuZXJhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcblx0XHR9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuXHRcdFx0aWYgKGxvYWRpbmdQb3NpdGlvbikge1xuXHRcdFx0XHRjb25zdCBsb2FkaW5nRW5kUG9zaXRpb24gPSB7XG5cdFx0XHRcdFx0bGluZTogbG9hZGluZ1Bvc2l0aW9uLmxpbmUsXG5cdFx0XHRcdFx0Y2g6IGxvYWRpbmdQb3NpdGlvbi5jaCArIGxvYWRpbmdUZXh0Lmxlbmd0aCxcblx0XHRcdFx0fTtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShcIlwiLCBsb2FkaW5nUG9zaXRpb24sIGxvYWRpbmdFbmRQb3NpdGlvbik7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiR2VuZXJhdGlvbiBmYWlsZWRcIiwge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0fSk7XG5cdFx0XHRuZXcgTm90aWNlKFxuXHRcdFx0XHRcIkZhaWxlZCB0byBnZW5lcmF0ZTogXCIgK1xuXHRcdFx0XHRcdChlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcikpLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGdlbmVyYXRlVGV4dChvcHRpb25zOiB7XG5cdFx0cHJvbXB0OiBzdHJpbmc7XG5cdFx0bWF4VG9rZW5zPzogbnVtYmVyO1xuXHRcdHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXHR9KTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRpZiAoIW9wdGlvbnMucHJvbXB0KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQcm9tcHQgaXMgcmVxdWlyZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdhdGV3YXkuZ2VuZXJhdGVUZXh0KFtcblx0XHRcdHtcblx0XHRcdFx0cm9sZTogXCJ1c2VyXCIsXG5cdFx0XHRcdGNvbnRlbnQ6IG9wdGlvbnMucHJvbXB0LFxuXHRcdFx0fSxcblx0XHRdKTtcblxuXHRcdHJldHVybiByZXNwb25zZTtcblx0fVxuXG5cdGFzeW5jIGdlbmVyYXRlV2l0aE1vZGFsKFxuXHRcdGVkaXRvcjogRWRpdG9yLFxuXHRcdHRlbXBsYXRlTmFtZTogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHBvc2l0aW9uPzogeyBsaW5lOiBudW1iZXI7IGNoOiBudW1iZXIgfTtcblx0XHRcdHByZXBlbmRIYXNoPzogYm9vbGVhbjtcblx0XHRcdHJlcGxhY2VFeGlzdGluZz86IGJvb2xlYW47XG5cdFx0XHRyZXBsYWNlTGluZT86IG51bWJlcjtcblx0XHRcdGFkZE5ld2xpbmU/OiBib29sZWFuO1xuXHRcdH0gPSB7fSxcblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWUpO1xuXHRcdGlmICghdGVtcGxhdGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVGVtcGxhdGUgJHt0ZW1wbGF0ZU5hbWV9IG5vdCBmb3VuZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IG1vZGFsID0gbmV3IFRleHRHZW5lcmF0b3JNb2RhbCh0aGlzLmFwcCwgdGVtcGxhdGUpO1xuXG5cdFx0bW9kYWwub25TdWJtaXQoYXN5bmMgKHZhcmlhYmxlcykgPT4ge1xuXHRcdFx0bW9kYWwuY2xvc2UoKTtcblxuXHRcdFx0bmV3IE5vdGljZShcIkdlbmVyYXRpbmcuLi5cIik7XG5cblx0XHRcdGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCB7XG5cdFx0XHRcdC4uLnZhcmlhYmxlcyxcblx0XHRcdFx0dGV4dDogZWRpdG9yLmdldFZhbHVlKCksXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKG9wdGlvbnMucmVwbGFjZUxpbmUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBsaW5lID0gZWRpdG9yLmdldExpbmUob3B0aW9ucy5yZXBsYWNlTGluZSk7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UoXG5cdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHR7IGxpbmU6IG9wdGlvbnMucmVwbGFjZUxpbmUsIGNoOiAwIH0sXG5cdFx0XHRcdFx0eyBsaW5lOiBvcHRpb25zLnJlcGxhY2VMaW5lLCBjaDogbGluZS5sZW5ndGggfSxcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGN1cnNvciA9IG9wdGlvbnMucG9zaXRpb24gfHwgZWRpdG9yLmdldEN1cnNvcigpO1xuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKHRleHQsIGN1cnNvcik7XG5cdFx0XHR9XG5cblx0XHRcdG5ldyBOb3RpY2UoXCJHZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXHRcdH0pO1xuXG5cdFx0bW9kYWwub3BlbigpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IHBhcnNlWWFtbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuaW1wb3J0IHR5cGUgeyBUZW1wbGF0ZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9URU1QTEFURVMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZU1hbmFnZXIge1xuXHRwcml2YXRlIHRlbXBsYXRlczogTWFwPHN0cmluZywgVGVtcGxhdGU+ID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHAsIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXIpIHtcblx0XHRPYmplY3QuZW50cmllcyhERUZBVUxUX1RFTVBMQVRFUykuZm9yRWFjaCgoW2tleSwgdGVtcGxhdGVdKSA9PiB7XG5cdFx0XHR0aGlzLnRlbXBsYXRlcy5zZXQoa2V5LCB7IC4uLnRlbXBsYXRlLCBkZWZhdWx0OiB0cnVlIH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgbG9hZEN1c3RvbVRlbXBsYXRlcyhmb2xkZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHRlbXBsYXRlc0ZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXIpO1xuXHRcdGlmICghdGVtcGxhdGVzRm9sZGVyKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIk5vIGN1c3RvbSB0ZW1wbGF0ZXMgZm9sZGVyIGZvdW5kXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHRcblx0XHRcdC5nZXRNYXJrZG93bkZpbGVzKClcblx0XHRcdC5maWx0ZXIoKGZpbGUpID0+IGZpbGUucGF0aC5zdGFydHNXaXRoKGZvbGRlcikpO1xuXG5cdFx0Zm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGUgPSB0aGlzLnBhcnNlVGVtcGxhdGUoY29udGVudCk7XG5cdFx0XHRcdHRoaXMudGVtcGxhdGVzLnNldCh0ZW1wbGF0ZS5uYW1lLCB0ZW1wbGF0ZSk7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKGBMb2FkZWQgY3VzdG9tIHRlbXBsYXRlOiAke3RlbXBsYXRlLm5hbWV9YCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGUgJHtmaWxlLnBhdGh9YCwgeyBlcnJvciB9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHBhcnNlVGVtcGxhdGUoY29udGVudDogc3RyaW5nKTogVGVtcGxhdGUge1xuXHRcdGNvbnN0IGZyb250bWF0dGVyID0gdGhpcy5leHRyYWN0RnJvbnRtYXR0ZXIoY29udGVudCk7XG5cdFx0aWYgKCFmcm9udG1hdHRlci5uYW1lKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJUZW1wbGF0ZSBtdXN0IGhhdmUgYSBuYW1lXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRuYW1lOiBmcm9udG1hdHRlci5uYW1lLFxuXHRcdFx0ZGVzY3JpcHRpb246IGZyb250bWF0dGVyLmRlc2NyaXB0aW9uLFxuXHRcdFx0cHJvbXB0OiBjb250ZW50LnJlcGxhY2UoL14tLS1bXFxzXFxTXSo/LS0tLywgXCJcIikudHJpbSgpLFxuXHRcdFx0dmFyaWFibGVzOiBmcm9udG1hdHRlci52YXJpYWJsZXMsXG5cdFx0XHR0YWdzOiBmcm9udG1hdHRlci50YWdzLFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIGV4dHJhY3RGcm9udG1hdHRlcihjb250ZW50OiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcblx0XHRjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS0vKTtcblx0XHRpZiAoIW1hdGNoKSByZXR1cm4ge307XG5cblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHBhcnNlWWFtbChtYXRjaFsxXSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHRlbXBsYXRlIGZyb250bWF0dGVyXCIsIHsgZXJyb3IgfSk7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgYXBwbHlUZW1wbGF0ZShcblx0XHR0ZW1wbGF0ZTogVGVtcGxhdGUsXG5cdFx0dmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuXHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGxldCBwcm9tcHQgPSB0ZW1wbGF0ZS5wcm9tcHQ7XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFyaWFibGVzKSkge1xuXHRcdFx0cHJvbXB0ID0gcHJvbXB0LnJlcGxhY2UoYHt7JHtrZXl9fX1gLCB2YWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiBwcm9tcHQ7XG5cdH1cblxuXHRnZXRUZW1wbGF0ZShuYW1lOiBzdHJpbmcpOiBUZW1wbGF0ZSB8IHVuZGVmaW5lZCB7XG5cdFx0cmV0dXJuIHRoaXMudGVtcGxhdGVzLmdldChuYW1lKTtcblx0fVxuXG5cdGdldFRlbXBsYXRlcygpOiBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4ge1xuXHRcdHJldHVybiB0aGlzLnRlbXBsYXRlcztcblx0fVxufVxuIiwiaW1wb3J0IHsgTm90aWNlLCBQbHVnaW4sIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgXCJ2aXJ0dWFsOnVuby5jc3NcIjtcbmltcG9ydCB7IENsb3VkZmxhcmVBSVNldHRpbmdzVGFiIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxuaW1wb3J0IHsgQ2hhdE1vZGFsIH0gZnJvbSBcIi4vbW9kYWxzL2NoYXRcIjtcbmltcG9ydCB7IENsb3VkZmxhcmVBSUdhdGV3YXkgfSBmcm9tIFwiLi9zZXJ2aWNlcy9jbG91ZGZsYXJlLWFpLWdhdGV3YXlcIjtcbmltcG9ydCB7IFN5bmNTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXMvc3luY1wiO1xuaW1wb3J0IHsgQ2xvdWRmbGFyZVZlY3Rvcml6ZSB9IGZyb20gXCIuL3NlcnZpY2VzL2Nsb3VkZmxhcmUtdmVjdG9yaXplXCI7XG5pbXBvcnQgdHlwZSB7IENsb3VkZmxhcmVBSVBsdWdpblNldHRpbmdzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL2xpYi9sb2dnZXJcIjtcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIFBMVUdJTl9OQU1FIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBzYWZlU3RvcmFnZSB9IGZyb20gXCIuL2xpYi9zYWZlU3RvcmFnZVwiO1xuaW1wb3J0IHsgUExVR0lOX1BSRUZJWCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQ2hhdFZpZXcgfSBmcm9tIFwiLi92aWV3cy9jaGF0XCI7XG5pbXBvcnQgeyBzZXRHbG9iYWxMb2dnZXJDb25maWcgfSBmcm9tIFwiLi9saWIvbG9nZ2VyLWNvbmZpZ1wiO1xuaW1wb3J0IHsgVGV4dEdlbmVyYXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXMvdGV4dC1nZW5lcmF0b3JcIjtcbmltcG9ydCB7IFRlbXBsYXRlTWFuYWdlciB9IGZyb20gXCIuL3NlcnZpY2VzL3RlbXBsYXRlLW1hbmFnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xvdWRmbGFyZUFJUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0cHVibGljIHNldHRpbmdzITogQ2xvdWRmbGFyZUFJUGx1Z2luU2V0dGluZ3M7XG5cdHByaXZhdGUgZ2F0ZXdheSE6IENsb3VkZmxhcmVBSUdhdGV3YXk7XG5cdHByaXZhdGUgdmVjdG9yaXplITogQ2xvdWRmbGFyZVZlY3Rvcml6ZTtcblx0cHJpdmF0ZSBzeW5jU2VydmljZSE6IFN5bmNTZXJ2aWNlO1xuXHRwcml2YXRlIHN5bmNTdGF0dXNCYXIhOiBIVE1MRWxlbWVudDtcblx0cHJpdmF0ZSBzeW5jSW50ZXJ2YWw/OiBudW1iZXI7XG5cdHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cblx0cHJpdmF0ZSBnZXREZWNyeXB0ZWRBcGlLZXkoZW5jcnlwdGVkS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGlmICghZW5jcnlwdGVkS2V5KSByZXR1cm4gXCJcIjtcblxuXHRcdHRyeSB7XG5cdFx0XHRpZiAoc2FmZVN0b3JhZ2UuaXNFbmNyeXB0aW9uQXZhaWxhYmxlKCkpIHtcblx0XHRcdFx0cmV0dXJuIHNhZmVTdG9yYWdlLmRlY3J5cHRTdHJpbmcoQnVmZmVyLmZyb20oZW5jcnlwdGVkS2V5LCBcImJhc2U2NFwiKSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGRlY3J5cHQgQVBJIGtleTpcIiwge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHJldHVybiBlbmNyeXB0ZWRLZXk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGluaXRpYWxpemVTZXJ2aWNlcygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBkZWNyeXB0ZWRBaUFwaUtleSA9IHRoaXMuZ2V0RGVjcnlwdGVkQXBpS2V5KFxuXHRcdFx0dGhpcy5zZXR0aW5ncy5jbG91ZGZsYXJlQWlBcGlLZXksXG5cdFx0KTtcblx0XHRjb25zdCBkZWNyeXB0ZWRWZWN0b3JpemVBcGlLZXkgPSB0aGlzLmdldERlY3J5cHRlZEFwaUtleShcblx0XHRcdHRoaXMuc2V0dGluZ3MuY2xvdWRmbGFyZVZlY3Rvcml6ZUFwaUtleSxcblx0XHQpO1xuXG5cdFx0dGhpcy5nYXRld2F5ID0gbmV3IENsb3VkZmxhcmVBSUdhdGV3YXkoXG5cdFx0XHR0aGlzLmxvZ2dlcixcblx0XHRcdHRoaXMuc2V0dGluZ3MuY2xvdWRmbGFyZUFjY291bnRJZCxcblx0XHRcdHRoaXMuc2V0dGluZ3MuY2xvdWRmbGFyZUFpR2F0ZXdheUlkLFxuXHRcdFx0ZGVjcnlwdGVkQWlBcGlLZXksXG5cdFx0XHR0aGlzLnNldHRpbmdzLm1vZGVsSWQsXG5cdFx0XHR0aGlzLnNldHRpbmdzLm1heFRva2Vucyxcblx0XHRcdHRoaXMuc2V0dGluZ3MudGVtcGVyYXR1cmUsXG5cdFx0KTtcblxuXHRcdHRoaXMudmVjdG9yaXplID0gbmV3IENsb3VkZmxhcmVWZWN0b3JpemUoXG5cdFx0XHR0aGlzLmxvZ2dlcixcblx0XHRcdHRoaXMuc2V0dGluZ3MuY2xvdWRmbGFyZUFjY291bnRJZCxcblx0XHRcdGRlY3J5cHRlZFZlY3Rvcml6ZUFwaUtleSxcblx0XHRcdHRoaXMuc2V0dGluZ3MudmVjdG9yaXplSW5kZXhOYW1lLFxuXHRcdCk7XG5cblx0XHR0aGlzLnN5bmNTZXJ2aWNlID0gbmV3IFN5bmNTZXJ2aWNlKFxuXHRcdFx0dGhpcy5hcHAsXG5cdFx0XHR0aGlzLmxvZ2dlcixcblx0XHRcdHRoaXMudmVjdG9yaXplLFxuXHRcdFx0dGhpcy5nYXRld2F5LFxuXHRcdFx0dGhpcy5zZXR0aW5ncy50ZXh0RW1iZWRkaW5nc01vZGVsSWQsXG5cdFx0XHR0aGlzLnNldHRpbmdzLmlnbm9yZWRGb2xkZXJzLFxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIHNldHVwU3luY0ludGVydmFsKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnN5bmNJbnRlcnZhbCkge1xuXHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5zeW5jSW50ZXJ2YWwpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnN5bmNFbmFibGVkKSB7XG5cdFx0XHR0aGlzLnN5bmNJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChcblx0XHRcdFx0KCkgPT4gdGhpcy5zeW5jTm90ZXMoKSxcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5hdXRvU3luY0ludGVydmFsICogNjAgKiAxMDAwLFxuXHRcdFx0KTtcblx0XHRcdHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh0aGlzLnN5bmNJbnRlcnZhbCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHRcdGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVNlcnZpY2VzKCk7XG5cdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5ncyBsb2FkZWRcIik7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0XHRhd2FpdCB0aGlzLmluaXRpYWxpemVTZXJ2aWNlcygpO1xuXHRcdHRoaXMuc2V0dXBTeW5jSW50ZXJ2YWwoKTtcblx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmdzIHNhdmVkXCIpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBhY3RpdmF0ZVZpZXcoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgZXhpc3RpbmdWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShQTFVHSU5fUFJFRklYKTtcblx0XHRpZiAoZXhpc3RpbmdWaWV3Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuXHRcdFx0aWYgKGxlYWYpIHtcblx0XHRcdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuXHRcdFx0XHRcdHR5cGU6IFBMVUdJTl9QUkVGSVgsXG5cdFx0XHRcdFx0YWN0aXZlOiB0cnVlLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFBMVUdJTl9QUkVGSVgpWzBdLFxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBvbmxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdHNldEdsb2JhbExvZ2dlckNvbmZpZyh7XG5cdFx0XHRsZXZlbDogdGhpcy5zZXR0aW5ncy5sb2dMZXZlbCxcblx0XHRcdHNlcnZpY2VOYW1lOiBQTFVHSU5fTkFNRSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQ2xvdWRmbGFyZUFJU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxuXHRcdFx0UExVR0lOX1BSRUZJWCxcblx0XHRcdChsZWFmKSA9PlxuXHRcdFx0XHRuZXcgQ2hhdFZpZXcoXG5cdFx0XHRcdFx0bGVhZixcblx0XHRcdFx0XHR0aGlzLmFwcCxcblx0XHRcdFx0XHR0aGlzLmxvZ2dlcixcblx0XHRcdFx0XHR0aGlzLmdhdGV3YXksXG5cdFx0XHRcdFx0dGhpcy52ZWN0b3JpemUsXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcblx0XHRcdFx0XHR0aGlzLnN5bmNTZXJ2aWNlLFxuXHRcdFx0XHQpLFxuXHRcdCk7XG5cblx0XHR0aGlzLnNldHVwU3luY0ludGVydmFsKCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFwiZGVsZXRlZFwiLCBhc3luYyAoZmlsZSkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09IFwibWRcIikge1xuXHRcdFx0XHRcdFx0Y29uc3QgdmVjdG9ySWQgPSB0aGlzLnN5bmNTZXJ2aWNlLmNyZWF0ZVZlY3RvcklkKGZpbGUubmFtZSk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnZlY3Rvcml6ZS5kZWxldGVWZWN0b3JzQnlJZHMoW3ZlY3RvcklkXSk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHN5bmNQYXRoID0gYC5jbG91ZGZsYXJlLWFpL3N5bmMvJHt2ZWN0b3JJZH0uanNvbmA7XG5cdFx0XHRcdFx0XHRpZiAoYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoc3luY1BhdGgpKSB7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVtb3ZlKHN5bmNQYXRoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRGVsZXRlZCBmaWxlICR7ZmlsZS5wYXRofSBmcm9tIHRoZSB2ZWN0b3IgaW5kZXhgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoXG5cdFx0XHRcdFx0XHRcIkZhaWxlZCB0byByZW1vdmUgZGVsZXRlZCBmaWxlIGZyb20gdmVjdG9yIGluZGV4OlwiLFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXG5cdFx0XHRcdFx0XHRgRmFpbGVkIHRvIHJlbW92ZSBkZWxldGVkIGZpbGUgJHtcblx0XHRcdFx0XHRcdFx0ZmlsZS5wYXRoXG5cdFx0XHRcdFx0XHR9IGZyb20gdGhlIHZlY3RvciBpbmRleDogJHtcblx0XHRcdFx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG5cdFx0XHRcdFx0XHR9YCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHQpO1xuXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGhpcy5hZGRSaWJib25JY29uKFwibWVzc2FnZS1jaXJjbGVcIiwgXCJPcGVuIEFJIENoYXRcIiwgKCkgPT5cblx0XHRcdFx0XHR0aGlzLmFjdGl2YXRlVmlldygpLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMuc3luY1N0YXR1c0JhciA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVN5bmNTdGF0dXMoXCJSZWFkeVwiKTtcblxuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZU1hbmFnZXIgPSBuZXcgVGVtcGxhdGVNYW5hZ2VyKHRoaXMuYXBwLCB0aGlzLmxvZ2dlcik7XG5cdFx0XHRcdGF3YWl0IHRlbXBsYXRlTWFuYWdlci5sb2FkQ3VzdG9tVGVtcGxhdGVzKFxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuY3VzdG9tVGVtcGxhdGVzRm9sZGVyLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6IFwic3RhcnQtY2hhdFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiU3RhcnQgQ2hhdFwiLFxuXHRcdFx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdFx0XHRuZXcgQ2hhdE1vZGFsKFxuXHRcdFx0XHRcdFx0XHR0aGlzLmFwcCxcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIsXG5cdFx0XHRcdFx0XHRcdHRoaXMuZ2F0ZXdheSxcblx0XHRcdFx0XHRcdFx0dGhpcy52ZWN0b3JpemUsXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MsXG5cdFx0XHRcdFx0XHRcdHRoaXMuc3luY1NlcnZpY2UsXG5cdFx0XHRcdFx0XHQpLm9wZW4oKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcInN5bmMtbm90ZXNcIixcblx0XHRcdFx0XHRuYW1lOiBcIlN5bmMgTm90ZXNcIixcblx0XHRcdFx0XHRjYWxsYmFjazogKCkgPT4gdGhpcy5zeW5jTm90ZXMoKSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y29uc3QgdGV4dEdlbmVyYXRvciA9IG5ldyBUZXh0R2VuZXJhdGlvblNlcnZpY2UoXG5cdFx0XHRcdFx0dGhpcy5hcHAsXG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIsXG5cdFx0XHRcdFx0dGhpcy5nYXRld2F5LFxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MsXG5cdFx0XHRcdFx0dGVtcGxhdGVNYW5hZ2VyLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6IFwiY29udGludWUtd3JpdGluZ1wiLFxuXHRcdFx0XHRcdG5hbWU6IFwiQ29udGludWUgV3JpdGluZ1wiLFxuXHRcdFx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yKSA9PiB7XG5cdFx0XHRcdFx0XHR0ZXh0R2VuZXJhdG9yLmdlbmVyYXRlSW5FZGl0b3IoZWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlTmFtZTogXCJjb250aW51ZVwiLFxuXHRcdFx0XHRcdFx0XHRpbnNlcnRBdEN1cnNvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0YWRkTmV3bGluZTogdHJ1ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6IFwic3VtbWFyaXNlLXNlbGVjdGlvblwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiU3VtbWFyaXNlIFNlbGVjdGlvblwiLFxuXHRcdFx0XHRcdGVkaXRvckNoZWNrQ2FsbGJhY2s6IChjaGVja2luZywgZWRpdG9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBoYXNTZWxlY3Rpb24gPSBlZGl0b3Iuc29tZXRoaW5nU2VsZWN0ZWQoKTtcblx0XHRcdFx0XHRcdGlmIChjaGVja2luZykgcmV0dXJuIGhhc1NlbGVjdGlvbjtcblxuXHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZUluRWRpdG9yKGVkaXRvciwge1xuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZU5hbWU6IFwic3VtbWFyaXNlXCIsXG5cdFx0XHRcdFx0XHRcdHJlcGxhY2VTZWxlY3Rpb246IHRydWUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcImV4cGFuZC1zZWxlY3Rpb25cIixcblx0XHRcdFx0XHRuYW1lOiBcIkV4cGFuZCBTZWxlY3Rpb25cIixcblx0XHRcdFx0XHRlZGl0b3JDaGVja0NhbGxiYWNrOiAoY2hlY2tpbmcsIGVkaXRvcikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgaGFzU2VsZWN0aW9uID0gZWRpdG9yLnNvbWV0aGluZ1NlbGVjdGVkKCk7XG5cdFx0XHRcdFx0XHRpZiAoY2hlY2tpbmcpIHJldHVybiBoYXNTZWxlY3Rpb247XG5cblx0XHRcdFx0XHRcdHRleHRHZW5lcmF0b3IuZ2VuZXJhdGVJbkVkaXRvcihlZGl0b3IsIHtcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVOYW1lOiBcImV4cGFuZFwiLFxuXHRcdFx0XHRcdFx0XHRpbnNlcnRBdEN1cnNvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0YWRkTmV3bGluZTogdHJ1ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6IFwicmV3cml0ZS1zZWxlY3Rpb25cIixcblx0XHRcdFx0XHRuYW1lOiBcIlJld3JpdGUgU2VsZWN0aW9uXCIsXG5cdFx0XHRcdFx0ZWRpdG9yQ2hlY2tDYWxsYmFjazogKGNoZWNraW5nLCBlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGhhc1NlbGVjdGlvbiA9IGVkaXRvci5zb21ldGhpbmdTZWxlY3RlZCgpO1xuXHRcdFx0XHRcdFx0aWYgKGNoZWNraW5nKSByZXR1cm4gaGFzU2VsZWN0aW9uO1xuXG5cdFx0XHRcdFx0XHR0ZXh0R2VuZXJhdG9yLmdlbmVyYXRlSW5FZGl0b3IoZWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlTmFtZTogXCJyZXdyaXRlXCIsXG5cdFx0XHRcdFx0XHRcdHJlcGxhY2VTZWxlY3Rpb246IHRydWUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcInNpbXBsaWZ5LXNlbGVjdGlvblwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiU2ltcGxpZnkgU2VsZWN0aW9uXCIsXG5cdFx0XHRcdFx0ZWRpdG9yQ2hlY2tDYWxsYmFjazogKGNoZWNraW5nLCBlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGhhc1NlbGVjdGlvbiA9IGVkaXRvci5zb21ldGhpbmdTZWxlY3RlZCgpO1xuXHRcdFx0XHRcdFx0aWYgKGNoZWNraW5nKSByZXR1cm4gaGFzU2VsZWN0aW9uO1xuXG5cdFx0XHRcdFx0XHR0ZXh0R2VuZXJhdG9yLmdlbmVyYXRlSW5FZGl0b3IoZWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlTmFtZTogXCJzaW1wbGlmeVwiLFxuXHRcdFx0XHRcdFx0XHRyZXBsYWNlU2VsZWN0aW9uOiB0cnVlLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdFx0XHRpZDogXCJzdWdnZXN0LXRhZ3NcIixcblx0XHRcdFx0XHRuYW1lOiBcIlN1Z2dlc3QgVGFnc1wiLFxuXHRcdFx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yKSA9PiB7XG5cdFx0XHRcdFx0XHR0ZXh0R2VuZXJhdG9yLmdlbmVyYXRlSW5FZGl0b3IoZWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlTmFtZTogXCJzdWdnZXN0LXRhZ3NcIixcblx0XHRcdFx0XHRcdFx0cmVwbGFjZVNlbGVjdGlvbjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGFkZE5ld2xpbmU6IHRydWUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcImdlbmVyYXRlLXRpdGxlXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJHZW5lcmF0ZSBUaXRsZVwiLFxuXHRcdFx0XHRcdGVkaXRvckNhbGxiYWNrOiBhc3luYyAoZWRpdG9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0XHRcdGlmICghZmlsZSkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBjb250ZW50ID0gZWRpdG9yLmdldFZhbHVlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoXCJnZW5lcmF0ZS10aXRsZVwiKTtcblx0XHRcdFx0XHRcdFx0aWYgKCF0ZW1wbGF0ZSkge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRlIHRpdGxlIHRlbXBsYXRlIG5vdCBmb3VuZFwiKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGdlbmVyYXRlZFRpdGxlUmVxdWVzdCA9IGF3YWl0IHRoaXMuZ2F0ZXdheS5tYWtlUmVxdWVzdDx7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2U6IHN0cmluZztcblx0XHRcdFx0XHRcdFx0fT4oe1xuXHRcdFx0XHRcdFx0XHRcdG1vZGVsSWQ6IHRoaXMuc2V0dGluZ3MubW9kZWxJZCxcblx0XHRcdFx0XHRcdFx0XHRwcm9tcHQ6IGF3YWl0IHRlbXBsYXRlTWFuYWdlci5hcHBseVRlbXBsYXRlKHRlbXBsYXRlLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0ZXh0OiBjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRcdHNob3VsZFN0cmVhbTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0bWF4UmV0cmllczogMyxcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgZ2VuZXJhdGVkVGl0bGUgPSBnZW5lcmF0ZWRUaXRsZVJlcXVlc3QucmVzcG9uc2U7XG5cblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBnZW5lcmF0ZWRUaXRsZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRlZCB0aXRsZSBpcyBub3QgYSBzdHJpbmdcIik7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjb25zdCBzYW5pdGl6ZWRUaXRsZSA9IGdlbmVyYXRlZFRpdGxlXG5cdFx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL14jXFxzKy8sIFwiXCIpXG5cdFx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1tcXC9cXFxcOio/XCI8PnxdL2csIFwiXCIpXG5cdFx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1xccysvZywgXCItXCIpXG5cdFx0XHRcdFx0XHRcdFx0LnRyaW0oKVxuXHRcdFx0XHRcdFx0XHRcdC50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG5ld1BhdGggPSBmaWxlLnBhdGgucmVwbGFjZShcblx0XHRcdFx0XHRcdFx0XHRmaWxlLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0YCR7c2FuaXRpemVkVGl0bGV9LiR7ZmlsZS5leHRlbnNpb259YCxcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZpbGUsIG5ld1BhdGgpO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGaWxlIHJlbmFtZWQgdG86ICR7c2FuaXRpemVkVGl0bGV9YCk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSB0aXRsZSBhbmQgcmVuYW1lIGZpbGU6XCIsIHtcblx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRcdFx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHRpdGxlIGFuZCByZW5hbWUgZmlsZVwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcImdlbmVyYXRlLXRleHQtd2l0aC12YXJpYWJsZXNcIixcblx0XHRcdFx0XHRuYW1lOiBcIkdlbmVyYXRlIFRleHQgV2l0aCBWYXJpYWJsZXNcIixcblx0XHRcdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcikgPT4ge1xuXHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZVdpdGhNb2RhbChlZGl0b3IsIFwiZ2VuZXJhdGUtdGV4dFwiLCB7XG5cdFx0XHRcdFx0XHRcdGFkZE5ld2xpbmU6IHRydWUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcImJyYWluc3Rvcm1cIixcblx0XHRcdFx0XHRuYW1lOiBcIkJyYWluc3Rvcm1cIixcblx0XHRcdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcikgPT4ge1xuXHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZUluRWRpdG9yKGVkaXRvciwge1xuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZU5hbWU6IFwiYnJhaW5zdG9ybVwiLFxuXHRcdFx0XHRcdFx0XHRyZXBsYWNlU2VsZWN0aW9uOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0YWRkTmV3bGluZTogdHJ1ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnN0IG5vbkRlZmF1bHRUZW1wbGF0ZXMgPSBBcnJheS5mcm9tKFxuXHRcdFx0XHRcdHRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZXMoKSxcblx0XHRcdFx0KS5maWx0ZXIoKFtfLCB0ZW1wbGF0ZV0pID0+ICF0ZW1wbGF0ZS5kZWZhdWx0KTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IFtuYW1lLCB0ZW1wbGF0ZV0gb2Ygbm9uRGVmYXVsdFRlbXBsYXRlcykge1xuXHRcdFx0XHRcdGNvbnN0IGNvbW1hbmRJZCA9IGB0ZW1wbGF0ZS0ke25hbWV9YDtcblxuXHRcdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0XHRpZDogY29tbWFuZElkLFxuXHRcdFx0XHRcdFx0bmFtZTogdGVtcGxhdGUuZGVzY3JpcHRpb24gfHwgYEV4ZWN1dGUgdGVtcGxhdGU6ICR7dGVtcGxhdGUubmFtZX1gLFxuXHRcdFx0XHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHRlbXBsYXRlLnZhcmlhYmxlcz8ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZVdpdGhNb2RhbChlZGl0b3IsIHRlbXBsYXRlLm5hbWUsIHtcblx0XHRcdFx0XHRcdFx0XHRcdGFkZE5ld2xpbmU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZUluRWRpdG9yKGVkaXRvciwge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVOYW1lOiB0ZW1wbGF0ZS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVwbGFjZVNlbGVjdGlvbjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRhZGROZXdsaW5lOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJsb2FkZWRcIik7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBsb2FkIGNvbW1hbmRzXCIsIHtcblx0XHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdG9udW5sb2FkKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnN5bmNJbnRlcnZhbCkge1xuXHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5zeW5jSW50ZXJ2YWwpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5sb2dnZXIpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmRlc3Ryb3koKTtcblx0XHR9XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShQTFVHSU5fUFJFRklYKTtcblxuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKFwidW5sb2FkZWRcIik7XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZVN5bmNTdGF0dXMoc3RhdHVzOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnN5bmNTdGF0dXNCYXIuc2V0VGV4dChgQUkgU3luYzogJHtzdGF0dXN9YCk7XG5cdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJTeW5jIHN0YXR1cyB1cGRhdGVkXCIsIHsgc3RhdHVzIH0pO1xuXHR9XG5cblx0YXN5bmMgc3luY05vdGVzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN5bmNpbmcgbm90ZXNcIik7XG5cdFx0XHR0aGlzLnVwZGF0ZVN5bmNTdGF0dXMoXCJJbiBQcm9ncmVzcy4uLlwiKTtcblxuXHRcdFx0aWYgKCF0aGlzLnN5bmNTZXJ2aWNlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN5bmMgc2VydmljZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IHRoaXMuc3luY1NlcnZpY2Uuc3luYygpO1xuXG5cdFx0XHR0aGlzLnNldHRpbmdzLmxhc3RTeW5jVGltZSA9IERhdGUubm93KCk7XG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuXHRcdFx0dGhpcy51cGRhdGVTeW5jU3RhdHVzKGBDb21wbGV0ZSAoJHt0aW1lc3RhbXB9KWApO1xuXG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN5bmMgY29tcGxldGVcIiwgeyB0aW1lc3RhbXAgfSk7XG5cdFx0fSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiU3luYyBmYWlsZWRcIiwge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnVwZGF0ZVN5bmNTdGF0dXMoXCJGYWlsZWRcIik7XG5cdFx0XHRuZXcgTm90aWNlKFxuXHRcdFx0XHRgU3luYyBmYWlsZWQ6ICR7XG5cdFx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG5cdFx0XHRcdH1gLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJvYmZ1c2NhdGUiLCJzdHIiLCJQTFVHSU5fUFJFRklYIiwiUExVR0lOX05BTUUiLCJNb2RlbElkcyIsImRlZmF1bHRNb2RlbElkIiwiRW1iZWRkaW5nTW9kZWxJZHMiLCJkZWZhdWx0RW1iZWRkaW5nTW9kZWxJZCIsIkRFRkFVTFRfU0VUVElOR1MiLCJERUZBVUxUX1RFTVBMQVRFUyIsInNhZmVTdG9yYWdlIiwiX2IiLCJfYSIsInRleHQiLCJidWZmZXIiLCJERUZBVUxUX0xPR0dFUl9DT05GSUciLCJMb2dnZXJDb25maWdNYW5hZ2VyIiwibmV3Q29uZmlnIiwibGlzdGVuZXIiLCJsb2dnZXJDb25maWciLCJzZXRHbG9iYWxMb2dnZXJDb25maWciLCJjb25maWciLCJnZXRMb2dnZXJDb25maWciLCJDbG91ZGZsYXJlQUlTZXR0aW5nc1RhYiIsIlBsdWdpblNldHRpbmdUYWIiLCJhcHAiLCJwbHVnaW4iLCJjb250YWluZXJFbCIsIlNldHRpbmciLCJ2YWx1ZSIsIm5hbWUiLCJkZXNjIiwia2V5RmllbGQiLCJzYXZlZEZpZWxkIiwidGVtcG9yYXJ5S2V5Iiwic2V0VGVtcG9yYXJ5S2V5IiwiYXBpS2V5IiwiZGVjcnlwdGVkIiwiYnV0dG9uIiwiTm90aWNlIiwiZW5jcnlwdGVkIiwiZXJyb3IiLCJkcm9wZG93biIsIl8iLCJ0b2dnbGUiLCJmaWVsZCIsIm1pbiIsIm1heCIsImlzRmxvYXQiLCJwYXJzZWRWYWx1ZSIsIlNUQVRVU19URVhUUyIsImZldGNoV2l0aFJlcXVlc3RVcmwiLCJpbnB1dCIsImluaXQiLCJ1cmwiLCJvcHRpb25zIiwicmVxdWVzdFRvT2JqZWN0IiwicGFyYW1zIiwiaGVhZGVycyIsImNvbnRlbnRUeXBlIiwiaXNTdHJlYW1pbmciLCJyZXNwb25zZSIsInJlcXVlc3RVcmwiLCJjcmVhdGVGZXRjaFJlc3BvbnNlIiwidGhyb3dPbkVycm9yIiwib2siLCJiYXNlUmVzcG9uc2UiLCJsaW5lcyIsImxpbmVJbmRleCIsImVuY29kZXIiLCJzdHJlYW0iLCJjb250cm9sbGVyIiwicHVzaENodW5rIiwibGluZSIsInJlcXVlc3QiLCJib2R5IiwiZ2V0UmVxdWVzdEJvZHkiLCJBcGlFcnJvciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJQcm94eUVycm9yIiwiY2F1c2UiLCJQcm94eVNlcnZpY2UiLCJsb2dnZXIiLCJsYXN0RXJyb3IiLCJhdHRlbXB0IiwiZW5oYW5jZWRJbml0IiwidGltZW91dElkIiwibXMiLCJyZXNvbHZlIiwiQXBpU2VydmljZSIsImRhdGEiLCJyZWFkZXIiLCJpc0ZpcnN0IiwiYWNjdW11bGF0ZWRUZXh0IiwiZG9uZSIsImNodW5rIiwicHJvY2Vzc2VkQ2h1bmsiLCJyZXN1bHQiLCJwcm9jZXNzZWQiLCJjbGVhbkxpbmUiLCJwYXJzZWQiLCJCQVNFX0FJX0dBVEVXQVlfVVJMIiwiQ2xvdWRmbGFyZUFJR2F0ZXdheSIsImNsb3VkZmxhcmVBY2NvdW50SWQiLCJjbG91ZGZsYXJlQWlHYXRld2F5SWQiLCJjbG91ZGZsYXJlQWlBcGlLZXkiLCJtb2RlbElkIiwibWF4VG9rZW5zIiwidGVtcGVyYXR1cmUiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlcyIsInByb21wdCIsInNob3VsZFN0cmVhbSIsInR5cGUiLCJvblRva2VuIiwiQkFTRV9DTE9VREZMQVJFX0FQSV9VUkwiLCJfQ2xvdWRmbGFyZVZlY3Rvcml6ZSIsImFjY291bnRJZCIsImluZGV4TmFtZSIsImVuZHBvaW50IiwiaXRlbSIsIm1ldGhvZCIsInJldHJpZXMiLCJmb3JtYXR0ZWRCb2R5IiwiZmlyc3RFcnJvciIsInZlY3RvcnMiLCJmb3JtYXR0ZWRWZWN0b3JzIiwidmVjdG9yIiwicXVlcnkiLCJmaWx0ZXIiLCJhbGxvd2VkRmllbGRzIiwiYWxsb3dlZE9wZXJhdG9ycyIsImNvbmRpdGlvbiIsIm9wZXJhdG9ycyIsIm9wIiwiaWRzIiwiQ2xvdWRmbGFyZVZlY3Rvcml6ZSIsIkxvZ0xldmVsIiwiTG9nZ2VyIiwibWVyZ2VkQ29uZmlnIiwibGV2ZWwiLCJub3JtYWxpemVkTGV2ZWwiLCJsZXZlbE1hcCIsIm1ldGFkYXRhIiwicHJlZml4IiwibWV0YWRhdGFTdHIiLCJmb3JtYXR0ZWRNZXNzYWdlIiwiU3luY1NlcnZpY2UiLCJ2ZWN0b3JpemUiLCJnYXRld2F5IiwidGV4dEVtYmVkZGluZ3NNb2RlbElkIiwiaWdub3JlZEZvbGRlcnMiLCJmaWx0ZXJlZEZpbGVzIiwiZmlsZSIsImZpbGVzVG9TeW5jIiwidmVjdG9ySWQiLCJzeW5jU3RhdGUiLCJpIiwiYmF0Y2giLCJwYXRoIiwiZm9sZGVyIiwibm9ybWFsaXplZEZvbGRlciIsImNvbnRlbnQiLCJjaHVua3MiLCJjdXJyZW50Q2h1bmsiLCJhbGxWZWN0b3JzIiwic2VudGVuY2UiLCJfYyIsImNyZWF0ZWREYXRlIiwibW9kaWZpZWREYXRlIiwiaWQiLCJzeW5jRGlyIiwic3luY1BhdGgiLCJjdXJyZW50QmF0Y2giLCJ0b3RhbEJhdGNoZXMiLCJiYXRjaFJlc3VsdCIsImluZGV4IiwiQmFzZUNoYXQiLCJzZXR0aW5ncyIsInN5bmMiLCJlbWJlZGRpbmciLCJmaWx0ZXJzIiwic2VhcmNoUmVzdWx0cyIsInJlbGV2YW50TWF0Y2hlcyIsIm1hdGNoIiwiYSIsImIiLCJjb250ZXh0UHJvbWlzZXMiLCJURmlsZSIsImNvbnRleHRzIiwiY3R4IiwiZm9ybWF0dGVkQ29udGV4dCIsInNvdXJjZUxpbmtzIiwic3RyZWFtaW5nQ29udGVudCIsInVzZXJNZXNzYWdlIiwiYXNzaXN0YW50TWVzc2FnZSIsIm1zZyIsIm1lc3NhZ2VXaXRoQ29udGV4dCIsInRva2VuIiwiY29tcG9uZW50IiwidGFyZ2V0IiwiQ29tcG9uZW50Q2xhc3MiLCJtIiwibm9vcCIsImlkZW50aXR5IiwieCIsImFzc2lnbiIsInRhciIsInNyYyIsImsiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJpc19lbXB0eSIsIm9iaiIsImNyZWF0ZV9zbG90IiwiZGVmaW5pdGlvbiIsIiQkc2NvcGUiLCJzbG90X2N0eCIsImdldF9zbG90X2NvbnRleHQiLCJnZXRfc2xvdF9jaGFuZ2VzIiwiZGlydHkiLCJsZXRzIiwibWVyZ2VkIiwibGVuIiwidXBkYXRlX3Nsb3RfYmFzZSIsInNsb3QiLCJzbG90X2RlZmluaXRpb24iLCJzbG90X2NoYW5nZXMiLCJnZXRfc2xvdF9jb250ZXh0X2ZuIiwic2xvdF9jb250ZXh0IiwiZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlIiwibGVuZ3RoIiwic3BsaXRfY3NzX3VuaXQiLCJzcGxpdCIsImlzX2NsaWVudCIsIm5vdyIsInJhZiIsImNiIiwidGFza3MiLCJydW5fdGFza3MiLCJ0YXNrIiwibG9vcCIsImNhbGxiYWNrIiwiZnVsZmlsbCIsImFwcGVuZCIsIm5vZGUiLCJnZXRfcm9vdF9mb3Jfc3R5bGUiLCJyb290IiwiYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQiLCJzdHlsZV9lbGVtZW50IiwiZWxlbWVudCIsImFwcGVuZF9zdHlsZXNoZWV0Iiwic3R5bGUiLCJpbnNlcnQiLCJhbmNob3IiLCJkZXRhY2giLCJkZXN0cm95X2VhY2giLCJpdGVyYXRpb25zIiwiZGV0YWNoaW5nIiwic3ZnX2VsZW1lbnQiLCJzcGFjZSIsImVtcHR5IiwibGlzdGVuIiwiZXZlbnQiLCJoYW5kbGVyIiwiYXR0ciIsImF0dHJpYnV0ZSIsImNoaWxkcmVuIiwic2V0X2RhdGEiLCJzZXRfaW5wdXRfdmFsdWUiLCJjdXN0b21fZXZlbnQiLCJkZXRhaWwiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsIkh0bWxUYWciLCJpc19zdmciLCJfX3B1YmxpY0ZpZWxkIiwiaHRtbCIsIm1hbmFnZWRfc3R5bGVzIiwiYWN0aXZlIiwiaGFzaCIsImNyZWF0ZV9zdHlsZV9pbmZvcm1hdGlvbiIsImRvYyIsImluZm8iLCJjcmVhdGVfcnVsZSIsImR1cmF0aW9uIiwiZGVsYXkiLCJlYXNlIiwidWlkIiwic3RlcCIsImtleWZyYW1lcyIsInAiLCJ0IiwicnVsZSIsInN0eWxlc2hlZXQiLCJydWxlcyIsImFuaW1hdGlvbiIsImRlbGV0ZV9ydWxlIiwicHJldmlvdXMiLCJuZXh0IiwiYW5pbSIsImRlbGV0ZWQiLCJjbGVhcl9ydWxlcyIsIm93bmVyTm9kZSIsImN1cnJlbnRfY29tcG9uZW50Iiwic2V0X2N1cnJlbnRfY29tcG9uZW50IiwiZ2V0X2N1cnJlbnRfY29tcG9uZW50Iiwib25Nb3VudCIsImFmdGVyVXBkYXRlIiwiZGlydHlfY29tcG9uZW50cyIsImJpbmRpbmdfY2FsbGJhY2tzIiwicmVuZGVyX2NhbGxiYWNrcyIsImZsdXNoX2NhbGxiYWNrcyIsInJlc29sdmVkX3Byb21pc2UiLCJ1cGRhdGVfc2NoZWR1bGVkIiwic2NoZWR1bGVfdXBkYXRlIiwiZmx1c2giLCJhZGRfcmVuZGVyX2NhbGxiYWNrIiwic2Vlbl9jYWxsYmFja3MiLCJmbHVzaGlkeCIsInNhdmVkX2NvbXBvbmVudCIsInVwZGF0ZSIsIiQkIiwiZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyIsImZpbHRlcmVkIiwidGFyZ2V0cyIsImMiLCJwcm9taXNlIiwid2FpdCIsImRpc3BhdGNoIiwiZGlyZWN0aW9uIiwia2luZCIsIm91dHJvaW5nIiwib3V0cm9zIiwiZ3JvdXBfb3V0cm9zIiwiY2hlY2tfb3V0cm9zIiwidHJhbnNpdGlvbl9pbiIsImJsb2NrIiwibG9jYWwiLCJ0cmFuc2l0aW9uX291dCIsIm51bGxfdHJhbnNpdGlvbiIsImNyZWF0ZV9pbl90cmFuc2l0aW9uIiwicnVubmluZyIsImFuaW1hdGlvbl9uYW1lIiwiY2xlYW51cCIsImdvIiwiZWFzaW5nIiwibGluZWFyIiwidGljayIsImNzcyIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsInN0YXJ0ZWQiLCJjcmVhdGVfb3V0X3RyYW5zaXRpb24iLCJncm91cCIsIm9yaWdpbmFsX2luZXJ0X3ZhbHVlIiwicmVzZXQiLCJlbnN1cmVfYXJyYXlfbGlrZSIsImFycmF5X2xpa2Vfb3JfaXRlcmF0b3IiLCJvdXRyb19hbmRfZGVzdHJveV9ibG9jayIsImxvb2t1cCIsInVwZGF0ZV9rZXllZF9lYWNoIiwib2xkX2Jsb2NrcyIsImdldF9rZXkiLCJkeW5hbWljIiwibGlzdCIsImRlc3Ryb3kiLCJjcmVhdGVfZWFjaF9ibG9jayIsImdldF9jb250ZXh0IiwibyIsIm4iLCJvbGRfaW5kZXhlcyIsIm5ld19ibG9ja3MiLCJuZXdfbG9va3VwIiwiZGVsdGFzIiwidXBkYXRlcyIsImNoaWxkX2N0eCIsImtleSIsIndpbGxfbW92ZSIsImRpZF9tb3ZlIiwibmV3X2Jsb2NrIiwib2xkX2Jsb2NrIiwibmV3X2tleSIsIm9sZF9rZXkiLCJjcmVhdGVfY29tcG9uZW50IiwibW91bnRfY29tcG9uZW50IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImRlc3Ryb3lfY29tcG9uZW50IiwibWFrZV9kaXJ0eSIsImluc3RhbmNlIiwiY3JlYXRlX2ZyYWdtZW50Iiwibm90X2VxdWFsIiwicHJvcHMiLCJhcHBlbmRfc3R5bGVzIiwicGFyZW50X2NvbXBvbmVudCIsInJlYWR5IiwicmV0IiwicmVzdCIsIm5vZGVzIiwiU3ZlbHRlQ29tcG9uZW50IiwiY2FsbGJhY2tzIiwiUFVCTElDX1ZFUlNJT04iLCJjdWJpY091dCIsImYiLCJmYWRlIiwiZmx5IiwieSIsIm9wYWNpdHkiLCJ0YXJnZXRfb3BhY2l0eSIsInRyYW5zZm9ybSIsIm9kIiwieFZhbHVlIiwieFVuaXQiLCJ5VmFsdWUiLCJ5VW5pdCIsInUiLCJwYXJzZU1hcmtkb3duIiwibXV0ZWQiLCJjbGFzc05hbWVzIiwiZXNjYXBlSFRNTCIsImxpbmtDbGFzc05hbWUiLCJjb2RlQmxvY2tzIiwiY29kZSIsImlubGluZUNvZGUiLCJmaXJzdExpbmUiLCJoYXNMYW5nIiwibGFuZyIsInN2ZyIsInJlY3QiLCJwYXRoMCIsInBhdGgxIiwicGF0aDIiLCJwYXRoMyIsImRpdiIsImNyZWF0ZV9pZl9ibG9ja18xIiwic3BhbiIsInQwX3ZhbHVlIiwicmF3X3ZhbHVlIiwiaWZfYmxvY2siLCJjcmVhdGVfaWZfYmxvY2siLCJkaXY1IiwiZGl2NV9jbGFzc192YWx1ZSIsImRpdjQiLCJkaXYzIiwic3BhbjAiLCJkaXYyIiwiZGl2MCIsImRpdjEiLCJzcGFuMSIsImN1cnJlbnQiLCJ0MCIsImh0bWxfdGFnIiwiZGl2NV9pbnRybyIsImRpdjVfb3V0cm8iLCJjcmVhdGVfaWZfYmxvY2tfMiIsImVhY2hfdmFsdWUiLCJmdW5jIiwiJCRwcm9wcyIsIm9uQ29weU1lc3NhZ2UiLCJpc1Byb2Nlc3NpbmciLCJtZXNzYWdlc0NvbnRhaW5lciIsInVzZXJIYXNTY3JvbGxlZCIsImhhbmRsZVNjcm9sbCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsIiQkdmFsdWUiLCJwb2x5Z29uIiwiYnV0dG9uMCIsImJ1dHRvbjEiLCJmb3JtIiwiZGl2X2ludHJvIiwiZGl2X291dHJvIiwic2VsZWN0Iiwib3B0aW9uMCIsIm9wdGlvbjEiLCJzZWxlY3QwIiwic2VsZWN0MSIsIm9wdGlvbjIiLCJvcHRpb24zIiwiZWFjaF92YWx1ZV8yIiwiZnVuY18xIiwiZWFjaF92YWx1ZV8xIiwib3B0aW9uXzEiLCJsYWJlbCIsImNyZWF0ZV9pZl9ibG9ja18zIiwidGV4dGFyZWEiLCJ0MiIsInQyX3ZhbHVlIiwib25TZW5kTWVzc2FnZSIsIm9uQ2xlYXJNZXNzYWdlcyIsIm9uQ29weUNvbnZlcnNhdGlvbiIsImlucHV0VGV4dCIsInRleHRBcmVhIiwic2hvd0ZpbHRlcnMiLCJpbnB1dENvbnRhaW5lciIsImZpbHRlck9wdGlvbnMiLCJhZGp1c3RUZXh0QXJlYUhlaWdodCIsIiQkaW52YWxpZGF0ZSIsIm5ld0hlaWdodCIsImhhbmRsZVN1Ym1pdCIsIm1lc3NhZ2VUb1NlbmQiLCJoYW5kbGVLZXlEb3duIiwiZSIsImhhbmRsZUZvcm1DaGFuZ2UiLCJmb3JtRGF0YSIsIm9wdGlvbiIsImNsaWNrX2hhbmRsZXIiLCJDaGF0TW9kYWwiLCJNb2RhbCIsImFyZ3MiLCJDb25jcmV0ZUNoYXQiLCJjb250ZW50RWwiLCJDaGF0TW9kYWxDb21wb25lbnQiLCJDaGF0VmlldyIsIkl0ZW1WaWV3IiwibGVhZiIsImNvbnRhaW5lciIsIkNoYXRWaWV3Q29tcG9uZW50IiwiVGV4dEdlbmVyYXRvck1vZGFsIiwidGVtcGxhdGUiLCJ0aXRsZUVsIiwidmFyaWFibGUiLCJzZXR0aW5nIiwiYnRuIiwiZ2VuZXJhdGluZyIsImJ0bkVsIiwiVGV4dEdlbmVyYXRpb25TZXJ2aWNlIiwidGVtcGxhdGVNYW5hZ2VyIiwidmFyaWFibGVzIiwiZWRpdG9yIiwic2VsZWN0aW9uIiwiY3Vyc29yIiwibG9hZGluZ1RleHQiLCJsb2FkaW5nUG9zaXRpb24iLCJmcm9tIiwibG9hZGluZ0VuZFBvc2l0aW9uIiwidGVtcGxhdGVOYW1lIiwibW9kYWwiLCJUZW1wbGF0ZU1hbmFnZXIiLCJmaWxlcyIsImZyb250bWF0dGVyIiwicGFyc2VZYW1sIiwiQ2xvdWRmbGFyZUFJUGx1Z2luIiwiUGx1Z2luIiwiZW5jcnlwdGVkS2V5IiwiZGVjcnlwdGVkQWlBcGlLZXkiLCJkZWNyeXB0ZWRWZWN0b3JpemVBcGlLZXkiLCJ0ZXh0R2VuZXJhdG9yIiwiY2hlY2tpbmciLCJoYXNTZWxlY3Rpb24iLCJnZW5lcmF0ZWRUaXRsZSIsInNhbml0aXplZFRpdGxlIiwibmV3UGF0aCIsIm5vbkRlZmF1bHRUZW1wbGF0ZXMiLCJjb21tYW5kSWQiLCJ0aW1lc3RhbXAiXSwibWFwcGluZ3MiOiJxTkFBTyxTQUFTQSxHQUFVQyxFQUFxQixDQUM5QyxPQUFPQSxFQUFJLE9BQVMsRUFBSUEsRUFBSSxRQUFRLHFCQUFzQixVQUFVLEVBQUksRUFDekUsQ0NBTyxNQUFNQyxHQUFnQixnQkFDaEJDLEdBQWMsZ0JBRWYsSUFBQUMsSUFBQUEsSUFDWEEsRUFBQSxlQUFpQiwyQ0FDakJBLEVBQUEsU0FBVyxpQ0FDWEEsRUFBQSxTQUFXLGlDQUNYQSxFQUFBLFNBQVcsaUNBQ1hBLEVBQUEsYUFBZSxxQ0FDZkEsRUFBQSxjQUFnQixzQ0FDaEJBLEVBQUEsYUFBZSxxQ0FDZkEsRUFBQSxVQUFZLGtDQVJEQSxJQUFBQSxJQUFBLENBQUEsQ0FBQSxFQVdMLE1BQU1DLEdBQWlCLHNDQUVsQixJQUFBQyxJQUFBQSxJQUNYQSxFQUFBLFVBQVksNkJBQ1pBLEVBQUEsU0FBVyw0QkFDWEEsRUFBQSxVQUFZLDZCQUhEQSxJQUFBQSxJQUFBLENBQUEsQ0FBQSxFQU1MLE1BQU1DLEdBQTBCLDRC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RSxPQUFBQSxDQUFRLENBQUEsQ0FDcEQsQ0FFQSxNQUFNLFdBQTJCLENBQzVCLEdBQUEsQ0FJQyxHQUhDLEtBQUEsT0FBTyxNQUFNLGVBQWUsRUFDakMsS0FBSyxpQkFBaUIsZ0JBQWdCLEVBRWxDLENBQUMsS0FBSyxZQUNILE1BQUEsSUFBSSxNQUFNLDhCQUE4QixFQUd6QyxNQUFBLEtBQUssWUFBWSxPQUVsQixLQUFBLFNBQVMsYUFBZSxLQUFLLElBQUksRUFDdEMsTUFBTSxLQUFLLGVBRVgsTUFBTXVlLEVBQVksSUFBSSxLQUFLLEVBQUUsbUJBQW1CLEVBQzNDLEtBQUEsaUJBQWlCLGFBQWFBLENBQVMsR0FBRyxFQUUvQyxLQUFLLE9BQU8sTUFBTSxnQkFBaUIsQ0FBRSxVQUFBQSxDQUFXLENBQUEsUUFDeEM1Z0IsRUFBZ0IsQ0FDbkIsS0FBQSxPQUFPLE1BQU0sY0FBZSxDQUNoQyxNQUFPQSxhQUFpQixNQUFRQSxFQUFNLFFBQVUsT0FBT0EsQ0FBSyxFQUM1RCxNQUFPQSxhQUFpQixNQUFRQSxFQUFNLE1BQVEsTUFBQSxDQUM5QyxFQUNELEtBQUssaUJBQWlCLFFBQVEsRUFDMUIsSUFBQUYsRUFBQSxPQUNILGdCQUNDRSxhQUFpQixNQUFRQSxFQUFNLFFBQVUsT0FBT0EsQ0FBSyxDQUN0RCxFQUFBLENBRUYsQ0FDRCxDQUNEIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4XX0=
